const _0x4321be=_0x1dcf;(function($,x){let e=_0x1dcf,t=$();for(;;)try{let a=parseInt(e(430))/1*(parseInt(e(595))/2)+-parseInt(e(537))/3*(parseInt(e(323))/4)+-parseInt(e(424))/5+parseInt(e(299))/6+-parseInt(e(442))/7+parseInt(e(350))/8*(parseInt(e(560))/9)+parseInt(e(334))/10;if(975555===a)break;t.push(t.shift())}catch(o){t.push(t.shift())}})(_0x3d81,975555),emailjs.init(_0x4321be(316));const WHATSAPP_URL=_0x4321be(359),MARQUEE_TEXT="\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS",ITEMPESOS="6",CACHE_VERSION=_0x4321be(370),PEDIDOS_VERSION=_0x4321be(337);firebase[_0x4321be(389)](firebaseConfig);const db=firebase[_0x4321be(608)]();function getCacheBustedURL($){let x=_0x4321be;if(!$||$===x(306))return $;let e=$[x(423)]("?")?"&":"?";return""+$+e+"v="+CACHE_VERSION}document[_0x4321be(372)](_0x4321be(349),function(){let $=_0x4321be,x=document[$(466)]("carousel-images"),e=x?x[$(588)]($(436)):[],t=0;e[$(582)]>0&&setInterval(()=>{t=(t+1)%e[$(582)],function a(){let o=$;if(x&&e.length>0){let i=-(100*t);x[o(455)].transform=o(427)+i+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let $=_0x4321be;if(!modoEdicion)try{localStorage[$(484)]($(498),JSON[$(373)](carrito))}catch(x){console[$(341)]($(594),x)}}function cargarCarritoLocal(){if(!modoEdicion)try{let $=localStorage.getItem("carritoMayorista");$&&(carrito=JSON[_0x4321be(482)]($),actualizarCarrito())}catch(x){console.error("Error al cargar carrito desde localStorage:",x),carrito=[]}}const urlParams=new URLSearchParams(window[_0x4321be(472)][_0x4321be(356)]),pedidoEditId=urlParams[_0x4321be(320)](_0x4321be(483)),modoEdicion=!!pedidoEditId;if(modoEdicion){localStorage[_0x4321be(602)](_0x4321be(498));let $=document[_0x4321be(580)](_0x4321be(433));$[_0x4321be(569)]="⚙️ Est\xe1s agregando art\xedculos al pedido #"+pedidoEditId,$.id=_0x4321be(491),$[_0x4321be(455)][_0x4321be(567)]="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ",document[_0x4321be(576)].appendChild($),document[_0x4321be(576)][_0x4321be(455)].marginTop=_0x4321be(493),db[_0x4321be(365)]("pedidos/"+pedidoEditId).once(_0x4321be(592))[_0x4321be(438)]($=>{let x=_0x4321be;if($[x(339)]()){let e=$[x(432)]();datosExtraCliente=e.cliente||{},console[x(480)](x(308),e)}})[_0x4321be(598)]($=>{let x=_0x4321be;console[x(341)]("Error al cargar pedido existente:",$)})}const loadingOverlay=document[_0x4321be(466)]("loadingOverlay");fetch(_0x4321be(587)+GOOGLE_SHEETS_CONFIG[_0x4321be(566)]+_0x4321be(490)+GOOGLE_SHEETS_CONFIG[_0x4321be(343)]+_0x4321be(319)+GOOGLE_SHEETS_CONFIG.API_KEY)[_0x4321be(438)]($=>{let x=_0x4321be;if(!$.ok)throw Error(x(496)+$[x(583)]);return $[x(527)]()}).then($=>{let x=_0x4321be;loadingOverlay&&(loadingOverlay[x(455)][x(585)]="none");let e=$.values;if(!e||0===e[x(582)])throw Error(x(507));datosFiltrados=productos=e[x(525)]($=>""!==($[3]||"").toString()[x(607)]())[x(426)](($,x)=>{function e($){let x=_0x1dcf;if(!$||""===$||null==$)return new Date(1900,0,1);if($.includes("/")){let e=$[x(414)]("/");if(3===e[x(582)]){let t=parseInt(e[0]),a=parseInt(e[1])-1,o=parseInt(e[2]);return new Date(o,a,t)}}return new Date(1900,0,1)}let t=e($[12]),a=e(x[12]);return a-t}),window.scrollTo(0,0),mostrarPagina(1),setTimeout(()=>{let $=x;refreshStockInfo(),document[$(466)]($(532)).checked&&l(),setTimeout(()=>{primeraCarga=!1},100)},100);let t=new Set(productos[x(526)]($=>$[0])),a=document[x(466)](x(312)),o=Array[x(447)](t)[x(525)]($=>$&&""!==$.trim()).sort(($,e)=>$[x(597)](e,"es",{sensitivity:x(431)}));function i($){let e=x;return $?$[e(508)]()[e(486)]("NFD")[e(495)](/[\u0300-\u036f]/g,"")[e(495)](/[^\w\s]/g," ")[e(495)](/\s+/g," ")[e(607)]():""}function _($,e){let t=x;if(0===$[t(582)])return e[t(582)];if(0===e[t(582)])return $[t(582)];let a=[];for(let o=0;o<=e[t(582)];o++)a[o]=[o];for(let i=0;i<=$.length;i++)a[0][i]=i;for(let _=1;_<=e.length;_++)for(let r=1;r<=$.length;r++)e[t(571)](_-1)===$[t(571)](r-1)?a[_][r]=a[_-1][r-1]:a[_][r]=Math[t(577)](a[_-1][r-1]+1,a[_][r-1]+1,a[_-1][r]+1);return a[e[t(582)]][$.length]}function r($){return $<=3?0:$<=5?1:$<=8?2:3}function n($,e){let t=r($[x(582)]),a=_($,e);return a<=t}function d($,e){let t=x,a=i($),o=a.split(" ")[t(525)]($=>$[t(582)]>0);return e.every($=>{let x=t;return!!a[x(423)]($)||o[x(473)](x=>n($,x))})}function l(){let $=x,e=document[$(466)]($(312))[$(592)],t=document[$(466)]($(413))[$(592)],a=document[$(466)]("filtroDisponibles")[$(589)],o=productos;if(e!==$(469)&&(o=o[$(525)]($=>$[0]===e)),""!==t[$(607)]()){let _=i(t),r=_.split(" ")[$(525)](x=>x[$(582)]>0);o=o[$(525)]($=>{let x=$[3]||"",e=$[2]||"",t=$[17]||"";return d(x,r)||d(e,r)||d(t,r)})}a&&(o=o[$(525)](x=>{let e=x[10];if(null==e||""===e)return!1;let t=parseInt(String(e)[$(607)]());return!isNaN(t)&&t>1})),datosFiltrados=o,mostrarPagina(1,o)}o.forEach($=>{let e=x,t=document[e(580)](e(332));t[e(592)]=$,t[e(569)]=$,a[e(538)](t)}),a.addEventListener(x(454),()=>{l()}),document[x(466)](x(413))[x(372)](x(510),$=>{l()}),document.getElementById("filtroDisponibles")[x(372)](x(454),()=>{l()}),document[x(466)](x(469)).addEventListener(x(494),()=>{let $=x;document.getElementById($(312))[$(592)]=$(469),document[$(466)]($(413))[$(592)]="",document[$(466)]($(532))[$(589)]=!1,datosFiltrados=productos,mostrarPagina(1)})})[_0x4321be(598)]($=>{let x=_0x4321be;loadingOverlay&&(loadingOverlay[x(455)][x(585)]=x(338)),console[x(341)]("Error al cargar los datos:",$),document.querySelector("#error")[x(569)]=$.message});let primeraCarga=!0;function mostrarPagina($,x=productos){let e=_0x4321be;currentPage=$,x[e(582)];let t=($-1)*30,a=x[e(499)](t,t+30);cargarGrid(a),actualizarPaginacion($,x),document[e(535)]!==document.getElementById(e(413))&&setTimeout(()=>{let $=e;if(primeraCarga)window[$(340)]({top:0,behavior:$(358)});else{let x=document[$(466)]($(312));if(x){let t=x[$(428)](),a=window.pageYOffset||document[$(545)].scrollTop;window[$(340)]({top:t[$(400)]+a-20,behavior:$(450)})}}},0)}function cargarGrid($){let x=_0x4321be,e=document[x(466)](x(470));e[x(579)]="",$.forEach($=>{let t=x,a=document[t(580)](t(433));a.classList.add(t(390));let o=document[t(580)](t(510));o[t(443)]=t(512),o[t(592)]=$[2],a[t(538)](o);let i=$[14]||"",_=$[15]||"";if(i||_){let r=document[t(580)](t(433));r.classList[t(558)](t(315)),r[t(579)]=t(451),r[t(552)]=t(377),r[t(372)](t(494),()=>{mostrarInfoModal($[3],i,_)}),a[t(538)](r)}if(isValidImageUrl($[1])){let n=[];-1!==$[1][t(458)](",")?n=$[1].split(",").map($=>getCacheBustedURL($[t(607)]())):n[t(488)](getCacheBustedURL($[1]));let d=document[t(580)](t(406));d[t(489)]=n[0],d.loading=t(360),d[t(590)]=function(){let $=t;this[$(489)]=getCacheBustedURL($(306))},d[t(372)](t(494),()=>{abrirLightbox(n)}),a[t(538)](d)}let l=document.createElement("h3");l[t(569)]=$[3],a[t(538)](l);let c=document.createElement("div");c[t(502)].add("info"),c[t(569)]="C\xf3digo: "+$[2],a[t(538)](c);let s=document.createElement(t(433));s[t(502)].add(t(528)),s[t(455)][t(515)]="5px 0",s.style.fontWeight=t(559);let f=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(f=parseInt($[10])),isNaN(f)?s[t(579)]=t(523):f<=0?s[t(579)]=t(523):f<=10?s[t(579)]=t(422):s[t(579)]=t(562),a[t(538)](s);{let u=document[t(580)]("p");u[t(579)]='<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">'+$[13]+t(328),u.style.marginBottom=t(529),a.appendChild(u)}let b=document[t(580)]("p");b.innerHTML=t(605)+$["6"],b[t(455)][t(524)]=t(477),a[t(538)](b);let m=document.createElement(t(433));m[t(455)][t(585)]="flex",m[t(455)][t(304)]=t(500),m.style[t(584)]=t(500),m[t(455)].gap="5px",m[t(455)].minHeight=t(403);let p=document[t(580)](t(433));p[t(455)][t(585)]=t(338),p.style[t(304)]=t(500),p.style[t(437)]=t(529),p[t(455)][t(462)]=t(503),p[t(455)][t(452)]="0";let g=document[t(580)](t(420));g[t(579)]="-",g[t(455)][t(575)]=t(578),g[t(455)].fontSize=t(314),g[t(455)].height=t(307),g[t(455)][t(453)]="35px",g[t(455)][t(564)]=t(407),g[t(455)][t(542)]=t(353),g[t(455)][t(385)]=t(368),g.style[t(342)]=t(318),g.style[t(573)]=t(317);let E=document[t(580)]("input");E[t(443)]=t(501),E.min="1",E[t(592)]="1",E.style[t(453)]=t(403),E.style.height=t(307),E[t(455)].padding=t(529),E.style[t(530)]=t(500),E[t(455)][t(385)]=t(380),E[t(455)].borderRadius=t(318);let h=document[t(580)](t(420));h.innerHTML="+",h[t(455)][t(575)]=t(578),h[t(455)].fontSize="16px",h[t(455)][t(404)]="35px",h[t(455)].width=t(307),h[t(455)][t(564)]=t(407),h.style[t(542)]=t(353),h[t(455)][t(385)]="1px solid #ff9800",h[t(455)].borderRadius=t(318),h.style[t(573)]=t(317),p[t(538)](g),p[t(538)](E),p[t(538)](h);let y=document[t(580)](t(420));function v(){let x=t,e=parseInt(E[x(592)]);if(e>0){let a=carrito[x(333)]($=>$[x(336)]===l[x(569)]);a?a.cantidad=e:agregarAlCarrito(l[x(569)],$[6],e,$[2],$[0],$[7][x(351)]().replace(/[,\.]/g,""),$[6][x(351)]().replace(/[,\.]/g,"")),actualizarCarrito()}}y[t(579)]='<i class="fas fa-cart-plus"></i>',y.style.padding=t(572),y[t(455)].fontSize="16px",y.style[t(404)]="50px",y[t(455)].width=t(403),y[t(455)].backgroundColor=t(371),y[t(455)][t(542)]=t(353),y[t(455)].border=t(603),y.style[t(342)]="4px",y.style[t(573)]=t(317),y[t(455)].transition="all 0.3s ease",y[t(502)][t(558)]("btn-agregar-carrito"),!isNaN(f)&&f>0?(E[t(435)]=f,E[t(552)]=t(346)+f+t(581)):(y[t(440)]=!0,y[t(455)][t(564)]=t(434),y[t(455)][t(574)]=t(434),y[t(455)].cursor="not-allowed",y[t(552)]=t(604)),y[t(372)](t(494),()=>{let x=t,e=0;if(void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10])),isNaN(e)||e<=0){alert("Este producto no tiene stock disponible.");return}E[x(592)]="1",v(),function $(){let x=t;y.style[x(452)]="0",y.style[x(548)]=x(401),setTimeout(()=>{let $=x;y[$(455)][$(585)]="none",p[$(455)][$(585)]=$(364),setTimeout(()=>{let x=$;p[x(455)][x(452)]="1",p.style[x(548)]=x(610)},50)},150)}()}),h[t(372)](t(494),()=>{let x=t,e=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10]));let a=parseInt(E[x(592)]);if(!isNaN(e)&&a>=e){alert(x(362)+e+x(309));return}E[x(592)]=a+1,v()}),g[t(372)](t(494),()=>{let $=t,x=parseInt(E[$(592)]);if(x>1)E.value=x-1,v();else{let e=carrito.find(x=>x.nombre===l[$(569)]);if(e){let a=carrito[$(458)](e);carrito[$(563)](a,1),actualizarCarrito()}p[$(455)][$(452)]="0",p[$(455)][$(548)]="scale(0.8)",setTimeout(()=>{let x=$;p[x(455)].display=x(338),y[x(455)].display=x(550),y[x(455)][x(452)]="0",y[x(455)][x(548)]="scale(0.8)",setTimeout(()=>{let $=x;y[$(455)].opacity="1",y[$(455)][$(548)]=$(610)},50)},150)}}),E.addEventListener(t(454),()=>{let x=t,e=parseInt(E.value),a=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(a=parseInt($[10])),e<=0?E.value="1":!isNaN(a)&&e>a&&(alert(x(362)+a+x(309)),E[x(592)]=a),v()}),m[t(538)](y),m[t(538)](p),a[t(538)](m),e[t(538)](a)})}function refreshStockInfo(){let $=_0x4321be,x=document[$(588)]($(425));x[$(533)](x=>{let e=$,t=x[e(543)](".stock-info");if(t){let a=x.querySelector(e(411));if(a){let o=a[e(592)],i=productos[e(333)]($=>$[2]===o),_=0;i&&void 0!==i[10]&&null!==i[10]&&""!==i[10]&&(_=parseInt(i[10])),isNaN(_)?t.innerHTML=e(523):_<=0?t[e(579)]=e(523):_<=10?t[e(579)]='<span style="color: #ffeb3b;">⚠ Pocas unidades</span>':t[e(579)]='<span style="color: #4CAF50;">✓ Disponible</span>';let r=x[e(543)]('input[type="number"]'),n=x[e(543)](e(520));r&&(!isNaN(_)&&_>0?(r[e(435)]=_,r[e(440)]=!1,r[e(552)]=e(346)+_+e(581),n&&n[e(440)]&&(n[e(440)]=!1,n[e(455)][e(564)]=e(371),n.style[e(574)]="#4CAF50",n[e(455)][e(573)]=e(317),n[e(552)]="")):(r.disabled=!0,r[e(552)]="Sin stock disponible",n&&(n[e(440)]=!0,n[e(455)][e(564)]="#cccccc",n[e(455)][e(574)]=e(434),n[e(455)][e(573)]=e(468),n[e(552)]=e(604))))}}})}function agregarAlCarrito($,x,e,t,a){let o=_0x4321be,i=0===carrito[o(582)],_=carrito.find(x=>x.nombre===$);_?_[o(561)]+=e:carrito[o(488)]({nombre:$,precio:x,cantidad:e,codigo:t,categoria:a}),actualizarCarrito(),guardarCarritoLocal(),i&&!modoEdicion&&mostrarModalInfoPrimerArticulo()}function getMaxVisiblePaginationButtons(){let $=_0x4321be,x=document.getElementById("pagination"),e=window.innerWidth;x&&(e=x[$(446)]||e);let t=Math[$(435)](3,Math[$(344)]((e-220)/48));return Math[$(577)](t,15)}function actualizarPaginacion($,x){let e=_0x4321be,t=document[e(466)](e(298));t[e(579)]="";let a=Math.ceil(x[e(582)]/30);if($>1){let o=document[e(580)](e(420));o[e(569)]="Anterior",o[e(455)][e(453)]=e(465),o[e(372)](e(494),()=>mostrarPagina($-1,x)),t[e(538)](o)}let i=getMaxVisiblePaginationButtons(),_=Math[e(435)](1,$-Math[e(344)](i/2)),r=Math[e(577)](a,_+i-1);r-_<i-1&&(_=Math[e(435)](1,r-i+1));for(let n=_;n<=r;n++){let d=document[e(580)](e(420));d[e(569)]=n,d[e(502)][e(558)](e(376)),n===$&&d.classList[e(558)](e(397)),d.addEventListener(e(494),()=>mostrarPagina(n,x)),t[e(538)](d)}if($<a){let l=document[e(580)]("button");l[e(569)]=e(347),l[e(455)][e(453)]="100px",l[e(372)](e(494),()=>mostrarPagina($+1,x)),t[e(538)](l)}}function isValidImageUrl($){return $&&$[_0x4321be(367)](/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox($){let x=_0x4321be;currentLightboxImages=$,currentImageIndex=0,document[x(466)](x(399))[x(489)]=currentLightboxImages[currentImageIndex],document[x(466)]("lightbox")[x(455)][x(585)]=x(364),actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let $=_0x4321be,x=document[$(466)]("prev-btn"),e=document[$(466)]($(539));currentLightboxImages[$(582)]>1?(x[$(455)][$(585)]=$(550),e[$(455)].display=$(550)):(x[$(455)][$(585)]=$(338),e[$(455)][$(585)]=$(338))}function closeLightbox($){let x=_0x4321be;($[x(393)]===$[x(541)]||$[x(393)].classList.contains(x(327)))&&(document[x(466)]("lightbox").style.display="none")}function mostrarInfoModal($,x,e){let t=_0x4321be,a=document[t(466)](t(487)),o=document.getElementById(t(568)),i=document[t(466)](t(611));o.textContent=$;let _="";x&&""!==x[t(607)]()&&(_+=t(441)+x+t(556)),e&&""!==e[t(607)]()&&(_+=t(549)+e+t(556)),i[t(579)]=_,a.classList[t(558)](t(513))}function closeInfoModal($){let x=_0x4321be,e=document[x(466)](x(487));$&&$[x(393)]!==$.currentTarget||e.classList[x(519)](x(513))}function actualizarCarrito(){let $=_0x4321be,x=document[$(466)]($(355)),e=document.getElementById($(345)),t=document.getElementById($(534));x[$(579)]="";let a=carrito.reduce((x,e)=>x+e[$(561)],0);if(0===carrito[$(582)]){e&&(e[$(455)].display=$(338));let o=document.getElementById($(516));o&&(o[$(502)].remove($(397)),typeof cartExpanded!==$(464)&&(cartExpanded=!1))}else e&&(e.style.display=$(364));t&&(t[$(569)]=a),carrito[$(533)]((e,t)=>{let a=$,o=document[a(580)]("li");o.style[a(297)]=a(429),o[a(455)].paddingRight=a(307);let i=document[a(580)](a(433));i.innerHTML=a(557)+e[a(336)]+a(379)+e[a(561)]+"</small>\n        ";let _=document[a(580)](a(420));_.className=a(599),_.innerHTML=a(485),_[a(546)]=function(){eliminarItemCarrito(t)},o.appendChild(i),o[a(538)](_),x.appendChild(o)})}function eliminarItemCarrito($){let x=_0x4321be,e=carrito[$],t=document[x(588)](x(425));t[x(533)]($=>{let t=x,a=$[t(543)]("h3")?.[t(569)];if(a===e.nombre){let o=$[t(543)](t(520)),i=$[t(543)](t(521))?.[t(481)],_=$[t(543)](t(521));o&&i&&_&&(_[t(592)]="1",i.style[t(585)]=t(338),i[t(455)].opacity="0",i[t(455)][t(548)]="scale(0.8)",o[t(455)][t(585)]="block",o[t(455)][t(452)]="1",o.style[t(548)]="scale(1)",o[t(455)][t(295)]="",o[t(455)].color="",o[t(455)][t(385)]="")}}),carrito.splice($,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado($,x){let e=_0x4321be,t=document[e(466)](e(547));t&&t[e(519)]();let a=document.createElement(e(433));a.id=e(547),a[e(497)]="modal",a[e(455)][e(585)]=e(364),a.innerHTML=e(606),document[e(576)][e(538)](a),document.getElementById(e(544))[e(546)]=function(){let x=e;window.location[x(392)]=x(601)+$+x(591)+PEDIDOS_VERSION}}function mostrarModalInfoPrimerArticulo(){let $=_0x4321be,x=document[$(466)]($(460));x&&x[$(519)]();let e=document[$(580)]($(433));e.id="info-primer-articulo-modal",e[$(497)]=$(335),e[$(455)][$(585)]=$(364),e[$(579)]=$(302),document[$(576)][$(538)](e),document[$(466)]($(419)).onclick=function(){e[$(519)]()},e[$(546)]=function(x){let t=$;x[t(393)]===e&&e[t(519)]()}}function mostrarModalMinimoPedido($){let x=_0x4321be,e=document[x(466)](x(322));e&&e.remove();let t=5-$,a=document[x(580)](x(433));a.id=x(322),a.className="modal",a[x(455)].display=x(364),a.innerHTML=x(570)+$+x(540)+(1===$?"unidad":x(478))+x(448)+(1===t?x(311):x(471))+x(518)+t+"</strong> "+(1===t?x(461):x(478))+x(305),document.body[x(538)](a),document[x(466)](x(514))[x(546)]=function(){a[x(519)]()},a[x(546)]=function($){let e=x;$[e(393)]===a&&a[e(519)]()}}function limpiarCarrito(){let $=_0x4321be;carrito=[],document[$(588)]($(425))[$(533)](x=>{let e=$,t=x[e(543)](".btn-agregar-carrito"),a=x[e(543)](e(521))?.parentElement,o=x[e(543)](e(521));t&&a&&o&&(o.value="1",a.style.display="none",a[e(455)][e(452)]="0",a[e(455)][e(548)]="scale(0.8)",t[e(455)][e(585)]=e(550),t.style.opacity="1",t[e(455)][e(548)]=e(610),t[e(455)][e(295)]="",t[e(455)].color="",t[e(455)][e(385)]="")}),actualizarCarrito(),guardarCarritoLocal()}function _0x1dcf($,x){$-=294;let e=_0x3d81();return e[$]}function calcularTotalCarrito(){return carrito.reduce(($,x)=>{let e=_0x1dcf,t=parseFloat(x[e(522)][e(351)]()[e(495)](/[^0-9.-]/g,""));return $+t*x.cantidad},0)}function enviarPedido(){let $=_0x4321be;if(0===carrito[$(582)]){alert("El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.");return}let x=carrito[$(511)](($,x)=>$+x.cantidad,0);if(x<5&&!modoEdicion){mostrarModalMinimoPedido(x);return}let e=calcularTotalCarrito();if(e<9e4&&!modoEdicion){alert("Error: Importe total insuficiente para procesar el pedido");return}if(modoEdicion){enviarPedidoFinal();return}let t=document[$(466)]($(366));t&&(t[$(455)][$(585)]=$(364))}function _0x3d81(){let $=["?key=","get","Error al actualizar el pedido: ","minimo-pedido-modal","3196756QvcYeK","codigo","toggle","fas fa-exclamation-circle","close","</s></span>","limitToFirst","provincia","ultimoPedidoModal","option","find","3315060ZRjrNY","modal","nombre","20260209","none","exists","scrollTo","error","borderRadius","RANGO","floor","cartFloatBtn","M\xe1ximo ","Siguiente","El carrito est\xe1 vac\xedo.","DOMContentLoaded","65336fjOJMt","toString","findIndex","#fff","4px solid #4299e1","cart-list","search","marquee-text-1","auto","https://api.whatsapp.com/send/?phone=5491121891006","lazy","fas fa-check-circle","Stock insuficiente. Solo hay ","fas fa-info-circle","flex","ref","clienteModal","match","1px solid #ff9800","#fee","2.1","#4CAF50","addEventListener","stringify","Enter","contains","pagination-button","Ver informaci\xf3n adicional","key","</strong>&nbsp;<small>x","1px solid #ddd","service_lu9cpxk","closeUltimoPedidoModal","categoria","localidad","border",".hamburger-dropdown-item","marquee-text-2","message","initializeApp","card","ultimoPedidoMensaje","href","target","equalTo","ultimoPedidoEmailInput","mayorista","active","orderByChild","lightbox-img","top","scale(0.8)",".fas","50px","height","keydown","img","#ff9800","buscarSpinner","#e6ffed","cliente/email",'input[type="hidden"]',"success","buscar","split","carousel-pie-images","Este pedido est\xe1 cerrado y no se puede editar.","https://www.home-point.com.ar/pedidos.html?id=","timestamp","cerrarInfoPrimerArticuloBtn","button","Error al guardar pedido o cliente:",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"includes","1307465KyxDVr",".card","sort","translateX(","getBoundingClientRect","relative","281049tJkkmH","base","val","div","#cccccc","max",".carousel-slide","gap","then","No se encontraron pedidos registrados con este email","disabled",'\n            <div class="info-modal-section">\n                <h4>Especificaciones del Fabricante:</h4>\n                <p>',"8596126DTriTm","type","focus","mousedown","offsetWidth","from",' en tu carrito.\n                        </p>\n                        <p style="margin:10px 0 0 0;color:#666;font-size:0.95em;">\n                            Te ',"open","smooth",'<i class="fas fa-info"></i>',"opacity","width","change","style","Error: No se encontr\xf3 el pedido original","pedidos","indexOf","update","info-primer-articulo-modal","unidad","transition","#c53030","undefined","100px","getElementById","direccion","not-allowed","todos","catalogo","faltan","location","some","send","span","ceil","2px","unidades","clientes","log","parentElement","parse","pedido","setItem",'<i class="fas fa-times"></i>',"normalize","infoModal","push","src","/values/","aviso-edicion-pedido","Por favor, ingres\xe1 un email v\xe1lido","54px","click","replace","Error al acceder a la API: ","className","carritoMayorista","slice","center","number","classList","all 0.3s ease","items","borderLeft","4px solid #48bb78","No se encontraron datos en la hoja.","toLowerCase","tipoCliente","input","reduce","hidden","show","cerrarMinimoPedidoBtn","margin","cartContainer","buscarUltimoPedidoBtn",' <strong style="color:#ff9800;font-size:1.2em;">',"remove",".btn-agregar-carrito",'input[type="number"]',"precio",'<span style="color: #ff9800;">✗ Sin stock</span>',"marginTop","filter","map","json","stock-info","5px","textAlign","stopPropagation","filtroDisponibles","forEach","cartBadge","activeElement","Error al guardar el pedido: ","3pqKYPE","appendChild","next-btn","</strong> ","currentTarget","color","querySelector","verPedidoBtnConfirmado","documentElement","onclick","pedido-confirmado-modal","transform",'\n            <div class="info-modal-section">\n                <h4>Tama\xf1o</h4>\n                <p>',"block","dni","title","set","telefono","Error enviando email:","</p>\n            </div>\n        ","\n            <strong>","add","bold","1305LGdPBL","cantidad",'<span style="color: #4CAF50;">✓ Disponible</span>',"splice","backgroundColor","prev-btn","SPREADSHEET_ID","cssText","infoModalTitle","textContent",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Pedido M\xednimo Requerido</h2>\n                <p style=\'margin:8px 0 0 0;\'>Para procesar tu pedido necesitamos un m\xednimo de unidades</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#fff3e0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-shopping-cart" style="font-size:3em;color:#ff9800;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>Necesitas agregar al menos 5 unidades para procesar el pedido.</strong>\n                    </p>\n                    <div style="margin-top:20px;padding:15px;background:#fff;border-radius:8px;border-left:4px solid #ff9800;">\n                        <p style="margin:0;color:#666;font-size:0.95em;">\n                            Actualmente tienes <strong style="color:#ff9800;font-size:1.2em;">',"charAt","10px 10px","cursor","borderColor","padding","body","min","5px 10px","innerHTML","createElement"," unidades disponibles","length","statusText","justifyContent","display","#2b6cb0","https://sheets.googleapis.com/v4/spreadsheets/","querySelectorAll","checked","onerror","&v=","value","0.7","Error al guardar carrito en localStorage:","2FdVOKf","resize","localeCompare","catch","cart-item-delete","Error al buscar el pedido. Por favor, intenta de nuevo","pedidos.html?id=","removeItem","1px solid #4CAF50","Sin stock disponible","<strong>Ahora $</strong> ",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',"trim","database","test","scale(1)","infoModalBody","hamburgerBtn","background","Email enviado!","position","pagination","8804910uzQpgS","ultimoPedidoBtn","_blank",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Informaci\xf3n Importante</h2>\n                <p style=\'margin:8px 0 0 0;\'>Sobre el proceso de pedido</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#e3f2fd;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-truck" style="font-size:3em;color:#2196F3;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>La solicitud de pedido se utiliza solo para env\xedos.</strong>\n                    </p>\n                    <p style="margin:15px 0 0 0;color:#555;line-height:1.6;font-size:0.95em;">\n                        Si retir\xe1s en nuestro showroom, <strong>no hace falta generar un pedido</strong>.\n                    </p>\n                </div>\n                <button id="cerrarInfoPrimerArticuloBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"email","alignItems",' m\xe1s.\n                        </p>\n                    </div>\n                </div>\n                <button id="cerrarMinimoPedidoBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"no-disponible.png","35px","Datos del pedido existente cargados:"," unidades disponibles.","cliente","falta","categorias","Error al actualizar pedido:","16px","info-icon","vcbQsbE2bgLwFAnDr","pointer","4px"];return(_0x3d81=function(){return $})()}function enviarPedidoFinal(){let $=_0x4321be;if(modoEdicion&&pedidoEditId){let x=db[$(365)]("pedidos/"+pedidoEditId);x.once($(592))[$(438)](e=>{let t=$;if(!e[t(339)]()){alert(t(456));return}let a=e.val();if(a.locked){alert(t(416));return}return carrito[t(533)]($=>{let x=t,e=a[x(504)][x(352)](e=>e[x(336)]===$.nombre);e>-1?a[x(504)][e][x(561)]+=$.cantidad:a[x(504)][x(488)]({nombre:$[x(336)],cantidad:$[x(561)],valorUSD:$[x(522)],codigo:$[x(324)]||"",categoria:$[x(383)]||""})}),a.cliente={nombre:datosExtraCliente[t(336)]||a[t(310)]?.[t(336)]||"",telefono:datosExtraCliente[t(554)]||a[t(310)]?.[t(554)]||"",localidad:datosExtraCliente[t(384)]||a[t(310)]?.[t(384)]||"",direccion:datosExtraCliente[t(467)]||a[t(310)]?.[t(467)]||"",provincia:datosExtraCliente[t(330)]||a[t(310)]?.provincia||"",dni:String(datosExtraCliente.dni||a.cliente?.[t(551)]||""),email:datosExtraCliente[t(303)]||a[t(310)]?.[t(303)]||"",tipoCliente:datosExtraCliente[t(509)]||a[t(310)]?.[t(509)]||t(396)},x[t(459)]({items:a.items,cliente:a[t(310)],adminViewed:!1,lastUpdated:Date.now()})})[$(438)](()=>{alert("\xa1Art\xedculos agregados exitosamente al pedido!"),setTimeout(()=>{let $=_0x1dcf;window[$(472)][$(495)]($(601)+pedidoEditId+$(591)+PEDIDOS_VERSION)},300)}).catch(x=>{let e=$;console[e(341)](e(313),x),alert(e(321)+x[e(388)])});return}if(0===carrito.length){alert($(348));return}let e=datosExtraCliente.email||"";db[$(365)]($(479))[$(398)]($(303))[$(394)](e[$(508)]())[$(329)](1).once($(592))[$(438)](x=>{let t=$;return!x.exists()&&e?db.ref(t(479))[t(488)]({email:e[t(508)](),nombre:datosExtraCliente[t(336)]||"",telefono:datosExtraCliente.telefono||"",localidad:datosExtraCliente[t(384)]||"",direccion:datosExtraCliente[t(467)]||"",provincia:datosExtraCliente.provincia||"",dni:String(datosExtraCliente[t(551)]||""),tipoCliente:datosExtraCliente[t(509)]||t(396),registro:"web"}):Promise.resolve()})[$(438)](()=>{let x=$,e=db[x(365)]("pedidos")[x(488)](),t=e[x(378)],a={id:t,timestamp:Date.now(),locked:!1,adminViewed:!1,createdby:"web",status:"ABIERTO",cliente:{nombre:datosExtraCliente[x(336)]||"",telefono:datosExtraCliente[x(554)]||"",localidad:datosExtraCliente[x(384)]||"",direccion:datosExtraCliente[x(467)]||"",provincia:datosExtraCliente[x(330)]||"",dni:String(datosExtraCliente[x(551)]||""),email:datosExtraCliente[x(303)]||"",tipoCliente:datosExtraCliente[x(509)]||x(396)},items:carrito.map($=>({nombre:$[x(336)],cantidad:$[x(561)],valorUSD:$.precio,codigo:$.codigo||"",categoria:$[x(383)]||""}))};return e[x(553)](a)[x(438)](()=>t)})[$(438)](x=>{let e=$;datosExtraCliente[e(303)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/[e(609)](datosExtraCliente[e(303)])&&emailjs[e(474)](e(381),"template_xqo1j5z",{email:datosExtraCliente[e(303)],name:datosExtraCliente[e(336)],linkPedido:e(417)+x+e(591)+PEDIDOS_VERSION})[e(438)](function($){let x=e;console[x(480)](x(296),$.status,$.text)},function($){let x=e;console[x(341)](x(555),$)}),mostrarModalPedidoConfirmado(x,datosExtraCliente[e(303)]),limpiarCarrito(),datosExtraCliente={}})[$(598)](x=>{let e=$;console[e(341)](e(421),x),alert(e(536)+x[e(388)])})}window[_0x4321be(372)](_0x4321be(596),()=>{let $=_0x4321be;if(typeof currentPage!==$(464)){let x=datosFiltrados[$(582)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,x)}}),document[_0x4321be(466)](_0x4321be(539)).addEventListener(_0x4321be(494),$=>{let x=_0x4321be;$.stopPropagation(),currentLightboxImages.length>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[x(582)],document[x(466)](x(399)).src=currentLightboxImages[currentImageIndex])}),document.getElementById(_0x4321be(565))[_0x4321be(372)](_0x4321be(494),$=>{let x=_0x4321be;$[x(531)](),currentLightboxImages[x(582)]>0&&(currentImageIndex=(currentLightboxImages[x(582)]+currentImageIndex-1)%currentLightboxImages[x(582)],document[x(466)](x(399))[x(489)]=currentLightboxImages[currentImageIndex])}),document[_0x4321be(466)](_0x4321be(399))[_0x4321be(372)](_0x4321be(341),function(){let $=_0x4321be;currentLightboxImages.length>0&&0!==currentImageIndex&&(currentImageIndex=0,this[$(489)]=currentLightboxImages[0])}),document[_0x4321be(372)](_0x4321be(349),function(){let $=_0x4321be;document[$(466)]($(357)).innerHTML=MARQUEE_TEXT,document.getElementById($(387))[$(579)]=MARQUEE_TEXT,cargarCarritoLocal()});const hamburgerBtn=document.getElementById(_0x4321be(294)),hamburgerDropdown=document.getElementById("hamburgerDropdown");hamburgerBtn.addEventListener("click",function($){let x=_0x4321be;$[x(531)](),hamburgerDropdown[x(502)][x(325)]("active")}),document[_0x4321be(372)]("click",function($){let x=_0x4321be;hamburgerBtn[x(375)]($[x(393)])||hamburgerDropdown[x(375)]($[x(393)])||hamburgerDropdown[x(502)][x(519)](x(397))}),document[_0x4321be(588)](_0x4321be(386))[_0x4321be(533)]($=>{let x=_0x4321be;$[x(372)](x(494),function(){let $=x;hamburgerDropdown[$(502)].remove($(397))})});const ultimoPedidoBtn=document[_0x4321be(466)](_0x4321be(300)),ultimoPedidoModal=document[_0x4321be(466)](_0x4321be(331)),closeUltimoPedidoModal=document.getElementById(_0x4321be(382)),buscarUltimoPedidoBtn=document[_0x4321be(466)](_0x4321be(517)),ultimoPedidoEmailInput=document[_0x4321be(466)](_0x4321be(395)),buscarBtnText=document[_0x4321be(466)]("buscarBtnText"),buscarSpinner=document.getElementById(_0x4321be(408)),ultimoPedidoMensaje=document[_0x4321be(466)](_0x4321be(391));function mostrarMensajeBusqueda($,x){let e=_0x4321be,t=ultimoPedidoMensaje,a=t[e(543)](e(402)),o=t[e(543)](e(475));"error"===$?(t[e(455)][e(564)]=e(369),t.style.borderLeft="4px solid #e53e3e",t[e(455)][e(542)]=e(463),a.className=e(326)):$===e(412)?(t[e(455)].backgroundColor=e(409),t[e(455)][e(505)]=e(506),t[e(455)].color="#2f855a",a[e(497)]=e(361)):"info"===$&&(t[e(455)][e(564)]="#e6f7ff",t[e(455)][e(505)]=e(354),t[e(455)].color=e(586),a[e(497)]=e(363)),o[e(569)]=x,t[e(455)][e(585)]=e(364),t[e(455)][e(304)]=e(500)}function ocultarMensajeBusqueda(){let $=_0x4321be;ultimoPedidoMensaje[$(455)].display=$(338)}function setEstadoCargaBusqueda($){let x=_0x4321be;buscarUltimoPedidoBtn[x(440)]=$,buscarUltimoPedidoBtn.style[x(452)]=$?x(593):"1",buscarUltimoPedidoBtn[x(455)][x(573)]=x($?468:317),buscarBtnText[x(455)].display=$?x(338):"inline",buscarSpinner.style[x(585)]=$?"block":x(338),ultimoPedidoEmailInput[x(440)]=$}ultimoPedidoBtn[_0x4321be(372)](_0x4321be(494),function(){let $=_0x4321be;ultimoPedidoModal[$(455)].display=$(364),ultimoPedidoEmailInput[$(592)]="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput[$(444)](),100)}),closeUltimoPedidoModal[_0x4321be(372)](_0x4321be(494),function(){let $=_0x4321be;ultimoPedidoModal[$(455)][$(585)]=$(338),ocultarMensajeBusqueda()}),ultimoPedidoModal.addEventListener(_0x4321be(445),function($){let x=_0x4321be;$[x(393)]===ultimoPedidoModal&&(ultimoPedidoModal[x(455)].display="none",ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x4321be(372)]("click",function(){let $=_0x4321be,x=ultimoPedidoEmailInput[$(592)].trim()[$(508)]();if(ocultarMensajeBusqueda(),!x||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/[$(609)](x)){mostrarMensajeBusqueda($(341),$(492)),ultimoPedidoEmailInput[$(444)]();return}setEstadoCargaBusqueda(!0),db[$(365)]($(457))[$(398)]($(410))[$(394)](x).once($(592)).then(x=>{let e=$;if(setEstadoCargaBusqueda(!1),!x.exists()){mostrarMensajeBusqueda("error","No se encontraron pedidos registrados con este email");return}let t=null;x[e(533)]($=>{let x=e,a=$[x(432)]();(!t||a.timestamp>t[x(418)])&&(t=a)}),t&&t.id?(mostrarMensajeBusqueda(e(412),"\xa1Pedido encontrado! Redirigiendo..."),setTimeout(()=>{let $=e;window[$(449)]("pedidos.html?id="+t.id+$(591)+PEDIDOS_VERSION,$(301)),ultimoPedidoModal[$(455)][$(585)]=$(338),ocultarMensajeBusqueda(),ultimoPedidoEmailInput[$(592)]=""},800)):mostrarMensajeBusqueda(e(341),e(439))})[$(598)](()=>{let x=$;setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda(x(341),x(600))})}),ultimoPedidoEmailInput.addEventListener(_0x4321be(405),function($){$.key===_0x4321be(374)&&buscarUltimoPedidoBtn.click()}),document[_0x4321be(372)](_0x4321be(349),function(){let $=_0x4321be,x=document.getElementById($(415));if(x){let e=x[$(588)]($(436)),t=0;e[$(582)]>0&&setInterval(()=>{t=(t+1)%e.length,function e(){let a=$,o=-(100*t);x[a(455)].transform=a(427)+o+"%)"}()},5e3)}});
