const _0x377fac=_0x4b9c;(function(x,$){let e=_0x4b9c,a=x();for(;;)try{let t=parseInt(e(353))/1+parseInt(e(584))/2*(parseInt(e(316))/3)+-parseInt(e(565))/4*(parseInt(e(588))/5)+parseInt(e(531))/6*(-parseInt(e(296))/7)+-parseInt(e(443))/8*(parseInt(e(566))/9)+parseInt(e(471))/10+parseInt(e(388))/11;if(154983===t)break;a.push(a.shift())}catch(o){a.push(a.shift())}})(_0x26c3,154983),emailjs.init(_0x377fac(436));const WHATSAPP_URL="https://api.whatsapp.com/send/?phone=5491121891006",MARQUEE_TEXT=_0x377fac(344),ITEMPESOS="6";firebase[_0x377fac(301)](firebaseConfig);const db=firebase.database();document.addEventListener(_0x377fac(317),function(){let x=_0x377fac,$=document[x(586)](x(364)),e=$?$.querySelectorAll(x(375)):[],a=0;e.length>0&&setInterval(()=>{a=(a+1)%e[x(573)],function t(){let o=x;if($&&e.length>0){let i=-(100*a);$.style[o(492)]="translateX("+i+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let x=_0x377fac;if(!modoEdicion)try{localStorage[x(410)](x(459),JSON.stringify(carrito))}catch($){console[x(547)](x(426),$)}}function cargarCarritoLocal(){let x=_0x377fac;if(!modoEdicion)try{let $=localStorage.getItem(x(459));$&&(carrito=JSON[x(409)]($),actualizarCarrito())}catch(e){console[x(547)](x(313),e),carrito=[]}}const urlParams=new URLSearchParams(window[_0x377fac(360)][_0x377fac(462)]),pedidoEditId=urlParams[_0x377fac(552)](_0x377fac(382)),modoEdicion=!!pedidoEditId;if(modoEdicion){localStorage[_0x377fac(308)](_0x377fac(459));let x=document[_0x377fac(571)](_0x377fac(341));x.textContent=_0x377fac(487)+pedidoEditId,x.id="aviso-edicion-pedido",x[_0x377fac(490)][_0x377fac(351)]=_0x377fac(396),document[_0x377fac(442)][_0x377fac(539)](x),document[_0x377fac(442)][_0x377fac(490)][_0x377fac(520)]="54px",db.ref("pedidos/"+pedidoEditId).once(_0x377fac(397))[_0x377fac(417)](x=>{let $=_0x377fac;if(x.exists()){let e=x.val();datosExtraCliente=e[$(438)]||{},console.log($(515),e)}}).catch(x=>{let $=_0x377fac;console[$(547)]($(424),x)})}const loadingOverlay=document[_0x377fac(586)]("loadingOverlay");fetch(_0x377fac(512)+GOOGLE_SHEETS_CONFIG[_0x377fac(416)]+_0x377fac(489)+GOOGLE_SHEETS_CONFIG[_0x377fac(441)]+_0x377fac(414)+GOOGLE_SHEETS_CONFIG[_0x377fac(455)]).then(x=>{let $=_0x377fac;if(!x.ok)throw Error($(457)+x.statusText);return x[$(545)]()})[_0x377fac(417)](x=>{let $=_0x377fac;loadingOverlay&&(loadingOverlay[$(490)][$(453)]=$(383));let e=x.values;if(!e||0===e[$(573)])throw Error($(434));datosFiltrados=productos=e[$(568)](x=>x[4][$(467)]()!==$(323)).sort((x,$)=>{function e(x){let $=_0x4b9c;if(!x||""===x||null==x)return new Date(1900,0,1);if(x[$(582)]("/")){let e=x[$(437)]("/");if(3===e[$(573)]){let a=parseInt(e[0]),t=parseInt(e[1])-1,o=parseInt(e[2]);return new Date(o,t,a)}}return new Date(1900,0,1)}let a=e(x[12]),t=e($[12]);return t-a}),window[$(513)](0,0),mostrarPagina(1),setTimeout(()=>{let x=$;refreshStockInfo(),document[x(586)]("filtroDisponibles")[x(324)]&&i(),setTimeout(()=>{primeraCarga=!1},100)},100);let a=new Set(productos[$(529)](x=>x[0])),t=document[$(586)]($(370)),o=Array[$(546)](a)[$(568)](x=>x&&""!==x[$(371)]())[$(314)]((x,$)=>x.localeCompare($,"es",{sensitivity:"base"}));function i(){let x=$,e=document[x(586)]("categorias")[x(397)],a=document.getElementById(x(376)).value[x(467)](),t=document[x(586)](x(553))[x(324)],o=productos;e!==x(454)&&(o=o[x(568)](x=>x[0]===e)),""!==a[x(371)]()&&(o=o[x(568)]($=>$[3].toLowerCase()[x(582)](a)||$[2].toLowerCase().includes(a)||$[17]&&$[17][x(467)]()[x(582)](a))),t&&(o=o[x(568)]($=>{let e=$[10];if(null==e||""===e)return!1;let a=parseInt(String(e)[x(371)]());return!isNaN(a)&&a>1})),datosFiltrados=o,mostrarPagina(1,o)}o.forEach(x=>{let e=$,a=document[e(571)](e(358));a[e(397)]=x,a[e(325)]=x,t[e(539)](a)}),t[$(591)]($(329),()=>{i()}),document[$(586)]($(376)).addEventListener($(528),x=>{i()}),document[$(586)]($(553))[$(591)]($(329),()=>{i()}),document.getElementById($(454))[$(591)]("click",()=>{let x=$;document[x(586)]("categorias")[x(397)]=x(454),document[x(586)](x(376))[x(397)]="",document[x(586)](x(553))[x(324)]=!1,datosFiltrados=productos,mostrarPagina(1)})}).catch(x=>{let $=_0x377fac;loadingOverlay&&(loadingOverlay[$(490)][$(453)]="none"),console[$(547)]($(380),x),document.querySelector($(319))[$(325)]=x[$(421)]});let primeraCarga=!0;function mostrarPagina(x,$=productos){let e=_0x377fac;currentPage=x,$[e(573)];let a=(x-1)*30,t=$.slice(a,a+30);cargarGrid(t),actualizarPaginacion(x,$),document.activeElement!==document.getElementById(e(376))&&setTimeout(()=>{let x=e;if(primeraCarga)window[x(513)]({top:0,behavior:x(460)});else{let $=document[x(586)]("categorias");if($){let a=$[x(549)](),t=window[x(330)]||document[x(367)].scrollTop;window[x(513)]({top:a[x(576)]+t-20,behavior:x(570)})}}},0)}function cargarGrid(x){let $=_0x377fac,e=document[$(586)]($(485));e[$(343)]="",x[$(493)](x=>{let a=$,t=document.createElement(a(341));t.classList.add(a(423));let o=document.createElement(a(528));o[a(500)]=a(585),o.value=x[2],t[a(539)](o);let i=x[14]||"",_=x[15]||"";if(i||_){let r=document[a(571)](a(341));r.classList.add(a(349)),r[a(343)]=a(456),r.title=a(445),r.addEventListener(a(508),()=>{mostrarInfoModal(x[3],i,_)}),t.appendChild(r)}if(isValidImageUrl(x[1])){let n=[];-1!==x[1][a(540)](",")?n=x[1][a(437)](",")[a(529)](x=>x[a(371)]()):n[a(543)](x[1]);let d=document[a(571)]("img");d[a(464)]=n[0],d[a(468)]="lazy",d[a(338)]=function(){let x=a;this[x(464)]=x(348)},d[a(591)](a(508),()=>{abrirLightbox(n)}),t[a(539)](d)}let c=document.createElement("h3");c[a(325)]=x[3],t.appendChild(c);let l=document[a(571)](a(341));l[a(478)][a(581)]("info"),l[a(325)]=a(368)+x[2],t[a(539)](l);let s=document[a(571)](a(341));s[a(478)][a(581)]("stock-info"),s.style[a(521)]=a(595),s[a(490)].fontWeight=a(386);let f=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(f=parseInt(x[10])),isNaN(f)?s.innerHTML=a(412):f<=1?s.innerHTML=a(412):f<=10?s.innerHTML=a(525):s[a(343)]=a(446),t[a(539)](s);{let u=document[a(571)]("p");u.innerHTML=a(408)+x[13]+a(519),u[a(490)][a(554)]="5px",t[a(539)](u)}let m=document[a(571)]("p");m[a(343)]=a(590)+x["6"],m[a(490)][a(520)]="2px",t[a(539)](m);let b=document[a(571)](a(341));b[a(490)].display=a(322),b.style[a(401)]="center",b[a(490)].justifyContent=a(527),b[a(490)][a(466)]=a(504),b[a(490)].minHeight=a(448);let p=document[a(571)](a(341));p[a(490)].display=a(383),p[a(490)].alignItems="center",p[a(490)][a(466)]=a(504),p[a(490)].transition="all 0.3s ease",p[a(490)][a(548)]="0";let g=document[a(571)](a(447));g[a(343)]="-",g[a(490)].padding=a(378),g.style.fontSize=a(337),g[a(490)].height=a(461),g.style.width=a(461),g.style[a(511)]=a(312),g[a(490)][a(303)]="#fff",g.style[a(463)]="1px solid #ff9800",g[a(490)].borderRadius=a(474),g[a(490)].cursor=a(458);let E=document[a(571)]("input");E[a(500)]=a(583),E.min="1",E.value="1",E[a(490)].width=a(448),E.style[a(517)]=a(461),E[a(490)][a(560)]=a(504),E.style.textAlign=a(527),E[a(490)][a(463)]="1px solid #ddd",E[a(490)][a(569)]=a(474);let h=document[a(571)](a(447));h[a(343)]="+",h[a(490)].padding=a(378),h[a(490)].fontSize=a(337),h[a(490)].height=a(461),h[a(490)][a(331)]=a(461),h[a(490)][a(511)]=a(312),h.style[a(303)]=a(390),h.style[a(463)]="1px solid #ff9800",h[a(490)][a(569)]=a(474),h[a(490)][a(320)]=a(458),p[a(539)](g),p[a(539)](E),p[a(539)](h);let y=document[a(571)](a(447));function C(){let $=a,e=parseInt(E[$(397)]);if(e>0){let t=carrito[$(384)](x=>x[$(356)]===c[$(325)]);t?t[$(530)]=e:agregarAlCarrito(c.textContent,x[6],e,x[2],x[0],x[7].toString()[$(563)](/[,\.]/g,""),x[6][$(299)]()[$(563)](/[,\.]/g,"")),actualizarCarrito()}}y.innerHTML='<i class="fas fa-cart-plus"></i>',y[a(490)][a(560)]="10px 10px",y[a(490)].fontSize=a(337),y.style[a(517)]=a(448),y[a(490)][a(331)]="50px",y[a(490)][a(511)]=a(398),y[a(490)].color="#fff",y[a(490)][a(463)]=a(587),y.style[a(569)]=a(474),y.style[a(320)]=a(458),y[a(490)].transition=a(597),y[a(478)][a(581)](a(298)),!isNaN(f)&&f>0?(E[a(544)]=f,E.title=a(372)+f+" unidades disponibles"):(y.disabled=!0,y[a(490)].backgroundColor=a(352),y[a(490)][a(579)]=a(352),y[a(490)][a(320)]="not-allowed",y.title=a(406)),y.addEventListener(a(508),()=>{let $=a,e=0;if(void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(e=parseInt(x[10])),isNaN(e)||e<=0){alert("Este producto no tiene stock disponible.");return}E[$(397)]="1",C(),function x(){let $=a;y[$(490)][$(548)]="0",y[$(490)][$(492)]=$(451),setTimeout(()=>{let x=$;y[x(490)][x(453)]=x(383),p.style[x(453)]=x(322),setTimeout(()=>{let $=x;p.style[$(548)]="1",p.style[$(492)]=$(391)},50)},150)}()}),h[a(591)](a(508),()=>{let $=a,e=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(e=parseInt(x[10]));let t=parseInt(E[$(397)]);if(!isNaN(e)&&t>=e){alert($(425)+e+$(477));return}E[$(397)]=t+1,C()}),g[a(591)]("click",()=>{let x=a,$=parseInt(E[x(397)]);if($>1)E[x(397)]=$-1,C();else{let e=carrito[x(384)]($=>$.nombre===c[x(325)]);if(e){let t=carrito[x(540)](e);carrito[x(418)](t,1),actualizarCarrito()}p[x(490)][x(548)]="0",p[x(490)][x(492)]=x(451),setTimeout(()=>{let $=x;p[$(490)][$(453)]=$(383),y[$(490)].display=$(534),y[$(490)][$(548)]="0",y[$(490)][$(492)]=$(451),setTimeout(()=>{let x=$;y[x(490)].opacity="1",y.style[x(492)]=x(391)},50)},150)}}),E.addEventListener(a(329),()=>{let $=a,e=parseInt(E[$(397)]),t=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(t=parseInt(x[10])),e<=0?E[$(397)]="1":!isNaN(t)&&e>t&&(alert($(425)+t+$(477)),E[$(397)]=t),C()}),b[a(539)](y),b.appendChild(p),t[a(539)](b),e[a(539)](t)})}function refreshStockInfo(){let x=_0x377fac,$=document.querySelectorAll(x(381));$[x(493)]($=>{let e=x,a=$[e(476)](".stock-info");if(a){let t=$[e(476)](e(596));if(t){let o=t[e(397)],i=productos[e(384)](x=>x[2]===o),_=0;i&&void 0!==i[10]&&null!==i[10]&&""!==i[10]&&(_=parseInt(i[10])),isNaN(_)?a[e(343)]='<span style="color: #ff9800;">✗ Sin stock</span>':_<=1?a[e(343)]='<span style="color: #ff9800;">✗ Sin stock</span>':_<=10?a[e(343)]=e(525):a[e(343)]=e(446);let r=$[e(476)]('input[type="number"]'),n=$[e(476)](e(506));r&&(!isNaN(_)&&_>0?(r[e(544)]=_,r[e(362)]=!1,r[e(483)]="M\xe1ximo "+_+" unidades disponibles",n&&n[e(362)]&&(n[e(362)]=!1,n[e(490)][e(511)]="#4CAF50",n.style.borderColor=e(398),n[e(490)].cursor=e(458),n[e(483)]="")):(r[e(362)]=!0,r[e(483)]=e(406),n&&(n[e(362)]=!0,n.style[e(511)]=e(352),n[e(490)][e(579)]=e(352),n[e(490)][e(320)]="not-allowed",n[e(483)]="Sin stock disponible")))}}})}function agregarAlCarrito(x,$,e,a,t){let o=_0x377fac,i=carrito.find($=>$.nombre===x);i?i[o(530)]+=e:carrito[o(543)]({nombre:x,precio:$,cantidad:e,codigo:a,categoria:t}),actualizarCarrito(),guardarCarritoLocal()}function getMaxVisiblePaginationButtons(){let x=_0x377fac,$=document[x(586)](x(357)),e=window[x(480)];$&&(e=$[x(334)]||e);let a=Math[x(544)](3,Math.floor((e-220)/48));return Math[x(501)](a,15)}function _0x26c3(){let x=["direccion","message","Error al buscar el pedido. Por favor, intenta de nuevo","card","Error al cargar pedido existente:","Stock insuficiente. Solo hay ","Error al guardar carrito en localStorage:","open","buscarSpinner","limitToFirst","hamburgerDropdown","https://www.home-point.com.ar/pedidos.html?id=","timestamp","Por favor, ingres\xe1 un email v\xe1lido","No se encontraron datos en la hoja.","100px","vcbQsbE2bgLwFAnDr","split","cliente","mousedown","stopPropagation","RANGO","body","112GLvzlD","</small>\n        ","Ver informaci\xf3n adicional",'<span style="color: #4CAF50;">✓ Disponible</span>',"button","50px","set","contains","scale(0.8)","Siguiente","display","todos","API_KEY",'<i class="fas fa-info"></i>',"Error al acceder a la API: ","pointer","carritoMayorista","auto","35px","search","border","src","href","gap","toLowerCase","loading","localidad","fas fa-check-circle","820970zZdWbT","resolve","service_lu9cpxk","4px","log","querySelector"," unidades disponibles.","classList","borderLeft","innerWidth","cartFloatBtn","_blank","title","test","catalogo","items","⚙️ Est\xe1s agregando art\xedculos al pedido #","lightbox-img","/values/","style","verPedidoBtnConfirmado","transform","forEach","tipoCliente","background","parentElement","inline",'\n            <div class="info-modal-section">\n                <h4>Tama\xf1o</h4>\n                <p>',"findIndex","type","min","</strong>&nbsp;<small>x","precio","5px",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',".btn-agregar-carrito","val","click","exists",'\n            <div class="info-modal-section">\n                <h4>Especificaciones del Fabricante:</h4>\n                <p>',"backgroundColor","https://sheets.googleapis.com/v4/spreadsheets/","scrollTo","text","Datos del pedido existente cargados:","codigo","height","categoria","</s></span>","marginTop","margin","email","onclick","span",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"pedidos.html?id=","center","input","map","cantidad","6VDETPj","once","target","block","floor","4px solid #e53e3e","infoModalTitle","className","appendChild","indexOf","4px solid #4299e1","Enter","push","max","json","from","error","opacity","getBoundingClientRect","translateX(","marquee-text-1","get","filtroDisponibles","marginBottom","Error: No se encontr\xf3 el pedido original","No se encontraron pedidos registrados con este email","remove","Anterior","0.7","padding","next-btn","active","replace","success","4aSyOoS","155079NJyNHa","telefono","filter","borderRadius","smooth","createElement","\xa1Art\xedculos agregados exitosamente al pedido!","length","</p>\n            </div>\n        ","fas fa-info-circle","top","position","equalTo","borderColor","status","add","includes","number","342982THQOVI","hidden","getElementById","1px solid #4CAF50","1543215mNgDdo","cart-list","<strong>Ahora $</strong> ","addEventListener","buscarBtnText","fas fa-exclamation-circle","Error al actualizar pedido:","5px 0",'input[type="hidden"]',"all 0.3s ease","undefined","33404UFGjsD","match","btn-agregar-carrito","toString","Error al guardar pedido o cliente:","initializeApp","buscarUltimoPedidoBtn","color","cart-item-delete","closeUltimoPedidoModal","lightbox","ultimoPedidoBtn","removeItem","#fee","querySelectorAll","pagination-button","#ff9800","Error al cargar carrito desde localStorage:","sort","infoModalBody","3IZRByd","DOMContentLoaded","send","#error","cursor","infoModal","flex","no disponible","checked","textContent","show","provincia","cartBadge","change","pageYOffset","width","#e6ffed","ABIERTO","offsetWidth","modal","Error enviando email:","16px","onerror","clienteModal","ultimoPedidoEmailInput","div","clientes","innerHTML","\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS",".fas","paddingRight","toggle","no-disponible.png","info-icon","resize","cssText","#cccccc","179431oFEyqv","info","locked","nombre","pagination","option",'input[type="number"]',"location","ceil","disabled","marquee-text-2","carousel-images","focus","relative","documentElement","C\xf3digo: ","template_xqo1j5z","categorias","trim","M\xe1ximo ","#2f855a","key",".carousel-slide","buscar","ref","5px 10px","pedido-confirmado-modal","Error al cargar los datos:",".card","pedido","none","find","now","bold","cliente/email","3042743QxLzLk","currentTarget","#fff","scale(1)","Error al guardar el pedido: ","not-allowed","keydown","update","\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ","value","#4CAF50","ultimoPedidoMensaje","pedidos/","alignItems","4px solid #48bb78","#2b6cb0","pedidos","ultimoPedidoModal","Sin stock disponible","dni",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">',"parse","setItem","orderByChild",'<span style="color: #ff9800;">✗ Sin stock</span>',"prev-btn","?key=","mayorista","SPREADSHEET_ID","then","splice","catch"];return(_0x26c3=function(){return x})()}function actualizarPaginacion(x,$){let e=_0x377fac,a=document[e(586)](e(357));a[e(343)]="";let t=Math.ceil($[e(573)]/30);if(x>1){let o=document[e(571)](e(447));o[e(325)]=e(558),o[e(490)][e(331)]=e(435),o.addEventListener(e(508),()=>mostrarPagina(x-1,$)),a.appendChild(o)}let i=getMaxVisiblePaginationButtons(),_=Math[e(544)](1,x-Math[e(535)](i/2)),r=Math[e(501)](t,_+i-1);r-_<i-1&&(_=Math[e(544)](1,r-i+1));for(let n=_;n<=r;n++){let d=document[e(571)]("button");d[e(325)]=n,d[e(478)][e(581)](e(311)),n===x&&d[e(478)][e(581)](e(562)),d[e(591)](e(508),()=>mostrarPagina(n,$)),a[e(539)](d)}if(x<t){let c=document[e(571)](e(447));c[e(325)]=e(452),c.style[e(331)]="100px",c.addEventListener(e(508),()=>mostrarPagina(x+1,$)),a[e(539)](c)}}function isValidImageUrl(x){return x&&x[_0x377fac(297)](/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox(x){let $=_0x377fac;currentLightboxImages=x,currentImageIndex=0,document[$(586)]($(488)).src=currentLightboxImages[currentImageIndex],document[$(586)]($(306)).style[$(453)]="flex",actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let x=_0x377fac,$=document[x(586)](x(413)),e=document.getElementById(x(561));currentLightboxImages[x(573)]>1?($[x(490)][x(453)]="block",e[x(490)].display=x(534)):($[x(490)][x(453)]="none",e[x(490)][x(453)]=x(383))}function closeLightbox(x){let $=_0x377fac;(x[$(533)]===x[$(389)]||x[$(533)].classList[$(450)]("close"))&&(document[$(586)]("lightbox")[$(490)][$(453)]="none")}function mostrarInfoModal(x,$,e){let a=_0x377fac,t=document[a(586)]("infoModal"),o=document.getElementById(a(537)),i=document[a(586)](a(315));o.textContent=x;let _="";$&&""!==$[a(371)]()&&(_+=a(510)+$+a(574)),e&&""!==e.trim()&&(_+=a(498)+e+a(574)),i[a(343)]=_,t[a(478)][a(581)](a(326))}function closeInfoModal(x){let $=_0x377fac,e=document[$(586)]($(321));x&&x[$(533)]!==x.currentTarget||e.classList.remove("show")}function actualizarCarrito(){let x=_0x377fac,$=document[x(586)](x(589)),e=document[x(586)](x(481)),a=document[x(586)](x(328));$[x(343)]="";let t=carrito.reduce(($,e)=>$+e[x(530)],0);if(0===carrito[x(573)]){e&&(e[x(490)].display=x(383));let o=document[x(586)]("cartContainer");o&&(o[x(478)].remove(x(562)),typeof cartExpanded!==x(598)&&(cartExpanded=!1))}else e&&(e[x(490)][x(453)]="flex");a&&(a[x(325)]=t),carrito[x(493)]((e,a)=>{let t=x,o=document.createElement("li");o[t(490)][t(577)]=t(366),o[t(490)][t(346)]=t(461);let i=document[t(571)](t(341));i[t(343)]="\n            <strong>"+e[t(356)]+t(502)+e[t(530)]+t(444);let _=document[t(571)](t(447));_[t(538)]=t(304),_[t(343)]='<i class="fas fa-times"></i>',_[t(523)]=function(){eliminarItemCarrito(a)},o.appendChild(i),o.appendChild(_),$[t(539)](o)})}function eliminarItemCarrito(x){let $=_0x377fac,e=carrito[x],a=document[$(310)]($(381));a.forEach(x=>{let a=$,t=x[a(476)]("h3")?.[a(325)];if(t===e[a(356)]){let o=x[a(476)](a(506)),i=x[a(476)]('input[type="number"]')?.[a(496)],_=x.querySelector(a(359));o&&i&&_&&(_.value="1",i[a(490)][a(453)]="none",i[a(490)][a(548)]="0",i[a(490)][a(492)]=a(451),o[a(490)][a(453)]=a(534),o[a(490)].opacity="1",o.style[a(492)]=a(391),o[a(490)][a(495)]="",o[a(490)][a(303)]="",o.style[a(463)]="")}}),carrito[$(418)](x,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado(x,$){let e=_0x377fac,a=document[e(586)](e(379));a&&a[e(557)]();let t=document[e(571)]("div");t.id=e(379),t.className=e(335),t[e(490)][e(453)]=e(322),t.innerHTML=e(505),document[e(442)][e(539)](t),document.getElementById(e(491)).onclick=function(){let $=e;window.location[$(465)]="pedidos.html?id="+x}}function limpiarCarrito(){let x=_0x377fac;carrito=[],document[x(310)](x(381)).forEach($=>{let e=x,a=$[e(476)](".btn-agregar-carrito"),t=$.querySelector('input[type="number"]')?.[e(496)],o=$[e(476)](e(359));a&&t&&o&&(o[e(397)]="1",t[e(490)][e(453)]="none",t.style[e(548)]="0",t[e(490)][e(492)]=e(451),a[e(490)][e(453)]="block",a[e(490)][e(548)]="1",a[e(490)][e(492)]=e(391),a[e(490)].background="",a[e(490)][e(303)]="",a[e(490)][e(463)]="")}),actualizarCarrito(),guardarCarritoLocal()}function enviarPedido(){let x=_0x377fac;if(0===carrito[x(573)]){alert("El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.");return}if(modoEdicion){enviarPedidoFinal();return}let $=document.getElementById(x(339));$&&($.style[x(453)]=x(322))}function enviarPedidoFinal(){let x=_0x377fac;if(modoEdicion&&pedidoEditId){let $=db[x(377)](x(400)+pedidoEditId);$.once(x(397))[x(417)](e=>{let a=x;if(!e[a(509)]()){alert(a(555));return}let t=e[a(507)]();if(t[a(355)]){alert("Este pedido est\xe1 cerrado y no se puede editar.");return}return carrito[a(493)](x=>{let $=a,e=t.items[$(499)](e=>e[$(356)]===x[$(356)]);e>-1?t[$(486)][e].cantidad+=x[$(530)]:t[$(486)][$(543)]({nombre:x.nombre,cantidad:x[$(530)],valorUSD:x[$(503)],codigo:x[$(516)]||"",categoria:x[$(518)]||""})}),t[a(438)]={nombre:datosExtraCliente[a(356)]||t[a(438)]?.[a(356)]||"",telefono:datosExtraCliente.telefono||t.cliente?.[a(567)]||"",localidad:datosExtraCliente[a(469)]||t.cliente?.localidad||"",direccion:datosExtraCliente[a(420)]||t[a(438)]?.[a(420)]||"",provincia:datosExtraCliente[a(327)]||t[a(438)]?.[a(327)]||"",dni:String(datosExtraCliente[a(407)]||t[a(438)]?.[a(407)]||""),email:datosExtraCliente[a(522)]||t[a(438)]?.[a(522)]||"",tipoCliente:datosExtraCliente[a(494)]||t[a(438)]?.[a(494)]||a(415)},$[a(395)]({items:t[a(486)],cliente:t.cliente,adminViewed:!1,lastUpdated:Date.now()})}).then(()=>{let $=x;alert($(572)),setTimeout(()=>{let x=$;window[x(360)][x(563)](x(526)+pedidoEditId)},300)}).catch($=>{let e=x;console[e(547)](e(594),$),alert("Error al actualizar el pedido: "+$.message)});return}if(0===carrito[x(573)]){alert("El carrito est\xe1 vac\xedo.");return}let e=datosExtraCliente[x(522)]||"";db.ref(x(342))[x(411)]("email")[x(578)](e[x(467)]())[x(429)](1).once("value")[x(417)]($=>{let a=x;return!$.exists()&&e?db[a(377)](a(342))[a(543)]({email:e.toLowerCase(),nombre:datosExtraCliente.nombre||"",telefono:datosExtraCliente.telefono||"",localidad:datosExtraCliente[a(469)]||"",direccion:datosExtraCliente[a(420)]||"",provincia:datosExtraCliente[a(327)]||"",dni:String(datosExtraCliente[a(407)]||""),tipoCliente:datosExtraCliente[a(494)]||a(415),registro:"web"}):Promise[a(472)]()})[x(417)](()=>{let $=x,e=db[$(377)]($(404)).push(),a=e[$(374)],t={id:a,timestamp:Date[$(385)](),locked:!1,adminViewed:!1,createdby:"web",status:$(333),cliente:{nombre:datosExtraCliente[$(356)]||"",telefono:datosExtraCliente.telefono||"",localidad:datosExtraCliente[$(469)]||"",direccion:datosExtraCliente[$(420)]||"",provincia:datosExtraCliente[$(327)]||"",dni:String(datosExtraCliente[$(407)]||""),email:datosExtraCliente[$(522)]||"",tipoCliente:datosExtraCliente[$(494)]||$(415)},items:carrito[$(529)](x=>({nombre:x[$(356)],cantidad:x.cantidad,valorUSD:x[$(503)],codigo:x[$(516)]||"",categoria:x[$(518)]||""}))};return e[$(449)](t)[$(417)](()=>a)})[x(417)]($=>{let e=x;datosExtraCliente[e(522)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(datosExtraCliente[e(522)])&&emailjs[e(318)](e(473),e(369),{email:datosExtraCliente[e(522)],name:datosExtraCliente[e(356)],linkPedido:e(431)+$})[e(417)](function(x){let $=e;console[$(475)]("Email enviado!",x[$(580)],x[$(514)])},function(x){console.error(e(336),x)}),mostrarModalPedidoConfirmado($,datosExtraCliente[e(522)]),limpiarCarrito(),datosExtraCliente={}})[x(419)]($=>{let e=x;console[e(547)](e(300),$),alert(e(392)+$[e(421)])})}window[_0x377fac(591)](_0x377fac(350),()=>{let x=_0x377fac;if(typeof currentPage!==x(598)){let $=datosFiltrados[x(573)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,$)}}),document[_0x377fac(586)](_0x377fac(561))[_0x377fac(591)](_0x377fac(508),x=>{let $=_0x377fac;x[$(440)](),currentLightboxImages[$(573)]>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[$(573)],document.getElementById($(488))[$(464)]=currentLightboxImages[currentImageIndex])}),document[_0x377fac(586)](_0x377fac(413)).addEventListener(_0x377fac(508),x=>{let $=_0x377fac;x[$(440)](),currentLightboxImages[$(573)]>0&&(currentImageIndex=(currentLightboxImages[$(573)]+currentImageIndex-1)%currentLightboxImages.length,document.getElementById($(488))[$(464)]=currentLightboxImages[currentImageIndex])}),document.getElementById(_0x377fac(488))[_0x377fac(591)](_0x377fac(547),function(){let x=_0x377fac;currentLightboxImages[x(573)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this[x(464)]=currentLightboxImages[0])}),document[_0x377fac(591)]("DOMContentLoaded",function(){let x=_0x377fac;document[x(586)](x(551)).innerHTML=MARQUEE_TEXT,document.getElementById(x(363))[x(343)]=MARQUEE_TEXT,cargarCarritoLocal()});const hamburgerBtn=document[_0x377fac(586)]("hamburgerBtn"),hamburgerDropdown=document[_0x377fac(586)](_0x377fac(430));hamburgerBtn.addEventListener("click",function(x){let $=_0x377fac;x[$(440)](),hamburgerDropdown[$(478)][$(347)]("active")}),document[_0x377fac(591)](_0x377fac(508),function(x){let $=_0x377fac;hamburgerBtn[$(450)](x[$(533)])||hamburgerDropdown[$(450)](x.target)||hamburgerDropdown[$(478)][$(557)]($(562))}),document.querySelectorAll(".hamburger-dropdown-item")[_0x377fac(493)](x=>{let $=_0x377fac;x[$(591)]($(508),function(){let x=$;hamburgerDropdown[x(478)][x(557)]("active")})});const ultimoPedidoBtn=document[_0x377fac(586)](_0x377fac(307)),ultimoPedidoModal=document.getElementById(_0x377fac(405)),closeUltimoPedidoModal=document[_0x377fac(586)](_0x377fac(305)),buscarUltimoPedidoBtn=document[_0x377fac(586)](_0x377fac(302)),ultimoPedidoEmailInput=document[_0x377fac(586)](_0x377fac(340)),buscarBtnText=document[_0x377fac(586)](_0x377fac(592)),buscarSpinner=document.getElementById(_0x377fac(428)),ultimoPedidoMensaje=document[_0x377fac(586)](_0x377fac(399));function mostrarMensajeBusqueda(x,$){let e=_0x377fac,a=ultimoPedidoMensaje,t=a[e(476)](e(345)),o=a[e(476)](e(524));x===e(547)?(a[e(490)].backgroundColor=e(309),a[e(490)].borderLeft=e(536),a[e(490)].color="#c53030",t[e(538)]=e(593)):x===e(564)?(a[e(490)][e(511)]=e(332),a[e(490)][e(479)]=e(402),a[e(490)][e(303)]=e(373),t[e(538)]=e(470)):x===e(354)&&(a[e(490)][e(511)]="#e6f7ff",a[e(490)][e(479)]=e(541),a[e(490)].color=e(403),t[e(538)]=e(575)),o[e(325)]=$,a[e(490)][e(453)]="flex",a[e(490)][e(401)]=e(527)}function _0x4b9c(x,$){let e=_0x26c3();return(_0x4b9c=function(x,$){return e[x-=296]})(x,$)}function ocultarMensajeBusqueda(){let x=_0x377fac;ultimoPedidoMensaje[x(490)][x(453)]=x(383)}function setEstadoCargaBusqueda(x){let $=_0x377fac;buscarUltimoPedidoBtn[$(362)]=x,buscarUltimoPedidoBtn[$(490)][$(548)]=x?$(559):"1",buscarUltimoPedidoBtn[$(490)][$(320)]=$(x?393:458),buscarBtnText[$(490)][$(453)]=$(x?383:497),buscarSpinner.style[$(453)]=$(x?534:383),ultimoPedidoEmailInput[$(362)]=x}ultimoPedidoBtn[_0x377fac(591)](_0x377fac(508),function(){let x=_0x377fac;ultimoPedidoModal[x(490)][x(453)]=x(322),ultimoPedidoEmailInput.value="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput.focus(),100)}),closeUltimoPedidoModal[_0x377fac(591)]("click",function(){let x=_0x377fac;ultimoPedidoModal[x(490)][x(453)]=x(383),ocultarMensajeBusqueda()}),ultimoPedidoModal[_0x377fac(591)](_0x377fac(439),function(x){let $=_0x377fac;x[$(533)]===ultimoPedidoModal&&(ultimoPedidoModal.style[$(453)]=$(383),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x377fac(591)](_0x377fac(508),function(){let x=_0x377fac,$=ultimoPedidoEmailInput.value[x(371)]().toLowerCase();if(ocultarMensajeBusqueda(),!$||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/[x(484)]($)){mostrarMensajeBusqueda(x(547),x(433)),ultimoPedidoEmailInput[x(365)]();return}setEstadoCargaBusqueda(!0),db[x(377)](x(404))[x(411)](x(387))[x(578)]($)[x(532)]("value")[x(417)]($=>{let e=x;if(setEstadoCargaBusqueda(!1),!$[e(509)]()){mostrarMensajeBusqueda(e(547),e(556));return}let a=null;$.forEach(x=>{let $=e,t=x[$(507)]();(!a||t[$(432)]>a.timestamp)&&(a=t)}),a&&a.id?(mostrarMensajeBusqueda(e(564),"\xa1Pedido encontrado! Redirigiendo..."),setTimeout(()=>{let x=e;window[x(427)](x(526)+a.id,x(482)),ultimoPedidoModal.style[x(453)]="none",ocultarMensajeBusqueda(),ultimoPedidoEmailInput.value=""},800)):mostrarMensajeBusqueda(e(547),e(556))})[x(419)](()=>{let $=x;setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda($(547),$(422))})}),ultimoPedidoEmailInput[_0x377fac(591)](_0x377fac(394),function(x){let $=_0x377fac;x.key===$(542)&&buscarUltimoPedidoBtn[$(508)]()}),document[_0x377fac(591)](_0x377fac(317),function(){let x=_0x377fac,$=document[x(586)]("carousel-pie-images");if($){let e=$[x(310)](".carousel-slide"),a=0;e.length>0&&setInterval(()=>{a=(a+1)%e[x(573)],function e(){let t=x,o=-(100*a);$[t(490)][t(492)]=t(550)+o+"%)"}()},5e3)}});
