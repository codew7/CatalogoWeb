const _0xbcabaf=_0x3e16;(function(x,$){let a=_0x3e16,e=x();for(;;)try{let t=parseInt(a(336))/1+-parseInt(a(369))/2*(-parseInt(a(144))/3)+parseInt(a(372))/4+parseInt(a(307))/5*(parseInt(a(414))/6)+-parseInt(a(233))/7+parseInt(a(271))/8*(parseInt(a(298))/9)+-parseInt(a(165))/10*(parseInt(a(318))/11);if(299899===t)break;e.push(e.shift())}catch(o){e.push(e.shift())}})(_0x43ee,299899),emailjs[_0xbcabaf(410)]("vcbQsbE2bgLwFAnDr");const WHATSAPP_URL=_0xbcabaf(353),MARQUEE_TEXT=_0xbcabaf(300),ITEMPESOS="6";function _0x3e16(x,$){x-=115;let a=_0x43ee();return a[x]}firebase[_0xbcabaf(146)](firebaseConfig);const db=firebase[_0xbcabaf(239)]();function _0x43ee(){let x=["https://www.home-point.com.ar/pedidos.html?id=","</small>\n        ","buscarBtnText","find","toggle","info","input","display","flex","appendChild","pedidos.html?id="," unidades disponibles",' m\xe1s.\n                        </p>\n                    </div>\n                </div>\n                <button id="cerrarMinimoPedidoBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"replace","remove","map","#e6f7ff","center","hamburgerDropdown","locked",'<span style="color: #4CAF50;">✓ Disponible</span>',"minHeight","catch","1px solid #ddd","hidden","opacity","closeUltimoPedidoModal","El carrito est\xe1 vac\xedo.","cantidad","div","unidad","293001MFnYpB","50px","initializeApp","#ff9800","stringify","Error al cargar los datos:","marginBottom","textContent","push",'<i class="fas fa-cart-plus"></i>',"pagination-button","className","transform","pedidos","info-primer-articulo-modal","buscar","checked","borderColor","items","btn-agregar-carrito","filtroDisponibles","10YDFNOL","show","pagination","querySelectorAll","hamburgerBtn","#2b6cb0","then","none","#c53030","1px solid #4CAF50","max","borderLeft","add","5px","resize","SPREADSHEET_ID","lightbox-img","16px","button","web","El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.","marquee-text-1","marquee-text-2","scrollTo","keydown","prev-btn","nombre","getItem","text","API_KEY","5px 0","54px","categorias","focus","fas fa-check-circle","includes","status","offsetWidth","carritoMayorista",'<span style="color: #ff9800;">✗ Sin stock</span>',"resolve","parse","M\xe1ximo ","provincia","relative","bold","style","onerror","⚙️ Est\xe1s agregando art\xedculos al pedido #","smooth","position","#2f855a","alignItems","cursor",".carousel-slide","</s></span>","equalTo","telefono",'\n            <div class="info-modal-section">\n                <h4>Especificaciones del Fabricante:</h4>\n                <p>',"\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">',"cerrarMinimoPedidoBtn","body","C\xf3digo: ","color","floor","cliente","val","499947HGzCJp","localidad","mayorista","addEventListener","title","base","database","dni","clientes","Error al cargar carrito desde localStorage:","click",'input[type="hidden"]',"log","indexOf","target","?key=","ABIERTO","RANGO","update","todos","change","No se encontraron datos en la hoja.","lightbox","timestamp","orderByChild","fontWeight","Este pedido est\xe1 cerrado y no se puede editar.","<strong>Ahora $</strong> ","faltan","aviso-edicion-pedido","pageYOffset","border","No se encontraron pedidos registrados con este email","#fff","once","innerHTML","stopPropagation","splice","1112TKpURL","4px solid #4299e1","direccion",' <strong style="color:#ff9800;font-size:1.2em;">',"tipoCliente","ref","disabled",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Informaci\xf3n Importante</h2>\n                <p style=\'margin:8px 0 0 0;\'>Sobre el proceso de pedido</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#e3f2fd;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-truck" style="font-size:3em;color:#2196F3;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>La solicitud de pedido se utiliza solo para env\xedos.</strong>\n                    </p>\n                    <p style="margin:15px 0 0 0;color:#555;line-height:1.6;font-size:0.95em;">\n                        Si retir\xe1s en nuestro showroom, <strong>no hace falta generar un pedido</strong>.\n                    </p>\n                </div>\n                <button id="cerrarInfoPrimerArticuloBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"success",".hamburger-dropdown-item","#cccccc",' en tu carrito.\n                        </p>\n                        <p style="margin:10px 0 0 0;color:#666;font-size:0.95em;">\n                            Te ','<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"open","cartContainer","1px solid #ff9800","filter","5px 10px","/values/","4px","classList","undefined","toLowerCase","verPedidoBtnConfirmado","Error al actualizar pedido:","pointer","key","17532SQqdVQ","inline","\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS","number","modal","removeItem","#fee","getElementById","not-allowed","1200075RieMmj","35px"," unidades disponibles.","stock-info","loadingOverlay","infoModal","Error al buscar el pedido. Por favor, intenta de nuevo","Este producto no tiene stock disponible.","Siguiente","Error: No se encontr\xf3 el pedido original","all 0.3s ease","4152159bQWGYn","minimo-pedido-modal",'\n            <div class="info-modal-section">\n                <h4>Tama\xf1o</h4>\n                <p>',"ultimoPedidoMensaje","toString","carousel-images","infoModalTitle",".btn-agregar-carrito","span","pedido","Sin stock disponible","10px 10px","cliente/email","forEach","fontSize","precio","createElement","height","121302UsDnAI","padding","type","location",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',"querySelector","exists","translateX(","cerrarInfoPrimerArticuloBtn","mousedown","block","Error al guardar el pedido: ","setItem",'input[type="number"]',"justifyContent","scrollTop","ceil","https://api.whatsapp.com/send/?phone=5491121891006","card","Por favor, ingres\xe1 un email v\xe1lido","contains","Ver informaci\xf3n adicional","top","currentTarget","\xa1Art\xedculos agregados exitosamente al pedido!","reduce","clienteModal","parentElement","backgroundColor","unidades","loading","scale(0.8)","</strong>&nbsp;<small>x","2cEjaDD","length","next-btn","76132WlTOQG","scale(1)","Error al actualizar el pedido: ","getBoundingClientRect","json","src","auto","localeCompare","#4CAF50","</strong> ","template_xqo1j5z","values","cartBadge","margin","falta","active","innerWidth","buscarUltimoPedidoBtn","#e6ffed","100px","split",'<i class="fas fa-times"></i>',"borderRadius","https://sheets.googleapis.com/v4/spreadsheets/","documentElement","marginTop","pedido-confirmado-modal","info-icon","email",'<i class="fas fa-info"></i>',"min","onclick","limitToFirst","DOMContentLoaded","codigo","Enter",".card","value","init","paddingRight","background","service_lu9cpxk","6PhgOKt","Anterior","width","catalogo","error","Error al enviar carrito","carousel-pie-images",".stock-info","ultimoPedidoEmailInput","match","cssText","Error al guardar pedido o cliente:","trim","test","categoria","message","send","transition","ultimoPedidoBtn","Stock insuficiente. Solo hay ","Datos del pedido existente cargados:"];return(_0x43ee=function(){return x})()}document.addEventListener(_0xbcabaf(405),function(){let x=_0xbcabaf,$=document.getElementById(x(323)),a=$?$.querySelectorAll(x(219)):[],e=0;a[x(370)]>0&&setInterval(()=>{e=(e+1)%a.length,function t(){let o=x;if($&&a[o(370)]>0){let i=-(100*e);$[o(211)][o(156)]=o(343)+i+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let x=_0xbcabaf;if(!modoEdicion)try{localStorage[x(348)](x(203),JSON[x(148)](carrito))}catch($){console[x(418)]("Error al guardar carrito en localStorage:",$)}}function cargarCarritoLocal(){let x=_0xbcabaf;if(!modoEdicion)try{let $=localStorage[x(192)](x(203));$&&(carrito=JSON[x(206)]($),actualizarCarrito())}catch(a){console.error(x(242),a),carrito=[]}}const urlParams=new URLSearchParams(window[_0xbcabaf(339)].search),pedidoEditId=urlParams.get(_0xbcabaf(327)),modoEdicion=!!pedidoEditId;if(modoEdicion){localStorage[_0xbcabaf(303)](_0xbcabaf(203));let x=document[_0xbcabaf(334)](_0xbcabaf(142));x[_0xbcabaf(151)]=_0xbcabaf(213)+pedidoEditId,x.id=_0xbcabaf(262),x[_0xbcabaf(211)][_0xbcabaf(424)]=_0xbcabaf(224),document[_0xbcabaf(227)][_0xbcabaf(122)](x),document[_0xbcabaf(227)][_0xbcabaf(211)][_0xbcabaf(397)]=_0xbcabaf(196),db[_0xbcabaf(276)]("pedidos/"+pedidoEditId)[_0xbcabaf(267)]("value")[_0xbcabaf(171)](x=>{let $=_0xbcabaf;if(x[$(342)]()){let a=x[$(232)]();datosExtraCliente=a[$(231)]||{},console[$(245)]($(434),a)}})[_0xbcabaf(135)](x=>{let $=_0xbcabaf;console[$(418)]("Error al cargar pedido existente:",x)})}const loadingOverlay=document[_0xbcabaf(305)](_0xbcabaf(311));fetch(_0xbcabaf(395)+GOOGLE_SHEETS_CONFIG[_0xbcabaf(180)]+_0xbcabaf(289)+GOOGLE_SHEETS_CONFIG[_0xbcabaf(250)]+_0xbcabaf(248)+GOOGLE_SHEETS_CONFIG[_0xbcabaf(194)])[_0xbcabaf(171)](x=>{let $=_0xbcabaf;if(!x.ok)throw Error("Error al acceder a la API: "+x.statusText);return x[$(376)]()})[_0xbcabaf(171)](x=>{let $=_0xbcabaf;loadingOverlay&&(loadingOverlay[$(211)][$(120)]=$(172));let a=x[$(383)];if(!a||0===a[$(370)])throw Error($(254));datosFiltrados=productos=a[$(287)](x=>""!==(x[3]||"").toString()[$(426)]()).sort((x,$)=>{function a(x){let $=_0x3e16;if(!x||""===x||null==x)return new Date(1900,0,1);if(x[$(200)]("/")){let a=x.split("/");if(3===a[$(370)]){let e=parseInt(a[0]),t=parseInt(a[1])-1,o=parseInt(a[2]);return new Date(o,t,e)}}return new Date(1900,0,1)}let e=a(x[12]),t=a($[12]);return t-e}),window[$(188)](0,0),mostrarPagina(1),setTimeout(()=>{let x=$;refreshStockInfo(),document.getElementById(x(164)).checked&&i(),setTimeout(()=>{primeraCarga=!1},100)},100);let e=new Set(productos[$(128)](x=>x[0])),t=document.getElementById($(197)),o=Array.from(e)[$(287)](x=>x&&""!==x.trim()).sort((x,a)=>x[$(379)](a,"es",{sensitivity:$(238)}));function i(){let x=$,a=document[x(305)](x(197))[x(409)],e=document.getElementById("buscar")[x(409)].toLowerCase(),t=document[x(305)]("filtroDisponibles")[x(160)],o=productos;a!==x(252)&&(o=o[x(287)](x=>x[0]===a)),""!==e[x(426)]()&&(o=o[x(287)]($=>$[3][x(293)]()[x(200)](e)||$[2][x(293)]()[x(200)](e)||$[17]&&$[17][x(293)]()[x(200)](e))),t&&(o=o[x(287)](x=>{let $=x[10];if(null==$||""===$)return!1;let a=parseInt(String($).trim());return!isNaN(a)&&a>1})),datosFiltrados=o,mostrarPagina(1,o)}o.forEach(x=>{let a=$,e=document[a(334)]("option");e.value=x,e[a(151)]=x,t[a(122)](e)}),t[$(236)]($(253),()=>{i()}),document[$(305)]($(159))[$(236)]("input",x=>{i()}),document[$(305)]($(164))[$(236)]("change",()=>{i()}),document[$(305)]($(252))[$(236)]($(243),()=>{let x=$;document.getElementById("categorias")[x(409)]=x(252),document[x(305)](x(159))[x(409)]="",document[x(305)](x(164))[x(160)]=!1,datosFiltrados=productos,mostrarPagina(1)})})[_0xbcabaf(135)](x=>{let $=_0xbcabaf;loadingOverlay&&(loadingOverlay.style[$(120)]="none"),console[$(418)]($(149),x),document[$(341)]("#error").textContent=x[$(429)]});let primeraCarga=!0;function mostrarPagina(x,$=productos){let a=_0xbcabaf;currentPage=x,$.length;let e=(x-1)*30,t=$.slice(e,e+30);cargarGrid(t),actualizarPaginacion(x,$),document.activeElement!==document[a(305)](a(159))&&setTimeout(()=>{let x=a;if(primeraCarga)window.scrollTo({top:0,behavior:x(378)});else{let $=document[x(305)](x(197));if($){let e=$[x(375)](),t=window[x(263)]||document[x(396)][x(351)];window[x(188)]({top:e[x(358)]+t-20,behavior:x(214)})}}},0)}function cargarGrid(x){let $=_0xbcabaf,a=document[$(305)]($(417));a[$(268)]="",x.forEach(x=>{let e=$,t=document[e(334)](e(142));t.classList[e(177)](e(354));let o=document.createElement(e(119));o[e(338)]=e(137),o[e(409)]=x[2],t[e(122)](o);let i=x[14]||"",r=x[15]||"";if(i||r){let d=document[e(334)]("div");d.classList[e(177)](e(399)),d[e(268)]=e(401),d[e(237)]=e(357),d[e(236)]("click",()=>{mostrarInfoModal(x[3],i,r)}),t[e(122)](d)}if(isValidImageUrl(x[1])){let n=[];-1!==x[1][e(246)](",")?n=x[1][e(392)](",")[e(128)](x=>x.trim()):n[e(152)](x[1]);let c=document[e(334)]("img");c.src=n[0],c[e(366)]="lazy",c[e(212)]=function(){let x=e;this[x(377)]="no-disponible.png"},c[e(236)](e(243),()=>{abrirLightbox(n)}),t.appendChild(c)}let l=document[e(334)]("h3");l[e(151)]=x[3],t[e(122)](l);let _=document[e(334)](e(142));_.classList[e(177)]("info"),_[e(151)]=e(228)+x[2],t.appendChild(_);let s=document[e(334)]("div");s[e(291)][e(177)](e(310)),s.style[e(385)]=e(195),s.style[e(258)]=e(210);let b=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(b=parseInt(x[10])),isNaN(b)?s[e(268)]=e(204):b<=1?s[e(268)]=e(204):b<=10?s[e(268)]=e(283):s[e(268)]=e(133),t[e(122)](s);{let f=document[e(334)]("p");f[e(268)]=e(225)+x[13]+e(220),f[e(211)][e(150)]=e(178),t[e(122)](f)}let u=document[e(334)]("p");u.innerHTML=e(260)+x["6"],u[e(211)][e(397)]="2px",t.appendChild(u);let m=document.createElement("div");m.style.display=e(121),m.style[e(217)]=e(130),m.style[e(350)]=e(130),m[e(211)].gap=e(178),m[e(211)][e(134)]=e(145);let p=document[e(334)]("div");p[e(211)][e(120)]="none",p.style.alignItems=e(130),p[e(211)].gap=e(178),p[e(211)].transition=e(317),p[e(211)][e(138)]="0";let g=document[e(334)]("button");g[e(268)]="-",g[e(211)].padding=e(288),g[e(211)][e(332)]=e(182),g[e(211)][e(335)]="35px",g[e(211)][e(416)]=e(308),g[e(211)][e(364)]="#ff9800",g[e(211)].color="#fff",g[e(211)][e(264)]=e(286),g.style[e(394)]="4px",g[e(211)][e(218)]=e(296);let h=document[e(334)](e(119));h[e(338)]=e(301),h[e(402)]="1",h[e(409)]="1",h.style.width=e(145),h.style[e(335)]=e(308),h[e(211)][e(337)]=e(178),h[e(211)].textAlign=e(130),h[e(211)][e(264)]=e(136),h[e(211)].borderRadius=e(290);let y=document.createElement(e(183));y[e(268)]="+",y.style.padding="5px 10px",y[e(211)][e(332)]=e(182),y.style.height=e(308),y.style.width=e(308),y[e(211)][e(364)]=e(147),y.style[e(229)]=e(266),y[e(211)][e(264)]=e(286),y.style[e(394)]=e(290),y[e(211)].cursor=e(296),p.appendChild(g),p[e(122)](h),p[e(122)](y);let E=document[e(334)]("button");function v(){let $=e,a=parseInt(h.value);if(a>0){let t=carrito.find(x=>x[$(191)]===l.textContent);t?t[$(141)]=a:agregarAlCarrito(l.textContent,x[6],a,x[2],x[0],x[7][$(322)]().replace(/[,\.]/g,""),x[6][$(322)]().replace(/[,\.]/g,"")),actualizarCarrito()}}E[e(268)]=e(153),E.style.padding=e(329),E.style[e(332)]=e(182),E[e(211)].height=e(145),E[e(211)][e(416)]=e(145),E[e(211)][e(364)]=e(380),E[e(211)].color=e(266),E[e(211)][e(264)]=e(174),E[e(211)][e(394)]=e(290),E[e(211)][e(218)]=e(296),E[e(211)][e(431)]=e(317),E[e(291)][e(177)](e(163)),!isNaN(b)&&b>0?(h[e(175)]=b,h[e(237)]=e(207)+b+e(124)):(E.disabled=!0,E[e(211)].backgroundColor="#cccccc",E.style[e(161)]=e(281),E[e(211)].cursor=e(306),E[e(237)]=e(328)),E[e(236)](e(243),()=>{let $=e,a=0;if(void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(a=parseInt(x[10])),isNaN(a)||a<=0){alert($(314));return}h[$(409)]="1",v(),function x(){let $=e;E[$(211)].opacity="0",E[$(211)][$(156)]="scale(0.8)",setTimeout(()=>{let x=$;E[x(211)][x(120)]=x(172),p.style[x(120)]=x(121),setTimeout(()=>{let $=x;p.style[$(138)]="1",p[$(211)][$(156)]="scale(1)"},50)},150)}()}),y[e(236)](e(243),()=>{let $=e,a=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(a=parseInt(x[10]));let t=parseInt(h[$(409)]);if(!isNaN(a)&&t>=a){alert($(433)+a+" unidades disponibles.");return}h.value=t+1,v()}),g[e(236)]("click",()=>{let x=e,$=parseInt(h[x(409)]);if($>1)h.value=$-1,v();else{let a=carrito[x(116)]($=>$[x(191)]===l[x(151)]);if(a){let t=carrito[x(246)](a);carrito[x(270)](t,1),actualizarCarrito()}p.style[x(138)]="0",p.style.transform=x(367),setTimeout(()=>{let $=x;p[$(211)][$(120)]=$(172),E[$(211)][$(120)]=$(346),E[$(211)].opacity="0",E[$(211)][$(156)]=$(367),setTimeout(()=>{let x=$;E[x(211)][x(138)]="1",E.style[x(156)]=x(373)},50)},150)}}),h[e(236)]("change",()=>{let $=e,a=parseInt(h[$(409)]),t=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(t=parseInt(x[10])),a<=0?h.value="1":!isNaN(t)&&a>t&&(alert("Stock insuficiente. Solo hay "+t+$(309)),h.value=t),v()}),m[e(122)](E),m.appendChild(p),t.appendChild(m),a[e(122)](t)})}function refreshStockInfo(){let x=_0xbcabaf,$=document[x(168)](x(408));$[x(331)]($=>{let a=x,e=$[a(341)](a(421));if(e){let t=$.querySelector(a(244));if(t){let o=t[a(409)],i=productos.find(x=>x[2]===o),r=0;i&&void 0!==i[10]&&null!==i[10]&&""!==i[10]&&(r=parseInt(i[10])),isNaN(r)?e[a(268)]=a(204):r<=1?e.innerHTML='<span style="color: #ff9800;">✗ Sin stock</span>':r<=10?e[a(268)]=a(283):e[a(268)]=a(133);let d=$[a(341)](a(349)),n=$.querySelector(a(325));d&&(!isNaN(r)&&r>0?(d[a(175)]=r,d.disabled=!1,d.title=a(207)+r+a(124),n&&n[a(277)]&&(n[a(277)]=!1,n[a(211)].backgroundColor="#4CAF50",n[a(211)].borderColor=a(380),n[a(211)][a(218)]=a(296),n[a(237)]="")):(d[a(277)]=!0,d[a(237)]=a(328),n&&(n[a(277)]=!0,n[a(211)][a(364)]=a(281),n[a(211)].borderColor="#cccccc",n[a(211)][a(218)]=a(306),n[a(237)]=a(328))))}}})}function agregarAlCarrito(x,$,a,e,t){let o=_0xbcabaf,i=0===carrito[o(370)],r=carrito[o(116)]($=>$[o(191)]===x);r?r[o(141)]+=a:carrito[o(152)]({nombre:x,precio:$,cantidad:a,codigo:e,categoria:t}),actualizarCarrito(),guardarCarritoLocal(),i&&!modoEdicion&&mostrarModalInfoPrimerArticulo()}function getMaxVisiblePaginationButtons(){let x=_0xbcabaf,$=document[x(305)](x(167)),a=window[x(388)];$&&(a=$[x(202)]||a);let e=Math[x(175)](3,Math[x(230)]((a-220)/48));return Math.min(e,15)}function actualizarPaginacion(x,$){let a=_0xbcabaf,e=document[a(305)](a(167));e[a(268)]="";let t=Math.ceil($[a(370)]/30);if(x>1){let o=document[a(334)](a(183));o[a(151)]=a(415),o[a(211)][a(416)]=a(391),o[a(236)]("click",()=>mostrarPagina(x-1,$)),e[a(122)](o)}let i=getMaxVisiblePaginationButtons(),r=Math[a(175)](1,x-Math.floor(i/2)),d=Math[a(402)](t,r+i-1);d-r<i-1&&(r=Math[a(175)](1,d-i+1));for(let n=r;n<=d;n++){let c=document.createElement(a(183));c.textContent=n,c[a(291)][a(177)](a(154)),n===x&&c[a(291)][a(177)](a(387)),c.addEventListener("click",()=>mostrarPagina(n,$)),e[a(122)](c)}if(x<t){let l=document.createElement("button");l[a(151)]=a(315),l.style.width=a(391),l.addEventListener(a(243),()=>mostrarPagina(x+1,$)),e[a(122)](l)}}function isValidImageUrl(x){return x&&x[_0xbcabaf(423)](/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox(x){let $=_0xbcabaf;currentLightboxImages=x,currentImageIndex=0,document[$(305)]($(181)).src=currentLightboxImages[currentImageIndex],document[$(305)]($(255))[$(211)][$(120)]=$(121),actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let x=_0xbcabaf,$=document.getElementById(x(190)),a=document.getElementById(x(371));currentLightboxImages[x(370)]>1?($[x(211)][x(120)]=x(346),a.style.display=x(346)):($.style[x(120)]="none",a.style[x(120)]=x(172))}function closeLightbox(x){let $=_0xbcabaf;(x[$(247)]===x[$(359)]||x[$(247)][$(291)][$(356)]("close"))&&(document[$(305)]($(255))[$(211)].display=$(172))}function mostrarInfoModal(x,$,a){let e=_0xbcabaf,t=document[e(305)](e(312)),o=document[e(305)](e(324)),i=document[e(305)]("infoModalBody");o.textContent=x;let r="";$&&""!==$.trim()&&(r+=e(223)+$+"</p>\n            </div>\n        "),a&&""!==a[e(426)]()&&(r+=e(320)+a+"</p>\n            </div>\n        "),i[e(268)]=r,t[e(291)][e(177)](e(166))}function closeInfoModal(x){let $=_0xbcabaf,a=document[$(305)]($(312));x&&x.target!==x.currentTarget||a.classList[$(127)]($(166))}function actualizarCarrito(){let x=_0xbcabaf,$=document[x(305)]("cart-list"),a=document[x(305)]("cartFloatBtn"),e=document[x(305)](x(384));$[x(268)]="";let t=carrito[x(361)](($,a)=>$+a[x(141)],0);if(0===carrito[x(370)]){a&&(a[x(211)][x(120)]=x(172));let o=document[x(305)](x(285));o&&(o.classList[x(127)]("active"),typeof cartExpanded!==x(292)&&(cartExpanded=!1))}else a&&(a[x(211)][x(120)]=x(121));e&&(e[x(151)]=t),carrito[x(331)]((a,e)=>{let t=x,o=document[t(334)]("li");o.style[t(215)]=t(209),o[t(211)][t(411)]="35px";let i=document[t(334)](t(142));i[t(268)]="\n            <strong>"+a[t(191)]+t(368)+a[t(141)]+t(436);let r=document.createElement(t(183));r[t(155)]="cart-item-delete",r[t(268)]=t(393),r[t(403)]=function(){eliminarItemCarrito(e)},o.appendChild(i),o[t(122)](r),$[t(122)](o)})}function eliminarItemCarrito(x){let $=_0xbcabaf,a=carrito[x],e=document[$(168)](".card");e[$(331)](x=>{let e=$,t=x[e(341)]("h3")?.textContent;if(t===a[e(191)]){let o=x[e(341)](".btn-agregar-carrito"),i=x[e(341)](e(349))?.parentElement,r=x[e(341)](e(349));o&&i&&r&&(r.value="1",i[e(211)].display=e(172),i[e(211)][e(138)]="0",i.style[e(156)]=e(367),o[e(211)][e(120)]="block",o.style.opacity="1",o[e(211)][e(156)]=e(373),o[e(211)][e(412)]="",o[e(211)][e(229)]="",o[e(211)][e(264)]="")}}),carrito[$(270)](x,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado(x,$){let a=_0xbcabaf,e=document[a(305)](a(398));e&&e[a(127)]();let t=document[a(334)]("div");t.id=a(398),t.className=a(302),t[a(211)][a(120)]=a(121),t[a(268)]=a(340),document[a(227)][a(122)](t),document.getElementById(a(294))[a(403)]=function(){let $=a;window[$(339)].href=$(123)+x}}function mostrarModalInfoPrimerArticulo(){let x=_0xbcabaf,$=document.getElementById(x(158));$&&$[x(127)]();let a=document[x(334)](x(142));a.id="info-primer-articulo-modal",a[x(155)]=x(302),a[x(211)].display=x(121),a[x(268)]=x(278),document[x(227)][x(122)](a),document[x(305)](x(344)).onclick=function(){a[x(127)]()},a[x(403)]=function($){let e=x;$[e(247)]===a&&a[e(127)]()}}function mostrarModalMinimoPedido(x){let $=_0xbcabaf,a=document[$(305)]($(319));a&&a[$(127)]();let e=5-x,t=document.createElement("div");t.id=$(319),t[$(155)]="modal",t[$(211)][$(120)]=$(121),t[$(268)]='\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Pedido M\xednimo Requerido</h2>\n                <p style=\'margin:8px 0 0 0;\'>Para procesar tu pedido necesitamos un m\xednimo de unidades</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#fff3e0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-shopping-cart" style="font-size:3em;color:#ff9800;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>Necesitas agregar al menos 5 unidades para procesar el pedido.</strong>\n                    </p>\n                    <div style="margin-top:20px;padding:15px;background:#fff;border-radius:8px;border-left:4px solid #ff9800;">\n                        <p style="margin:0;color:#666;font-size:0.95em;">\n                            Actualmente tienes <strong style="color:#ff9800;font-size:1.2em;">'+x+$(381)+(1===x?"unidad":$(365))+$(282)+(1===e?$(386):$(261))+$(274)+e+$(381)+(1===e?$(143):"unidades")+$(125),document[$(227)][$(122)](t),document[$(305)]($(226))[$(403)]=function(){t[$(127)]()},t[$(403)]=function(x){x[$(247)]===t&&t.remove()}}function limpiarCarrito(){let x=_0xbcabaf;carrito=[],document[x(168)](".card")[x(331)]($=>{let a=x,e=$[a(341)](".btn-agregar-carrito"),t=$[a(341)](a(349))?.[a(363)],o=$.querySelector(a(349));e&&t&&o&&(o[a(409)]="1",t[a(211)][a(120)]=a(172),t[a(211)].opacity="0",t[a(211)][a(156)]=a(367),e[a(211)][a(120)]=a(346),e[a(211)].opacity="1",e[a(211)].transform=a(373),e[a(211)].background="",e[a(211)].color="",e[a(211)][a(264)]="")}),actualizarCarrito(),guardarCarritoLocal()}function calcularTotalCarrito(){let x=_0xbcabaf;return carrito[x(361)](($,a)=>{let e=x,t=parseFloat(a[e(333)][e(322)]().replace(/[^0-9.-]/g,""));return $+t*a[e(141)]},0)}function enviarPedido(){let x=_0xbcabaf;if(0===carrito[x(370)]){alert(x(185));return}let $=carrito[x(361)]((x,$)=>x+$.cantidad,0);if($<5&&!modoEdicion){mostrarModalMinimoPedido($);return}let a=calcularTotalCarrito();if(a<2e5&&!modoEdicion){alert(x(419));return}if(modoEdicion){enviarPedidoFinal();return}let e=document[x(305)](x(362));e&&(e[x(211)][x(120)]=x(121))}function enviarPedidoFinal(){let x=_0xbcabaf;if(modoEdicion&&pedidoEditId){let $=db[x(276)]("pedidos/"+pedidoEditId);$[x(267)](x(409))[x(171)](a=>{let e=x;if(!a[e(342)]()){alert(e(316));return}let t=a.val();if(t[e(132)]){alert(e(259));return}return carrito[e(331)](x=>{let $=e,a=t[$(162)].findIndex(a=>a[$(191)]===x[$(191)]);a>-1?t[$(162)][a].cantidad+=x[$(141)]:t[$(162)][$(152)]({nombre:x.nombre,cantidad:x[$(141)],valorUSD:x.precio,codigo:x[$(406)]||"",categoria:x.categoria||""})}),t.cliente={nombre:datosExtraCliente[e(191)]||t[e(231)]?.[e(191)]||"",telefono:datosExtraCliente.telefono||t.cliente?.telefono||"",localidad:datosExtraCliente[e(234)]||t[e(231)]?.[e(234)]||"",direccion:datosExtraCliente[e(273)]||t[e(231)]?.[e(273)]||"",provincia:datosExtraCliente[e(208)]||t[e(231)]?.[e(208)]||"",dni:String(datosExtraCliente[e(240)]||t[e(231)]?.[e(240)]||""),email:datosExtraCliente.email||t.cliente?.[e(400)]||"",tipoCliente:datosExtraCliente[e(275)]||t[e(231)]?.tipoCliente||"mayorista"},$[e(251)]({items:t[e(162)],cliente:t[e(231)],adminViewed:!1,lastUpdated:Date.now()})}).then(()=>{let $=x;alert($(360)),setTimeout(()=>{let x=$;window[x(339)][x(126)](x(123)+pedidoEditId)},300)})[x(135)]($=>{let a=x;console[a(418)](a(295),$),alert(a(374)+$.message)});return}if(0===carrito[x(370)]){alert(x(140));return}let a=datosExtraCliente[x(400)]||"";db[x(276)](x(241))[x(257)](x(400))[x(221)](a[x(293)]())[x(404)](1).once(x(409))[x(171)]($=>{let e=x;return!$[e(342)]()&&a?db.ref(e(241)).push({email:a[e(293)](),nombre:datosExtraCliente.nombre||"",telefono:datosExtraCliente.telefono||"",localidad:datosExtraCliente.localidad||"",direccion:datosExtraCliente.direccion||"",provincia:datosExtraCliente[e(208)]||"",dni:String(datosExtraCliente[e(240)]||""),tipoCliente:datosExtraCliente[e(275)]||e(235),registro:e(184)}):Promise[e(205)]()}).then(()=>{let $=x,a=db[$(276)]($(157))[$(152)](),e=a[$(297)],t={id:e,timestamp:Date.now(),locked:!1,adminViewed:!1,createdby:$(184),status:$(249),cliente:{nombre:datosExtraCliente[$(191)]||"",telefono:datosExtraCliente[$(222)]||"",localidad:datosExtraCliente[$(234)]||"",direccion:datosExtraCliente[$(273)]||"",provincia:datosExtraCliente[$(208)]||"",dni:String(datosExtraCliente.dni||""),email:datosExtraCliente[$(400)]||"",tipoCliente:datosExtraCliente.tipoCliente||$(235)},items:carrito[$(128)](x=>({nombre:x.nombre,cantidad:x[$(141)],valorUSD:x[$(333)],codigo:x.codigo||"",categoria:x[$(428)]||""}))};return a.set(t).then(()=>e)})[x(171)]($=>{let a=x;datosExtraCliente[a(400)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/[a(427)](datosExtraCliente[a(400)])&&emailjs[a(430)](a(413),a(382),{email:datosExtraCliente[a(400)],name:datosExtraCliente[a(191)],linkPedido:a(435)+$}).then(function(x){let $=a;console.log("Email enviado!",x[$(201)],x[$(193)])},function(x){console[a(418)]("Error enviando email:",x)}),mostrarModalPedidoConfirmado($,datosExtraCliente[a(400)]),limpiarCarrito(),datosExtraCliente={}})[x(135)]($=>{let a=x;console[a(418)](a(425),$),alert(a(347)+$[a(429)])})}window.addEventListener(_0xbcabaf(179),()=>{let x=_0xbcabaf;if(typeof currentPage!==x(292)){let $=datosFiltrados[x(370)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,$)}}),document.getElementById("next-btn")[_0xbcabaf(236)](_0xbcabaf(243),x=>{let $=_0xbcabaf;x.stopPropagation(),currentLightboxImages[$(370)]>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[$(370)],document[$(305)]($(181))[$(377)]=currentLightboxImages[currentImageIndex])}),document[_0xbcabaf(305)](_0xbcabaf(190)).addEventListener(_0xbcabaf(243),x=>{let $=_0xbcabaf;x.stopPropagation(),currentLightboxImages[$(370)]>0&&(currentImageIndex=(currentLightboxImages.length+currentImageIndex-1)%currentLightboxImages[$(370)],document.getElementById($(181))[$(377)]=currentLightboxImages[currentImageIndex])}),document.getElementById("lightbox-img").addEventListener(_0xbcabaf(418),function(){currentLightboxImages.length>0&&0!==currentImageIndex&&(currentImageIndex=0,this.src=currentLightboxImages[0])}),document[_0xbcabaf(236)](_0xbcabaf(405),function(){let x=_0xbcabaf;document[x(305)](x(186))[x(268)]=MARQUEE_TEXT,document[x(305)](x(187))[x(268)]=MARQUEE_TEXT,cargarCarritoLocal()});const hamburgerBtn=document[_0xbcabaf(305)](_0xbcabaf(169)),hamburgerDropdown=document[_0xbcabaf(305)](_0xbcabaf(131));hamburgerBtn[_0xbcabaf(236)](_0xbcabaf(243),function(x){let $=_0xbcabaf;x[$(269)](),hamburgerDropdown[$(291)][$(117)]($(387))}),document[_0xbcabaf(236)]("click",function(x){let $=_0xbcabaf;hamburgerBtn[$(356)](x[$(247)])||hamburgerDropdown[$(356)](x[$(247)])||hamburgerDropdown[$(291)][$(127)]($(387))}),document[_0xbcabaf(168)](_0xbcabaf(280))[_0xbcabaf(331)](x=>{let $=_0xbcabaf;x.addEventListener($(243),function(){hamburgerDropdown.classList[$(127)]("active")})});const ultimoPedidoBtn=document[_0xbcabaf(305)](_0xbcabaf(432)),ultimoPedidoModal=document[_0xbcabaf(305)]("ultimoPedidoModal"),closeUltimoPedidoModal=document.getElementById(_0xbcabaf(139)),buscarUltimoPedidoBtn=document[_0xbcabaf(305)](_0xbcabaf(389)),ultimoPedidoEmailInput=document[_0xbcabaf(305)](_0xbcabaf(422)),buscarBtnText=document[_0xbcabaf(305)](_0xbcabaf(115)),buscarSpinner=document[_0xbcabaf(305)]("buscarSpinner"),ultimoPedidoMensaje=document[_0xbcabaf(305)](_0xbcabaf(321));function mostrarMensajeBusqueda(x,$){let a=_0xbcabaf,e=ultimoPedidoMensaje,t=e[a(341)](".fas"),o=e[a(341)](a(326));x===a(418)?(e[a(211)][a(364)]=a(304),e[a(211)][a(176)]="4px solid #e53e3e",e.style[a(229)]=a(173),t[a(155)]="fas fa-exclamation-circle"):"success"===x?(e.style.backgroundColor=a(390),e[a(211)][a(176)]="4px solid #48bb78",e.style[a(229)]=a(216),t[a(155)]=a(199)):x===a(118)&&(e.style[a(364)]=a(129),e.style[a(176)]=a(272),e[a(211)].color=a(170),t[a(155)]="fas fa-info-circle"),o.textContent=$,e.style[a(120)]="flex",e.style[a(217)]="center"}function ocultarMensajeBusqueda(){let x=_0xbcabaf;ultimoPedidoMensaje[x(211)][x(120)]=x(172)}function setEstadoCargaBusqueda(x){let $=_0xbcabaf;buscarUltimoPedidoBtn[$(277)]=x,buscarUltimoPedidoBtn.style.opacity=x?"0.7":"1",buscarUltimoPedidoBtn[$(211)].cursor=$(x?306:296),buscarBtnText[$(211)][$(120)]=$(x?172:299),buscarSpinner[$(211)][$(120)]=$(x?346:172),ultimoPedidoEmailInput[$(277)]=x}ultimoPedidoBtn[_0xbcabaf(236)](_0xbcabaf(243),function(){let x=_0xbcabaf;ultimoPedidoModal[x(211)][x(120)]="flex",ultimoPedidoEmailInput[x(409)]="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput[x(198)](),100)}),closeUltimoPedidoModal[_0xbcabaf(236)](_0xbcabaf(243),function(){let x=_0xbcabaf;ultimoPedidoModal[x(211)].display=x(172),ocultarMensajeBusqueda()}),ultimoPedidoModal[_0xbcabaf(236)](_0xbcabaf(345),function(x){let $=_0xbcabaf;x[$(247)]===ultimoPedidoModal&&(ultimoPedidoModal[$(211)].display=$(172),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0xbcabaf(236)](_0xbcabaf(243),function(){let x=_0xbcabaf,$=ultimoPedidoEmailInput[x(409)].trim()[x(293)]();if(ocultarMensajeBusqueda(),!$||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/[x(427)]($)){mostrarMensajeBusqueda(x(418),x(355)),ultimoPedidoEmailInput.focus();return}setEstadoCargaBusqueda(!0),db[x(276)]("pedidos")[x(257)](x(330))[x(221)]($)[x(267)]("value").then($=>{let a=x;if(setEstadoCargaBusqueda(!1),!$[a(342)]()){mostrarMensajeBusqueda("error",a(265));return}let e=null;$[a(331)](x=>{let $=a,t=x[$(232)]();(!e||t[$(256)]>e[$(256)])&&(e=t)}),e&&e.id?(mostrarMensajeBusqueda(a(279),"\xa1Pedido encontrado! Redirigiendo..."),setTimeout(()=>{let x=a;window[x(284)](x(123)+e.id,"_blank"),ultimoPedidoModal[x(211)].display=x(172),ocultarMensajeBusqueda(),ultimoPedidoEmailInput.value=""},800)):mostrarMensajeBusqueda("error","No se encontraron pedidos registrados con este email")})[x(135)](()=>{let $=x;setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda($(418),$(313))})}),ultimoPedidoEmailInput.addEventListener(_0xbcabaf(189),function(x){let $=_0xbcabaf;x[$(297)]===$(407)&&buscarUltimoPedidoBtn[$(243)]()}),document.addEventListener(_0xbcabaf(405),function(){let x=_0xbcabaf,$=document[x(305)](x(420));if($){let a=$[x(168)](x(219)),e=0;a[x(370)]>0&&setInterval(()=>{e=(e+1)%a[x(370)],function a(){let t=x,o=-(100*e);$.style[t(156)]=t(343)+o+"%)"}()},5e3)}});
