const _0x66367=_0x37ec;(function(x,$){let e=_0x37ec,t=x();for(;;)try{let a=-parseInt(e(524))/1+parseInt(e(582))/2+parseInt(e(521))/3*(-parseInt(e(553))/4)+-parseInt(e(666))/5+parseInt(e(479))/6*(-parseInt(e(453))/7)+parseInt(e(687))/8+parseInt(e(448))/9;if(348725===a)break;t.push(t.shift())}catch(o){t.push(t.shift())}})(_0x2cfc,348725),emailjs[_0x66367(679)](_0x66367(580));const WHATSAPP_URL="https://api.whatsapp.com/send/?phone=5491121891006",MARQUEE_TEXT=_0x66367(618),ITEMPESOS="6";function _0x2cfc(){let x=["border","/values/","0.7","55659BEYXJo","mayorista","slice","432739DfuMuX","appendChild","val","1px solid #ff9800","number","parentElement","all 0.3s ease",".hamburger-dropdown-item","close","cartBadge","Error enviando email:",'\n            <div class="info-modal-section">\n                <h4>Tama\xf1o</h4>\n                <p>',"replace","success","fontWeight","title","Este producto no tiene stock disponible.","json","btn-agregar-carrito","fas fa-info-circle","center","Error al actualizar el pedido: ","type","closeUltimoPedidoModal","length","lazy","values","catch",'<span style="color: #4CAF50;">✓ Disponible</span>',"136HJvSKr","clientes","indexOf","Error al actualizar pedido:","falta","activeElement","location","ABIERTO","ultimoPedidoBtn","includes","unidad","pointer","trim","2px","sort","\xa1Art\xedculos agregados exitosamente al pedido!","gap","No se encontraron datos en la hoja.","statusText","forEach","cssText","Stock insuficiente. Solo hay ","disabled","Error al cargar carrito desde localStorage:",'<i class="fas fa-info"></i>',"verPedidoBtnConfirmado","input","vcbQsbE2bgLwFAnDr","⚙️ Est\xe1s agregando art\xedculos al pedido #","227050BglvJx","scale(0.8)","16px","transform",".stock-info","El carrito est\xe1 vac\xedo.","Error al buscar el pedido. Por favor, intenta de nuevo","color","loadingOverlay",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">',"display","lightbox-img","set",'input[type="number"]',"background","carritoMayorista","50px","span",'<i class="fas fa-cart-plus"></i>',"database","categoria","get","localeCompare","El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.","54px","fontSize","toLowerCase","focus","inline","Error: No se encontr\xf3 el pedido original","classList","height","split","scrollTo","cantidad","message","\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS","update","#4CAF50","change","RANGO","borderColor","provincia","getElementById","ref","translateX(","none","bold","#e6ffed","Error al cargar pedido existente:","faltan","keydown",".fas","offsetWidth","pagination-button","div","35px","map","telefono","backgroundColor","textContent","next-btn","precio","innerHTML","cart-item-delete","cart-list","#c53030","contains","scale(1)","buscarBtnText","info-icon","createElement",'input[type="hidden"]',' m\xe1s.\n                        </p>\n                    </div>\n                </div>\n                <button id="cerrarMinimoPedidoBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"reduce",".card","floor","https://www.home-point.com.ar/pedidos.html?id=","min","minHeight","value","mousedown","cursor","alignItems","449340mJgWnb","borderRadius","Error al guardar pedido o cliente:","currentTarget","toggle","localidad","No se encontraron pedidos registrados con este email","find","web","src","pedidos",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Informaci\xf3n Importante</h2>\n                <p style=\'margin:8px 0 0 0;\'>Sobre el proceso de pedido</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#e3f2fd;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-truck" style="font-size:3em;color:#2196F3;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>La solicitud de pedido se utiliza solo para env\xedos.</strong>\n                    </p>\n                    <p style="margin:15px 0 0 0;color:#555;line-height:1.6;font-size:0.95em;">\n                        Si retir\xe1s en nuestro showroom, <strong>no hace falta generar un pedido</strong>.\n                    </p>\n                </div>\n                <button id="cerrarInfoPrimerArticuloBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"querySelectorAll","init","</p>\n            </div>\n        ","pageYOffset","active","marginTop","cliente","ultimoPedidoMensaje","no-disponible.png","3055216HUtrhs","cliente/email","Error al cargar los datos:","hamburgerDropdown","img","direccion","loading","stock-info","test","#ff9800","#fff","nombre","pedidos.html?id=","marquee-text-1","M\xe1ximo "," unidades disponibles","infoModal","1px solid #4CAF50","not-allowed",' en tu carrito.\n                        </p>\n                        <p style="margin:10px 0 0 0;color:#666;font-size:0.95em;">\n                            Te ',"#cccccc","textAlign","padding","fas fa-check-circle","minimo-pedido-modal","className","</strong> ","push","prev-btn","button","smooth","pedidos/","4px solid #4299e1","1px solid #ddd","filter","items","hidden","codigo","carousel-pie-images","limitToFirst","transition","carousel-images","click","4px","<strong>Ahora $</strong> ","open","max","stopPropagation","100px","Por favor, ingres\xe1 un email v\xe1lido","Error al enviar carrito","cerrarMinimoPedidoBtn","justifyContent","borderLeft","top","#e6f7ff","unidades","remove","?key=","Error al guardar carrito en localStorage:","dni","template_xqo1j5z","C\xf3digo: ","querySelector","body","11287818cHWvUZ","toString","info-primer-articulo-modal","getBoundingClientRect","relative","1732465VyEWDn","documentElement","5px","ultimoPedidoModal","#error","splice","timestamp","href","addEventListener","send","style","onclick","show","findIndex","#fee","position","error",".btn-agregar-carrito","key","\xa1Pedido encontrado! Redirigiendo...","infoModalTitle","catalogo","target","log","Anterior","block","6hjqvUu",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"DOMContentLoaded","exists","hamburgerBtn","todos","opacity","onerror","then",'<span style="color: #ff9800;">✗ Sin stock</span>',"once","checked","4px solid #48bb78","innerWidth","removeItem","option","add","pagination","buscar","filtroDisponibles","paddingRight","pedido","info","width","tipoCliente","flex","4px solid #e53e3e","email","</s></span>",".carousel-slide","Sin stock disponible","resize","buscarUltimoPedidoBtn","service_lu9cpxk","undefined","pedido-confirmado-modal","lightbox","now","modal"];return(_0x2cfc=function(){return x})()}firebase.initializeApp(firebaseConfig);const db=firebase[_0x66367(601)]();document[_0x66367(461)](_0x66367(481),function(){let x=_0x66367,$=document[x(625)](x(728)),e=$?$[x(678)](".carousel-slide"):[],t=0;e[x(548)]>0&&setInterval(()=>{t=(t+1)%e[x(548)],function a(){let o=x;if($&&e[o(548)]>0){let i=-(100*t);$[o(463)][o(585)]=o(627)+i+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let x=_0x66367;if(!modoEdicion)try{localStorage.setItem(x(597),JSON.stringify(carrito))}catch($){console[x(469)](x(442),$)}}function cargarCarritoLocal(){let x=_0x66367;if(!modoEdicion)try{let $=localStorage.getItem(x(597));$&&(carrito=JSON.parse($),actualizarCarrito())}catch(e){console.error(x(576),e),carrito=[]}}const urlParams=new URLSearchParams(window[_0x66367(559)].search),pedidoEditId=urlParams[_0x66367(603)](_0x66367(500)),modoEdicion=!!pedidoEditId;if(modoEdicion){localStorage[_0x66367(493)]("carritoMayorista");let x=document[_0x66367(653)](_0x66367(637));x[_0x66367(642)]=_0x66367(581)+pedidoEditId,x.id="aviso-edicion-pedido",x[_0x66367(463)][_0x66367(573)]="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ",document[_0x66367(447)][_0x66367(525)](x),document.body[_0x66367(463)][_0x66367(683)]=_0x66367(606),db[_0x66367(626)](_0x66367(718)+pedidoEditId).once(_0x66367(662))[_0x66367(487)](x=>{let $=_0x66367;if(x.exists()){let e=x[$(526)]();datosExtraCliente=e[$(684)]||{},console[$(476)]("Datos del pedido existente cargados:",e)}}).catch(x=>{let $=_0x66367;console[$(469)]($(631),x)})}const loadingOverlay=document.getElementById(_0x66367(590));fetch("https://sheets.googleapis.com/v4/spreadsheets/"+GOOGLE_SHEETS_CONFIG.SPREADSHEET_ID+_0x66367(519)+GOOGLE_SHEETS_CONFIG[_0x66367(622)]+_0x66367(441)+GOOGLE_SHEETS_CONFIG.API_KEY)[_0x66367(487)](x=>{let $=_0x66367;if(!x.ok)throw Error("Error al acceder a la API: "+x[$(571)]);return x[$(541)]()}).then(x=>{let $=_0x66367;loadingOverlay&&(loadingOverlay.style.display=$(628));let e=x[$(550)];if(!e||0===e[$(548)])throw Error($(570));datosFiltrados=productos=e[$(721)](x=>""!==(x[3]||"")[$(449)]()[$(565)]())[$(567)]((x,$)=>{function e(x){let $=_0x37ec;if(!x||""===x||null==x)return new Date(1900,0,1);if(x[$(562)]("/")){let e=x[$(614)]("/");if(3===e[$(548)]){let t=parseInt(e[0]),a=parseInt(e[1])-1,o=parseInt(e[2]);return new Date(o,a,t)}}return new Date(1900,0,1)}let t=e(x[12]),a=e($[12]);return a-t}),window[$(615)](0,0),mostrarPagina(1),setTimeout(()=>{let x=$;refreshStockInfo(),document[x(625)](x(498))[x(490)]&&i(),setTimeout(()=>{primeraCarga=!1},100)},100);let t=new Set(productos.map(x=>x[0])),a=document[$(625)]("categorias"),o=Array.from(t)[$(721)](x=>x&&""!==x[$(565)]())[$(567)]((x,e)=>x[$(604)](e,"es",{sensitivity:"base"}));function i(){let x=$,e=document[x(625)]("categorias").value,t=document[x(625)](x(497))[x(662)].toLowerCase(),a=document[x(625)](x(498)).checked,o=productos;e!==x(484)&&(o=o.filter(x=>x[0]===e)),""!==t[x(565)]()&&(o=o[x(721)]($=>$[3][x(608)]()[x(562)](t)||$[2][x(608)]()[x(562)](t)||$[17]&&$[17][x(608)]().includes(t))),a&&(o=o[x(721)]($=>{let e=$[10];if(null==e||""===e)return!1;let t=parseInt(String(e)[x(565)]());return!isNaN(t)&&t>1})),datosFiltrados=o,mostrarPagina(1,o)}o.forEach(x=>{let e=$,t=document[e(653)](e(494));t[e(662)]=x,t[e(642)]=x,a[e(525)](t)}),a[$(461)]("change",()=>{i()}),document[$(625)]($(497)).addEventListener($(579),x=>{i()}),document.getElementById($(498)).addEventListener("change",()=>{i()}),document[$(625)]($(484)).addEventListener($(729),()=>{let x=$;document[x(625)]("categorias")[x(662)]=x(484),document[x(625)](x(497))[x(662)]="",document[x(625)](x(498))[x(490)]=!1,datosFiltrados=productos,mostrarPagina(1)})})[_0x66367(551)](x=>{let $=_0x66367;loadingOverlay&&(loadingOverlay[$(463)].display=$(628)),console[$(469)]($(689),x),document[$(446)]($(457))[$(642)]=x[$(617)]});let primeraCarga=!0;function mostrarPagina(x,$=productos){let e=_0x66367;currentPage=x,$[e(548)];let t=(x-1)*30,a=$[e(523)](t,t+30);cargarGrid(a),actualizarPaginacion(x,$),document[e(558)]!==document[e(625)](e(497))&&setTimeout(()=>{let x=e;if(primeraCarga)window.scrollTo({top:0,behavior:"auto"});else{let $=document[x(625)]("categorias");if($){let t=$[x(451)](),a=window[x(681)]||document[x(454)].scrollTop;window.scrollTo({top:t[x(437)]+a-20,behavior:x(717)})}}},0)}function cargarGrid(x){let $=_0x66367,e=document[$(625)]($(474));e.innerHTML="",x.forEach(x=>{let t=$,a=document.createElement(t(637));a[t(612)].add("card");let o=document[t(653)](t(579));o.type=t(723),o[t(662)]=x[2],a.appendChild(o);let i=x[14]||"",r=x[15]||"";if(i||r){let d=document[t(653)](t(637));d.classList[t(495)](t(652)),d.innerHTML=t(577),d[t(539)]="Ver informaci\xf3n adicional",d[t(461)](t(729),()=>{mostrarInfoModal(x[3],i,r)}),a[t(525)](d)}if(isValidImageUrl(x[1])){let n=[];-1!==x[1][t(555)](",")?n=x[1][t(614)](",")[t(639)](x=>x[t(565)]()):n[t(714)](x[1]);let l=document[t(653)](t(691));l.src=n[0],l[t(693)]=t(549),l[t(486)]=function(){let x=t;this[x(675)]=x(686)},l.addEventListener(t(729),()=>{abrirLightbox(n)}),a[t(525)](l)}let c=document[t(653)]("h3");c[t(642)]=x[3],a.appendChild(c);let s=document[t(653)](t(637));s.classList.add(t(501)),s[t(642)]=t(445)+x[2],a.appendChild(s);let _=document[t(653)](t(637));_[t(612)][t(495)](t(694)),_[t(463)].margin="5px 0",_[t(463)][t(538)]=t(629);let f=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(f=parseInt(x[10])),isNaN(f)?_[t(645)]=t(488):f<=1?_[t(645)]='<span style="color: #ff9800;">✗ Sin stock</span>':f<=10?_.innerHTML='<span style="color: #ffeb3b;">⚠ Pocas unidades</span>':_[t(645)]=t(552),a[t(525)](_);{let u=document[t(653)]("p");u[t(645)]=t(591)+x[13]+t(507),u.style.marginBottom=t(455),a[t(525)](u)}let m=document[t(653)]("p");m[t(645)]=t(427)+x["6"],m.style.marginTop=t(566),a[t(525)](m);let p=document[t(653)](t(637));p[t(463)][t(592)]=t(504),p[t(463)][t(665)]=t(544),p[t(463)][t(435)]=t(544),p[t(463)].gap=t(455),p[t(463)][t(661)]=t(598);let g=document[t(653)](t(637));g[t(463)][t(592)]=t(628),g[t(463)][t(665)]=t(544),g.style[t(569)]=t(455),g[t(463)][t(727)]=t(530),g[t(463)][t(485)]="0";let b=document.createElement(t(716));b[t(645)]="-",b[t(463)][t(709)]="5px 10px",b[t(463)][t(607)]="16px",b[t(463)][t(613)]="35px",b.style[t(502)]=t(638),b[t(463)][t(641)]=t(696),b[t(463)].color=t(697),b[t(463)][t(518)]=t(527),b[t(463)][t(667)]=t(426),b.style[t(664)]="pointer";let h=document[t(653)]("input");h[t(546)]=t(528),h[t(660)]="1",h[t(662)]="1",h[t(463)][t(502)]="50px",h.style[t(613)]=t(638),h.style[t(709)]=t(455),h[t(463)][t(708)]="center",h.style[t(518)]=t(720),h.style[t(667)]="4px";let y=document[t(653)]("button");y[t(645)]="+",y[t(463)][t(709)]="5px 10px",y[t(463)].fontSize=t(584),y[t(463)][t(613)]="35px",y[t(463)][t(502)]=t(638),y.style[t(641)]=t(696),y[t(463)].color="#fff",y[t(463)][t(518)]=t(527),y[t(463)][t(667)]=t(426),y.style.cursor=t(564),g[t(525)](b),g.appendChild(h),g[t(525)](y);let E=document.createElement("button");function v(){let $=t,e=parseInt(h.value);if(e>0){let a=carrito[$(673)](x=>x[$(698)]===c[$(642)]);a?a.cantidad=e:agregarAlCarrito(c[$(642)],x[6],e,x[2],x[0],x[7][$(449)]()[$(536)](/[,\.]/g,""),x[6][$(449)]()[$(536)](/[,\.]/g,"")),actualizarCarrito()}}E[t(645)]=t(600),E[t(463)][t(709)]="10px 10px",E[t(463)][t(607)]=t(584),E.style.height=t(598),E[t(463)].width=t(598),E[t(463)][t(641)]=t(620),E[t(463)][t(589)]="#fff",E[t(463)].border=t(704),E.style[t(667)]=t(426),E[t(463)][t(664)]=t(564),E.style[t(727)]=t(530),E[t(612)][t(495)](t(542)),!isNaN(f)&&f>0?(h[t(429)]=f,h[t(539)]=t(701)+f+t(702)):(E[t(575)]=!0,E[t(463)][t(641)]=t(707),E.style[t(623)]="#cccccc",E[t(463)][t(664)]="not-allowed",E.title="Sin stock disponible"),E[t(461)](t(729),()=>{let $=t,e=0;if(void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(e=parseInt(x[10])),isNaN(e)||e<=0){alert($(540));return}h[$(662)]="1",v(),function x(){let $=t;E[$(463)].opacity="0",E.style.transform="scale(0.8)",setTimeout(()=>{let x=$;E.style[x(592)]="none",g[x(463)][x(592)]="flex",setTimeout(()=>{let $=x;g.style[$(485)]="1",g[$(463)][$(585)]=$(650)},50)},150)}()}),y[t(461)](t(729),()=>{let $=t,e=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(e=parseInt(x[10]));let a=parseInt(h[$(662)]);if(!isNaN(e)&&a>=e){alert("Stock insuficiente. Solo hay "+e+" unidades disponibles.");return}h[$(662)]=a+1,v()}),b.addEventListener("click",()=>{let x=t,$=parseInt(h[x(662)]);if($>1)h.value=$-1,v();else{let e=carrito[x(673)]($=>$.nombre===c[x(642)]);if(e){let a=carrito[x(555)](e);carrito[x(458)](a,1),actualizarCarrito()}g[x(463)].opacity="0",g[x(463)][x(585)]="scale(0.8)",setTimeout(()=>{let $=x;g[$(463)][$(592)]=$(628),E[$(463)][$(592)]="block",E[$(463)][$(485)]="0",E[$(463)][$(585)]=$(583),setTimeout(()=>{let x=$;E[x(463)][x(485)]="1",E[x(463)][x(585)]="scale(1)"},50)},150)}}),h[t(461)](t(621),()=>{let $=t,e=parseInt(h.value),a=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(a=parseInt(x[10])),e<=0?h[$(662)]="1":!isNaN(a)&&e>a&&(alert($(574)+a+" unidades disponibles."),h[$(662)]=a),v()}),p[t(525)](E),p.appendChild(g),a[t(525)](p),e[t(525)](a)})}function refreshStockInfo(){let x=_0x66367,$=document[x(678)](x(657));$[x(572)]($=>{let e=x,t=$[e(446)](e(586));if(t){let a=$[e(446)](e(654));if(a){let o=a[e(662)],i=productos[e(673)](x=>x[2]===o),r=0;i&&void 0!==i[10]&&null!==i[10]&&""!==i[10]&&(r=parseInt(i[10])),isNaN(r)?t[e(645)]=e(488):r<=1?t[e(645)]=e(488):r<=10?t.innerHTML=e(480):t[e(645)]=e(552);let d=$[e(446)](e(595)),n=$.querySelector(e(470));d&&(!isNaN(r)&&r>0?(d[e(429)]=r,d[e(575)]=!1,d[e(539)]=e(701)+r+e(702),n&&n[e(575)]&&(n[e(575)]=!1,n[e(463)].backgroundColor=e(620),n.style[e(623)]="#4CAF50",n[e(463)].cursor="pointer",n.title="")):(d[e(575)]=!0,d[e(539)]=e(509),n&&(n[e(575)]=!0,n[e(463)][e(641)]="#cccccc",n[e(463)][e(623)]="#cccccc",n[e(463)][e(664)]=e(705),n.title=e(509))))}}})}function agregarAlCarrito(x,$,e,t,a){let o=_0x66367,i=0===carrito.length,r=carrito.find($=>$[o(698)]===x);r?r[o(616)]+=e:carrito.push({nombre:x,precio:$,cantidad:e,codigo:t,categoria:a}),actualizarCarrito(),guardarCarritoLocal(),i&&!modoEdicion&&mostrarModalInfoPrimerArticulo()}function getMaxVisiblePaginationButtons(){let x=_0x66367,$=document[x(625)](x(496)),e=window[x(492)];$&&(e=$[x(635)]||e);let t=Math[x(429)](3,Math[x(658)]((e-220)/48));return Math[x(660)](t,15)}function actualizarPaginacion(x,$){let e=_0x66367,t=document[e(625)](e(496));t.innerHTML="";let a=Math.ceil($.length/30);if(x>1){let o=document.createElement(e(716));o.textContent=e(477),o.style.width="100px",o[e(461)]("click",()=>mostrarPagina(x-1,$)),t[e(525)](o)}let i=getMaxVisiblePaginationButtons(),r=Math.max(1,x-Math[e(658)](i/2)),d=Math[e(660)](a,r+i-1);d-r<i-1&&(r=Math[e(429)](1,d-i+1));for(let n=r;n<=d;n++){let l=document[e(653)](e(716));l.textContent=n,l[e(612)][e(495)](e(636)),n===x&&l[e(612)].add(e(682)),l.addEventListener("click",()=>mostrarPagina(n,$)),t[e(525)](l)}if(x<a){let c=document[e(653)](e(716));c.textContent="Siguiente",c.style[e(502)]=e(431),c.addEventListener(e(729),()=>mostrarPagina(x+1,$)),t.appendChild(c)}}function isValidImageUrl(x){return x&&x.match(/\.(jpeg|jpg|gif|png)$/i)}function _0x37ec(x,$){x-=426;let e=_0x2cfc();return e[x]}function abrirLightbox(x){let $=_0x66367;currentLightboxImages=x,currentImageIndex=0,document[$(625)]($(593)).src=currentLightboxImages[currentImageIndex],document[$(625)]("lightbox")[$(463)][$(592)]=$(504),actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let x=_0x66367,$=document[x(625)](x(715)),e=document[x(625)](x(643));currentLightboxImages[x(548)]>1?($[x(463)][x(592)]="block",e[x(463)].display=x(478)):($.style.display=x(628),e[x(463)][x(592)]=x(628))}function closeLightbox(x){let $=_0x66367;(x.target===x[$(669)]||x.target[$(612)][$(649)]($(532)))&&(document[$(625)]($(515)).style.display=$(628))}function mostrarInfoModal(x,$,e){let t=_0x66367,a=document[t(625)](t(703)),o=document[t(625)](t(473)),i=document.getElementById("infoModalBody");o.textContent=x;let r="";$&&""!==$.trim()&&(r+='\n            <div class="info-modal-section">\n                <h4>Especificaciones del Fabricante:</h4>\n                <p>'+$+t(680)),e&&""!==e[t(565)]()&&(r+=t(535)+e+t(680)),i[t(645)]=r,a[t(612)][t(495)](t(465))}function closeInfoModal(x){let $=_0x66367,e=document[$(625)]($(703));x&&x.target!==x[$(669)]||e.classList.remove($(465))}function actualizarCarrito(){let x=_0x66367,$=document.getElementById(x(647)),e=document[x(625)]("cartFloatBtn"),t=document[x(625)](x(533));$.innerHTML="";let a=carrito[x(656)](($,e)=>$+e[x(616)],0);if(0===carrito[x(548)]){e&&(e[x(463)].display=x(628));let o=document[x(625)]("cartContainer");o&&(o[x(612)].remove(x(682)),"undefined"!=typeof cartExpanded&&(cartExpanded=!1))}else e&&(e[x(463)][x(592)]="flex");t&&(t[x(642)]=a),carrito[x(572)]((e,t)=>{let a=x,o=document[a(653)]("li");o[a(463)][a(468)]=a(452),o.style[a(499)]=a(638);let i=document.createElement(a(637));i[a(645)]="\n            <strong>"+e[a(698)]+"</strong>&nbsp;<small>x"+e[a(616)]+"</small>\n        ";let r=document[a(653)](a(716));r[a(712)]=a(646),r[a(645)]='<i class="fas fa-times"></i>',r[a(464)]=function(){eliminarItemCarrito(t)},o[a(525)](i),o.appendChild(r),$.appendChild(o)})}function eliminarItemCarrito(x){let $=_0x66367,e=carrito[x],t=document.querySelectorAll(".card");t[$(572)](x=>{let t=$,a=x[t(446)]("h3")?.textContent;if(a===e[t(698)]){let o=x[t(446)](t(470)),i=x[t(446)](t(595))?.[t(529)],r=x[t(446)](t(595));o&&i&&r&&(r[t(662)]="1",i.style.display=t(628),i[t(463)][t(485)]="0",i[t(463)][t(585)]=t(583),o[t(463)][t(592)]="block",o.style[t(485)]="1",o[t(463)][t(585)]=t(650),o[t(463)][t(596)]="",o[t(463)].color="",o.style[t(518)]="")}}),carrito[$(458)](x,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado(x,$){let e=_0x66367,t=document[e(625)](e(514));t&&t[e(440)]();let a=document.createElement(e(637));a.id="pedido-confirmado-modal",a.className="modal",a[e(463)].display=e(504),a.innerHTML='\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',document.body[e(525)](a),document[e(625)](e(578))[e(464)]=function(){let $=e;window[$(559)][$(460)]=$(699)+x}}function mostrarModalInfoPrimerArticulo(){let x=_0x66367,$=document[x(625)](x(450));$&&$[x(440)]();let e=document[x(653)](x(637));e.id=x(450),e[x(712)]=x(517),e[x(463)].display=x(504),e[x(645)]=x(677),document[x(447)][x(525)](e),document[x(625)]("cerrarInfoPrimerArticuloBtn")[x(464)]=function(){e[x(440)]()},e[x(464)]=function($){let t=x;$[t(475)]===e&&e[t(440)]()}}function mostrarModalMinimoPedido(x){let $=_0x66367,e=document[$(625)]($(711));e&&e[$(440)]();let t=5-x,a=document[$(653)]($(637));a.id=$(711),a[$(712)]=$(517),a[$(463)][$(592)]="flex",a[$(645)]='\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Pedido M\xednimo Requerido</h2>\n                <p style=\'margin:8px 0 0 0;\'>Para procesar tu pedido necesitamos un m\xednimo de unidades</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#fff3e0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-shopping-cart" style="font-size:3em;color:#ff9800;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>Necesitas agregar al menos 5 unidades para procesar el pedido.</strong>\n                    </p>\n                    <div style="margin-top:20px;padding:15px;background:#fff;border-radius:8px;border-left:4px solid #ff9800;">\n                        <p style="margin:0;color:#666;font-size:0.95em;">\n                            Actualmente tienes <strong style="color:#ff9800;font-size:1.2em;">'+x+$(713)+(1===x?"unidad":$(439))+$(706)+(1===t?$(557):$(632))+' <strong style="color:#ff9800;font-size:1.2em;">'+t+$(713)+(1===t?$(563):$(439))+$(655),document.body[$(525)](a),document[$(625)]($(434)).onclick=function(){a[$(440)]()},a.onclick=function(x){let e=$;x[e(475)]===a&&a[e(440)]()}}function limpiarCarrito(){let x=_0x66367;carrito=[],document[x(678)](x(657))[x(572)]($=>{let e=x,t=$[e(446)](e(470)),a=$.querySelector(e(595))?.[e(529)],o=$.querySelector(e(595));t&&a&&o&&(o[e(662)]="1",a.style[e(592)]=e(628),a.style.opacity="0",a[e(463)][e(585)]=e(583),t[e(463)][e(592)]=e(478),t[e(463)][e(485)]="1",t[e(463)][e(585)]=e(650),t[e(463)][e(596)]="",t[e(463)][e(589)]="",t[e(463)][e(518)]="")}),actualizarCarrito(),guardarCarritoLocal()}function calcularTotalCarrito(){return carrito.reduce((x,$)=>{let e=_0x37ec,t=parseFloat($[e(644)].toString()[e(536)](/[^0-9.-]/g,""));return x+t*$[e(616)]},0)}function enviarPedido(){let x=_0x66367;if(0===carrito[x(548)]){alert(x(605));return}let $=carrito[x(656)](($,e)=>$+e[x(616)],0);if($<5&&!modoEdicion){mostrarModalMinimoPedido($);return}let e=calcularTotalCarrito();if(e<1e5&&!modoEdicion){alert(x(433));return}if(modoEdicion){enviarPedidoFinal();return}let t=document[x(625)]("clienteModal");t&&(t[x(463)].display=x(504))}function enviarPedidoFinal(){let x=_0x66367;if(modoEdicion&&pedidoEditId){let $=db[x(626)]("pedidos/"+pedidoEditId);$[x(489)](x(662))[x(487)](e=>{let t=x;if(!e.exists()){alert(t(611));return}let a=e[t(526)]();if(a.locked){alert("Este pedido est\xe1 cerrado y no se puede editar.");return}return carrito[t(572)](x=>{let $=t,e=a[$(722)][$(466)](e=>e[$(698)]===x.nombre);e>-1?a.items[e][$(616)]+=x[$(616)]:a[$(722)][$(714)]({nombre:x[$(698)],cantidad:x[$(616)],valorUSD:x[$(644)],codigo:x[$(724)]||"",categoria:x[$(602)]||""})}),a[t(684)]={nombre:datosExtraCliente.nombre||a.cliente?.nombre||"",telefono:datosExtraCliente[t(640)]||a[t(684)]?.telefono||"",localidad:datosExtraCliente[t(671)]||a[t(684)]?.localidad||"",direccion:datosExtraCliente[t(692)]||a.cliente?.[t(692)]||"",provincia:datosExtraCliente[t(624)]||a.cliente?.[t(624)]||"",dni:String(datosExtraCliente[t(443)]||a[t(684)]?.dni||""),email:datosExtraCliente[t(506)]||a[t(684)]?.[t(506)]||"",tipoCliente:datosExtraCliente.tipoCliente||a[t(684)]?.tipoCliente||t(522)},$[t(619)]({items:a[t(722)],cliente:a.cliente,adminViewed:!1,lastUpdated:Date.now()})}).then(()=>{let $=x;alert($(568)),setTimeout(()=>{window.location[$(536)]("pedidos.html?id="+pedidoEditId)},300)})[x(551)]($=>{let e=x;console.error(e(556),$),alert(e(545)+$[e(617)])});return}if(0===carrito.length){alert(x(587));return}let e=datosExtraCliente[x(506)]||"";db[x(626)](x(554)).orderByChild(x(506)).equalTo(e.toLowerCase())[x(726)](1)[x(489)](x(662))[x(487)]($=>{let t=x;return!$[t(482)]()&&e?db[t(626)]("clientes")[t(714)]({email:e[t(608)](),nombre:datosExtraCliente[t(698)]||"",telefono:datosExtraCliente[t(640)]||"",localidad:datosExtraCliente.localidad||"",direccion:datosExtraCliente[t(692)]||"",provincia:datosExtraCliente.provincia||"",dni:String(datosExtraCliente[t(443)]||""),tipoCliente:datosExtraCliente[t(503)]||t(522),registro:"web"}):Promise.resolve()})[x(487)](()=>{let $=x,e=db[$(626)]($(676))[$(714)](),t=e.key,a={id:t,timestamp:Date[$(516)](),locked:!1,adminViewed:!1,createdby:$(674),status:$(560),cliente:{nombre:datosExtraCliente[$(698)]||"",telefono:datosExtraCliente[$(640)]||"",localidad:datosExtraCliente[$(671)]||"",direccion:datosExtraCliente[$(692)]||"",provincia:datosExtraCliente[$(624)]||"",dni:String(datosExtraCliente[$(443)]||""),email:datosExtraCliente[$(506)]||"",tipoCliente:datosExtraCliente[$(503)]||$(522)},items:carrito[$(639)](x=>({nombre:x[$(698)],cantidad:x.cantidad,valorUSD:x[$(644)],codigo:x[$(724)]||"",categoria:x[$(602)]||""}))};return e[$(594)](a)[$(487)](()=>t)})[x(487)]($=>{let e=x;datosExtraCliente[e(506)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/[e(695)](datosExtraCliente[e(506)])&&emailjs[e(462)](e(512),e(444),{email:datosExtraCliente[e(506)],name:datosExtraCliente[e(698)],linkPedido:e(659)+$})[e(487)](function(x){console[e(476)]("Email enviado!",x.status,x.text)},function(x){let $=e;console[$(469)]($(534),x)}),mostrarModalPedidoConfirmado($,datosExtraCliente.email),limpiarCarrito(),datosExtraCliente={}}).catch($=>{let e=x;console[e(469)](e(668),$),alert("Error al guardar el pedido: "+$.message)})}window[_0x66367(461)](_0x66367(510),()=>{let x=_0x66367;if(typeof currentPage!==x(513)){let $=datosFiltrados[x(548)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,$)}}),document[_0x66367(625)](_0x66367(643))[_0x66367(461)](_0x66367(729),x=>{let $=_0x66367;x[$(430)](),currentLightboxImages.length>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[$(548)],document[$(625)]($(593))[$(675)]=currentLightboxImages[currentImageIndex])}),document[_0x66367(625)]("prev-btn")[_0x66367(461)](_0x66367(729),x=>{let $=_0x66367;x[$(430)](),currentLightboxImages[$(548)]>0&&(currentImageIndex=(currentLightboxImages[$(548)]+currentImageIndex-1)%currentLightboxImages[$(548)],document[$(625)]($(593))[$(675)]=currentLightboxImages[currentImageIndex])}),document[_0x66367(625)]("lightbox-img")[_0x66367(461)](_0x66367(469),function(){currentLightboxImages[_0x66367(548)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this.src=currentLightboxImages[0])}),document[_0x66367(461)](_0x66367(481),function(){let x=_0x66367;document[x(625)](x(700))[x(645)]=MARQUEE_TEXT,document[x(625)]("marquee-text-2")[x(645)]=MARQUEE_TEXT,cargarCarritoLocal()});const hamburgerBtn=document[_0x66367(625)](_0x66367(483)),hamburgerDropdown=document[_0x66367(625)](_0x66367(690));hamburgerBtn[_0x66367(461)](_0x66367(729),function(x){let $=_0x66367;x.stopPropagation(),hamburgerDropdown[$(612)][$(670)]($(682))}),document[_0x66367(461)](_0x66367(729),function(x){let $=_0x66367;hamburgerBtn[$(649)](x[$(475)])||hamburgerDropdown[$(649)](x[$(475)])||hamburgerDropdown[$(612)][$(440)]($(682))}),document[_0x66367(678)](_0x66367(531))[_0x66367(572)](x=>{let $=_0x66367;x.addEventListener($(729),function(){let x=$;hamburgerDropdown.classList[x(440)](x(682))})});const ultimoPedidoBtn=document[_0x66367(625)](_0x66367(561)),ultimoPedidoModal=document[_0x66367(625)](_0x66367(456)),closeUltimoPedidoModal=document[_0x66367(625)](_0x66367(547)),buscarUltimoPedidoBtn=document[_0x66367(625)](_0x66367(511)),ultimoPedidoEmailInput=document[_0x66367(625)]("ultimoPedidoEmailInput"),buscarBtnText=document.getElementById(_0x66367(651)),buscarSpinner=document[_0x66367(625)]("buscarSpinner"),ultimoPedidoMensaje=document[_0x66367(625)](_0x66367(685));function mostrarMensajeBusqueda(x,$){let e=_0x66367,t=ultimoPedidoMensaje,a=t[e(446)](e(634)),o=t[e(446)](e(599));x===e(469)?(t[e(463)].backgroundColor=e(467),t[e(463)][e(436)]=e(505),t[e(463)][e(589)]=e(648),a[e(712)]="fas fa-exclamation-circle"):x===e(537)?(t[e(463)][e(641)]=e(630),t.style[e(436)]=e(491),t.style[e(589)]="#2f855a",a[e(712)]=e(710)):x===e(501)&&(t.style.backgroundColor=e(438),t[e(463)].borderLeft=e(719),t[e(463)][e(589)]="#2b6cb0",a[e(712)]=e(543)),o[e(642)]=$,t[e(463)][e(592)]=e(504),t.style[e(665)]=e(544)}function ocultarMensajeBusqueda(){let x=_0x66367;ultimoPedidoMensaje.style[x(592)]="none"}function setEstadoCargaBusqueda(x){let $=_0x66367;buscarUltimoPedidoBtn[$(575)]=x,buscarUltimoPedidoBtn[$(463)][$(485)]=x?$(520):"1",buscarUltimoPedidoBtn[$(463)][$(664)]=$(x?705:564),buscarBtnText[$(463)][$(592)]=$(x?628:610),buscarSpinner[$(463)][$(592)]=$(x?478:628),ultimoPedidoEmailInput.disabled=x}ultimoPedidoBtn[_0x66367(461)](_0x66367(729),function(){let x=_0x66367;ultimoPedidoModal[x(463)][x(592)]="flex",ultimoPedidoEmailInput.value="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput[x(609)](),100)}),closeUltimoPedidoModal[_0x66367(461)](_0x66367(729),function(){let x=_0x66367;ultimoPedidoModal[x(463)].display=x(628),ocultarMensajeBusqueda()}),ultimoPedidoModal[_0x66367(461)](_0x66367(663),function(x){let $=_0x66367;x[$(475)]===ultimoPedidoModal&&(ultimoPedidoModal[$(463)][$(592)]="none",ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x66367(461)]("click",function(){let x=_0x66367,$=ultimoPedidoEmailInput[x(662)][x(565)]().toLowerCase();if(ocultarMensajeBusqueda(),!$||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/[x(695)]($)){mostrarMensajeBusqueda(x(469),x(432)),ultimoPedidoEmailInput[x(609)]();return}setEstadoCargaBusqueda(!0),db[x(626)](x(676)).orderByChild(x(688)).equalTo($)[x(489)](x(662)).then($=>{let e=x;if(setEstadoCargaBusqueda(!1),!$[e(482)]()){mostrarMensajeBusqueda(e(469),"No se encontraron pedidos registrados con este email");return}let t=null;$.forEach(x=>{let $=e,a=x[$(526)]();(!t||a[$(459)]>t[$(459)])&&(t=a)}),t&&t.id?(mostrarMensajeBusqueda(e(537),e(472)),setTimeout(()=>{let x=e;window[x(428)](x(699)+t.id,"_blank"),ultimoPedidoModal[x(463)].display=x(628),ocultarMensajeBusqueda(),ultimoPedidoEmailInput[x(662)]=""},800)):mostrarMensajeBusqueda(e(469),e(672))})[x(551)](()=>{setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda("error",x(588))})}),ultimoPedidoEmailInput[_0x66367(461)](_0x66367(633),function(x){"Enter"===x[_0x66367(471)]&&buscarUltimoPedidoBtn.click()}),document.addEventListener("DOMContentLoaded",function(){let x=_0x66367,$=document.getElementById(x(725));if($){let e=$[x(678)](x(508)),t=0;e[x(548)]>0&&setInterval(()=>{t=(t+1)%e[x(548)],function e(){let a=x,o=-(100*t);$[a(463)].transform="translateX("+o+"%)"}()},5e3)}});
