const _0x4cde3b=_0x52b0;(function($,x){let e=_0x52b0,t=$();for(;;)try{let a=-parseInt(e(485))/1*(parseInt(e(377))/2)+-parseInt(e(416))/3+parseInt(e(482))/4+parseInt(e(274))/5*(parseInt(e(388))/6)+parseInt(e(314))/7+-parseInt(e(413))/8*(parseInt(e(249))/9)+-parseInt(e(277))/10;if(118458===a)break;t.push(t.shift())}catch(_){t.push(t.shift())}})(_0x363c,118458),emailjs[_0x4cde3b(356)](_0x4cde3b(382));const WHATSAPP_URL=_0x4cde3b(517),MARQUEE_TEXT=_0x4cde3b(520),ITEMPESOS="6";firebase[_0x4cde3b(303)](firebaseConfig);const db=firebase[_0x4cde3b(296)]();document[_0x4cde3b(494)](_0x4cde3b(368),function(){let $=_0x4cde3b,x=document.getElementById($(365)),e=x?x[$(386)](".carousel-slide"):[],t=0;e.length>0&&setInterval(()=>{t=(t+1)%e[$(256)],function a(){let _=$;if(x&&e[_(256)]>0){let o=-(100*t);x[_(328)].transform=_(462)+o+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let $=_0x4cde3b;if(!modoEdicion)try{localStorage[$(498)]($(464),JSON[$(530)](carrito))}catch(x){console[$(307)]($(297),x)}}function cargarCarritoLocal(){let $=_0x4cde3b;if(!modoEdicion)try{let x=localStorage.getItem($(464));x&&(carrito=JSON[$(345)](x),actualizarCarrito())}catch(e){console[$(307)]("Error al cargar carrito desde localStorage:",e),carrito=[]}}const urlParams=new URLSearchParams(window[_0x4cde3b(379)][_0x4cde3b(374)]),pedidoEditId=urlParams.get(_0x4cde3b(446)),modoEdicion=!!pedidoEditId;if(modoEdicion){localStorage[_0x4cde3b(354)](_0x4cde3b(464));let $=document[_0x4cde3b(465)]("div");$[_0x4cde3b(528)]="⚙️ Est\xe1s agregando art\xedculos al pedido #"+pedidoEditId,$.id=_0x4cde3b(477),$[_0x4cde3b(328)][_0x4cde3b(516)]=_0x4cde3b(421),document[_0x4cde3b(442)][_0x4cde3b(511)]($),document[_0x4cde3b(442)].style.marginTop=_0x4cde3b(260),db.ref(_0x4cde3b(301)+pedidoEditId)[_0x4cde3b(488)](_0x4cde3b(326))[_0x4cde3b(436)]($=>{let x=_0x4cde3b;if($.exists()){let e=$.val();datosExtraCliente=e[x(550)]||{},console[x(366)](x(506),e)}})[_0x4cde3b(284)]($=>{let x=_0x4cde3b;console[x(307)](x(529),$)})}const loadingOverlay=document.getElementById(_0x4cde3b(246));function _0x52b0($,x){$-=243;let e=_0x363c();return e[$]}fetch("https://sheets.googleapis.com/v4/spreadsheets/"+GOOGLE_SHEETS_CONFIG[_0x4cde3b(252)]+_0x4cde3b(490)+GOOGLE_SHEETS_CONFIG[_0x4cde3b(259)]+_0x4cde3b(502)+GOOGLE_SHEETS_CONFIG[_0x4cde3b(342)]).then($=>{let x=_0x4cde3b;if(!$.ok)throw Error("Error al acceder a la API: "+$[x(407)]);return $.json()}).then($=>{let x=_0x4cde3b;loadingOverlay&&(loadingOverlay.style[x(503)]=x(526));let e=$[x(519)];if(!e||0===e[x(256)])throw Error(x(452));datosFiltrados=productos=e[x(258)]($=>""!==($[3]||"")[x(391)]()[x(546)]())[x(373)](($,x)=>{function e($){let x=_0x52b0;if(!$||""===$||null==$)return new Date(1900,0,1);if($[x(549)]("/")){let e=$[x(352)]("/");if(3===e[x(256)]){let t=parseInt(e[0]),a=parseInt(e[1])-1,_=parseInt(e[2]);return new Date(_,a,t)}}return new Date(1900,0,1)}let t=e($[12]),a=e(x[12]);return a-t}),window[x(333)](0,0),mostrarPagina(1),setTimeout(()=>{let $=x;refreshStockInfo(),document[$(463)]("filtroDisponibles")[$(253)]&&o(),setTimeout(()=>{primeraCarga=!1},100)},100);let t=new Set(productos[x(378)]($=>$[0])),a=document[x(463)]("categorias"),_=Array[x(390)](t)[x(258)]($=>$&&""!==$[x(546)]())[x(373)](($,e)=>$[x(271)](e,"es",{sensitivity:x(535)}));function o(){let $=x,e=document[$(463)]($(362))[$(326)],t=document[$(463)]($(359)).value.toLowerCase(),a=document[$(463)]($(348))[$(253)],_=productos;e!==$(351)&&(_=_[$(258)]($=>$[0]===e)),""!==t.trim()&&(_=_.filter(x=>x[3].toLowerCase()[$(549)](t)||x[2][$(372)]()[$(549)](t)||x[17]&&x[17][$(372)]()[$(549)](t))),a&&(_=_.filter(x=>{let e=x[10];if(null==e||""===e)return!1;let t=parseInt(String(e)[$(546)]());return!isNaN(t)&&t>1})),datosFiltrados=_,mostrarPagina(1,_)}_[x(547)]($=>{let e=x,t=document.createElement(e(367));t[e(326)]=$,t[e(528)]=$,a[e(511)](t)}),a[x(494)]("change",()=>{o()}),document[x(463)]("buscar")[x(494)](x(459),$=>{o()}),document[x(463)](x(348))[x(494)](x(411),()=>{o()}),document[x(463)](x(351))[x(494)](x(250),()=>{let $=x;document[$(463)]($(362))[$(326)]=$(351),document[$(463)]($(359)).value="",document[$(463)]($(348)).checked=!1,datosFiltrados=productos,mostrarPagina(1)})})[_0x4cde3b(284)]($=>{let x=_0x4cde3b;loadingOverlay&&(loadingOverlay[x(328)][x(503)]="none"),console[x(307)](x(493),$),document[x(445)](x(487))[x(528)]=$[x(316)]});let primeraCarga=!0;function mostrarPagina($,x=productos){let e=_0x4cde3b;currentPage=$,x[e(256)];let t=($-1)*30,a=x[e(281)](t,t+30);cargarGrid(a),actualizarPaginacion($,x),document.activeElement!==document.getElementById(e(359))&&setTimeout(()=>{let $=e;if(primeraCarga)window.scrollTo({top:0,behavior:$(291)});else{let x=document.getElementById($(362));if(x){let t=x[$(426)](),a=window[$(470)]||document[$(478)].scrollTop;window[$(333)]({top:t.top+a-20,behavior:$(360)})}}},0)}function cargarGrid($){let x=_0x4cde3b,e=document.getElementById(x(278));e[x(280)]="",$[x(547)]($=>{let t=x,a=document[t(465)](t(300));a.classList.add(t(501));let _=document.createElement(t(459));_.type=t(449),_[t(326)]=$[2],a[t(511)](_);let o=$[14]||"",i=$[15]||"";if(o||i){let d=document.createElement(t(300));d[t(455)][t(410)](t(306)),d[t(280)]=t(332),d[t(467)]=t(543),d.addEventListener(t(250),()=>{mostrarInfoModal($[3],o,i)}),a[t(511)](d)}if(isValidImageUrl($[1])){let r=[];-1!==$[1][t(533)](",")?r=$[1][t(352)](",").map($=>$[t(546)]()):r[t(243)]($[1]);let n=document[t(465)](t(385));n.src=r[0],n[t(534)]=t(454),n[t(336)]=function(){let $=t;this[$(275)]=$(430)},n[t(494)](t(250),()=>{abrirLightbox(r)}),a[t(511)](n)}let c=document[t(465)]("h3");c[t(528)]=$[3],a[t(511)](c);let l=document[t(465)](t(300));l[t(455)].add(t(255)),l[t(528)]=t(415)+$[2],a[t(511)](l);let s=document[t(465)](t(300));s[t(455)][t(410)](t(283)),s[t(328)][t(247)]=t(483),s[t(328)][t(244)]=t(461);let f=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(f=parseInt($[10])),isNaN(f)?s[t(280)]=t(266):f<=1?s[t(280)]=t(266):f<=10?s[t(280)]=t(294):s.innerHTML=t(476),a[t(511)](s);{let b=document.createElement("p");b[t(280)]=t(435)+$[13]+t(276),b[t(328)].marginBottom=t(311),a[t(511)](b)}let u=document[t(465)]("p");u.innerHTML="<strong>Ahora $</strong> "+$["6"],u[t(328)][t(539)]="2px",a.appendChild(u);let m=document[t(465)](t(300));m[t(328)][t(503)]=t(542),m[t(328)][t(323)]=t(437),m[t(328)][t(399)]=t(437),m[t(328)].gap=t(311),m[t(328)].minHeight=t(474);let p=document[t(465)](t(300));p.style[t(503)]=t(526),p[t(328)][t(323)]="center",p[t(328)].gap="5px",p[t(328)][t(340)]=t(279),p[t(328)].opacity="0";let g=document[t(465)](t(270));g[t(280)]="-",g[t(328)][t(544)]=t(408),g[t(328)][t(424)]=t(448),g[t(328)][t(548)]=t(262),g[t(328)].width="35px",g.style[t(349)]=t(432),g.style.color=t(265),g[t(328)][t(496)]=t(423),g.style[t(353)]=t(261),g[t(328)].cursor=t(304);let h=document[t(465)](t(459));h[t(495)]="number",h[t(370)]="1",h[t(326)]="1",h.style[t(538)]="50px",h[t(328)][t(548)]=t(262),h[t(328)][t(544)]=t(311),h[t(328)][t(298)]=t(437),h[t(328)][t(496)]="1px solid #ddd",h[t(328)][t(353)]=t(261);let E=document.createElement(t(270));E[t(280)]="+",E[t(328)][t(544)]="5px 10px",E.style[t(424)]=t(448),E[t(328)][t(548)]=t(262),E[t(328)][t(538)]=t(262),E.style[t(349)]="#ff9800",E[t(328)][t(392)]=t(265),E[t(328)][t(496)]=t(423),E[t(328)][t(353)]=t(261),E[t(328)][t(457)]=t(304),p[t(511)](g),p[t(511)](h),p[t(511)](E);let y=document[t(465)](t(270));function v(){let x=t,e=parseInt(h[x(326)]);if(e>0){let a=carrito[x(514)]($=>$[x(343)]===c[x(528)]);a?a[x(499)]=e:agregarAlCarrito(c[x(528)],$[6],e,$[2],$[0],$[7][x(391)]().replace(/[,\.]/g,""),$[6][x(391)]().replace(/[,\.]/g,"")),actualizarCarrito()}}y.innerHTML=t(419),y[t(328)][t(544)]="10px 10px",y[t(328)][t(424)]=t(448),y[t(328)][t(548)]=t(474),y[t(328)][t(538)]=t(474),y[t(328)][t(349)]=t(384),y[t(328)][t(392)]=t(265),y[t(328)].border="1px solid #4CAF50",y[t(328)][t(353)]=t(261),y[t(328)].cursor=t(304),y[t(328)][t(340)]=t(279),y[t(455)][t(410)](t(400)),!isNaN(f)&&f>0?(h[t(522)]=f,h[t(467)]=t(524)+f+t(422)):(y[t(438)]=!0,y[t(328)][t(349)]=t(466),y[t(328)][t(357)]=t(466),y[t(328)][t(457)]=t(394),y.title="Sin stock disponible"),y.addEventListener(t(250),()=>{let x=t,e=0;if(void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10])),isNaN(e)||e<=0){alert(x(381));return}h[x(326)]="1",v(),function $(){let x=t;y[x(328)][x(380)]="0",y[x(328)][x(444)]=x(489),setTimeout(()=>{let $=x;y.style[$(503)]="none",p[$(328)][$(503)]=$(542),setTimeout(()=>{let x=$;p[x(328)][x(380)]="1",p[x(328)][x(444)]=x(320)},50)},150)}()}),E[t(494)](t(250),()=>{let x=t,e=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10]));let a=parseInt(h.value);if(!isNaN(e)&&a>=e){alert(x(401)+e+x(443));return}h[x(326)]=a+1,v()}),g[t(494)](t(250),()=>{let $=t,x=parseInt(h[$(326)]);if(x>1)h[$(326)]=x-1,v();else{let e=carrito[$(514)](x=>x.nombre===c[$(528)]);if(e){let a=carrito[$(533)](e);carrito[$(383)](a,1),actualizarCarrito()}p[$(328)][$(380)]="0",p.style[$(444)]="scale(0.8)",setTimeout(()=>{let x=$;p[x(328)][x(503)]=x(526),y[x(328)].display=x(330),y[x(328)][x(380)]="0",y[x(328)][x(444)]=x(489),setTimeout(()=>{let $=x;y[$(328)][$(380)]="1",y[$(328)][$(444)]="scale(1)"},50)},150)}}),h[t(494)](t(411),()=>{let x=t,e=parseInt(h[x(326)]),a=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(a=parseInt($[10])),e<=0?h.value="1":!isNaN(a)&&e>a&&(alert("Stock insuficiente. Solo hay "+a+x(443)),h[x(326)]=a),v()}),m[t(511)](y),m[t(511)](p),a.appendChild(m),e[t(511)](a)})}function refreshStockInfo(){let $=_0x4cde3b,x=document[$(386)]($(347));x[$(547)](x=>{let e=$,t=x[e(445)](e(309));if(t){let a=x[e(445)](e(406));if(a){let _=a.value,o=productos[e(514)]($=>$[2]===_),i=0;o&&void 0!==o[10]&&null!==o[10]&&""!==o[10]&&(i=parseInt(o[10])),isNaN(i)?t[e(280)]=e(266):i<=1?t[e(280)]='<span style="color: #ff9800;">✗ Sin stock</span>':i<=10?t.innerHTML=e(294):t[e(280)]=e(476);let d=x.querySelector(e(341)),r=x[e(445)](e(287));d&&(!isNaN(i)&&i>0?(d[e(522)]=i,d[e(438)]=!1,d[e(467)]=e(524)+i+" unidades disponibles",r&&r[e(438)]&&(r[e(438)]=!1,r[e(328)].backgroundColor=e(384),r.style[e(357)]=e(384),r[e(328)].cursor=e(304),r[e(467)]="")):(d[e(438)]=!0,d.title=e(324),r&&(r[e(438)]=!0,r.style.backgroundColor=e(466),r[e(328)][e(357)]="#cccccc",r[e(328)][e(457)]="not-allowed",r.title=e(324))))}}})}function agregarAlCarrito($,x,e,t,a){let _=_0x4cde3b,o=0===carrito[_(256)],i=carrito[_(514)](x=>x.nombre===$);i?i.cantidad+=e:carrito[_(243)]({nombre:$,precio:x,cantidad:e,codigo:t,categoria:a}),actualizarCarrito(),guardarCarritoLocal(),o&&mostrarModalInfoPrimerArticulo()}function _0x363c(){let $=["fas fa-info-circle","stock-info","catch","equalTo","Error al actualizar el pedido: ",".btn-agregar-carrito","https://www.home-point.com.ar/pedidos.html?id=","El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.","ref","auto","pedido-confirmado-modal","codigo",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"parentElement","database","Error al guardar carrito en localStorage:","textAlign","</strong>&nbsp;<small>x","div","pedidos/","fas fa-check-circle","initializeApp","pointer","#fee","info-icon","error","borderLeft",".stock-info","0.7","5px","Enter","cart-item-delete","716576qHnjUK","locked","message","categoria","modal","set","scale(1)","match","service_lu9cpxk","alignItems","Sin stock disponible","hamburgerDropdown","value","span","style","innerWidth","block","info-primer-articulo-modal",'<i class="fas fa-info"></i>',"scrollTo","ultimoPedidoModal","prev-btn","onerror","tipoCliente","exists","close","transition",'input[type="number"]',"API_KEY","nombre","cart-list","parse","Error: No se encontr\xf3 el pedido original",".card","filtroDisponibles","backgroundColor","hamburgerBtn","todos","split","borderRadius","removeItem","background","init","borderColor","timestamp","buscar","smooth","pedidos","categorias","</strong> ","falta","carousel-images","log","option","DOMContentLoaded","now","min","ceil","toLowerCase","sort","search","Error al guardar el pedido: ","resolve","2IpJlrF","map","location","opacity","Este producto no tiene stock disponible.","vcbQsbE2bgLwFAnDr","splice","#4CAF50","img","querySelectorAll","cerrarInfoPrimerArticuloBtn","636VbUNCi","lightbox","from","toString","color","offsetWidth","not-allowed","className","text","4px solid #e53e3e","reduce","justifyContent","btn-agregar-carrito","Stock insuficiente. Solo hay ","clienteModal","resize","key","Este pedido est\xe1 cerrado y no se puede editar.",'input[type="hidden"]',"statusText","5px 10px","val","add","change","\xa1Pedido encontrado! Redirigiendo...","103832NSlPZn","direccion","C\xf3digo: ","100014kkhEkA","findIndex","remove",'<i class="fas fa-cart-plus"></i>',"dni","\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    "," unidades disponibles","1px solid #ff9800","fontSize","</p>\n            </div>\n        ","getBoundingClientRect","faltan","undefined","El carrito est\xe1 vac\xedo.","no-disponible.png","template_xqo1j5z","#ff9800","buscarSpinner","web",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">',"then","center","disabled","Por favor, ingres\xe1 un email v\xe1lido","telefono","fas fa-exclamation-circle","body"," unidades disponibles.","transform","querySelector","pedido","stopPropagation","16px","hidden","marquee-text-1","#c53030","No se encontraron datos en la hoja.","buscarBtnText","lazy","classList",'\n            <div class="info-modal-section">\n                <h4>Tama\xf1o</h4>\n                <p>',"cursor","No se encontraron pedidos registrados con este email","input","infoModal","bold","translateX(","getElementById","carritoMayorista","createElement","#cccccc","title","replace","keydown","pageYOffset",".hamburger-dropdown-item","test","infoModalBody","50px",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Pedido M\xednimo Requerido</h2>\n                <p style=\'margin:8px 0 0 0;\'>Para procesar tu pedido necesitamos un m\xednimo de unidades</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#fff3e0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-shopping-cart" style="font-size:3em;color:#ff9800;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>Necesitas agregar al menos 5 unidades para procesar el pedido.</strong>\n                    </p>\n                    <div style="margin-top:20px;padding:15px;background:#fff;border-radius:8px;border-left:4px solid #ff9800;">\n                        <p style="margin:0;color:#666;font-size:0.95em;">\n                            Actualmente tienes <strong style="color:#ff9800;font-size:1.2em;">','<span style="color: #4CAF50;">✓ Disponible</span>',"aviso-edicion-pedido","documentElement","pagination","cartContainer","clientes","130120QHBZsR","5px 0","open","138471oZyviI",'<i class="fas fa-times"></i>',"#error","once","scale(0.8)","/values/","minimo-pedido-modal","email","Error al cargar los datos:","addEventListener","type","border","localidad","setItem","cantidad","position","card","?key=","display","unidades","provincia","Datos del pedido existente cargados:","buscarUltimoPedidoBtn",'\n            <div class="info-modal-section">\n                <h4>Especificaciones del Fabricante:</h4>\n                <p>',"unidad","target","appendChild","Error al guardar pedido o cliente:","next-btn","find","ultimoPedidoEmailInput","cssText","https://api.whatsapp.com/send/?phone=5491121891006","mousedown","values","\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS","\n            <strong>","max","cerrarMinimoPedidoBtn","M\xe1ximo ","active","none","</small>\n        ","textContent","Error al cargar pedido existente:","stringify","onclick","currentTarget","indexOf","loading","base","mayorista","cartFloatBtn","width","marginTop","100px","pedidos.html?id=","flex","Ver informaci\xf3n adicional","padding","pagination-button","trim","forEach","height","includes","cliente","push","fontWeight","orderByChild","loadingOverlay","margin","contains","18FzMCEY","click",' en tu carrito.\n                        </p>\n                        <p style="margin:10px 0 0 0;color:#666;font-size:0.95em;">\n                            Te ',"SPREADSHEET_ID","checked","toggle","info","length","#e6f7ff","filter","RANGO","54px","4px","35px","carousel-pie-images",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Informaci\xf3n Importante</h2>\n                <p style=\'margin:8px 0 0 0;\'>Sobre el proceso de pedido</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#e3f2fd;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-truck" style="font-size:3em;color:#2196F3;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>La solicitud de pedido se utiliza solo para env\xedos.</strong>\n                    </p>\n                    <p style="margin:15px 0 0 0;color:#555;line-height:1.6;font-size:0.95em;">\n                        Si retir\xe1s en nuestro showroom, <strong>no hace falta generar un pedido</strong>.\n                    </p>\n                </div>\n                <button id="cerrarInfoPrimerArticuloBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"#fff",'<span style="color: #ff9800;">✗ Sin stock</span>',"href","items","lightbox-img","button","localeCompare","#e6ffed","precio","10135BVAMFB","src","</s></span>","335350lyRgSa","catalogo","all 0.3s ease","innerHTML","slice"];return(_0x363c=function(){return $})()}function getMaxVisiblePaginationButtons(){let $=_0x4cde3b,x=document[$(463)]($(479)),e=window[$(329)];x&&(e=x[$(393)]||e);let t=Math[$(522)](3,Math.floor((e-220)/48));return Math.min(t,15)}function actualizarPaginacion($,x){let e=_0x4cde3b,t=document[e(463)](e(479));t.innerHTML="";let a=Math[e(371)](x[e(256)]/30);if($>1){let _=document.createElement(e(270));_[e(528)]="Anterior",_[e(328)][e(538)]=e(540),_[e(494)](e(250),()=>mostrarPagina($-1,x)),t[e(511)](_)}let o=getMaxVisiblePaginationButtons(),i=Math[e(522)](1,$-Math.floor(o/2)),d=Math[e(370)](a,i+o-1);d-i<o-1&&(i=Math[e(522)](1,d-o+1));for(let r=i;r<=d;r++){let n=document[e(465)]("button");n[e(528)]=r,n[e(455)][e(410)](e(545)),r===$&&n[e(455)][e(410)]("active"),n[e(494)](e(250),()=>mostrarPagina(r,x)),t[e(511)](n)}if($<a){let c=document[e(465)](e(270));c[e(528)]="Siguiente",c.style[e(538)]=e(540),c[e(494)](e(250),()=>mostrarPagina($+1,x)),t[e(511)](c)}}function isValidImageUrl($){return $&&$[_0x4cde3b(321)](/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox($){let x=_0x4cde3b;currentLightboxImages=$,currentImageIndex=0,document[x(463)](x(269))[x(275)]=currentLightboxImages[currentImageIndex],document[x(463)](x(389))[x(328)][x(503)]="flex",actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let $=_0x4cde3b,x=document[$(463)]($(335)),e=document[$(463)]($(513));currentLightboxImages.length>1?(x[$(328)].display=$(330),e[$(328)][$(503)]=$(330)):(x[$(328)].display="none",e[$(328)][$(503)]="none")}function closeLightbox($){let x=_0x4cde3b;($.target===$[x(532)]||$[x(510)][x(455)][x(248)](x(339)))&&(document[x(463)](x(389)).style.display=x(526))}function mostrarInfoModal($,x,e){let t=_0x4cde3b,a=document[t(463)](t(460)),_=document[t(463)]("infoModalTitle"),o=document[t(463)](t(473));_[t(528)]=$;let i="";x&&""!==x[t(546)]()&&(i+=t(508)+x+t(425)),e&&""!==e[t(546)]()&&(i+=t(456)+e+t(425)),o[t(280)]=i,a[t(455)][t(410)]("show")}function closeInfoModal($){let x=_0x4cde3b,e=document[x(463)](x(460));$&&$.target!==$[x(532)]||e[x(455)][x(418)]("show")}function actualizarCarrito(){let $=_0x4cde3b,x=document[$(463)]($(344)),e=document[$(463)]($(537)),t=document[$(463)]("cartBadge");x.innerHTML="";let a=carrito[$(398)]((x,e)=>x+e[$(499)],0);if(0===carrito[$(256)]){e&&(e[$(328)][$(503)]=$(526));let _=document.getElementById($(480));_&&(_.classList[$(418)]($(525)),typeof cartExpanded!==$(428)&&(cartExpanded=!1))}else e&&(e[$(328)][$(503)]=$(542));t&&(t.textContent=a),carrito.forEach((e,t)=>{let a=$,_=document[a(465)]("li");_.style[a(500)]="relative",_[a(328)].paddingRight="35px";let o=document[a(465)](a(300));o[a(280)]=a(521)+e[a(343)]+a(299)+e[a(499)]+a(527);let i=document[a(465)]("button");i[a(395)]=a(313),i.innerHTML=a(486),i[a(531)]=function(){eliminarItemCarrito(t)},_.appendChild(o),_[a(511)](i),x[a(511)](_)})}function eliminarItemCarrito($){let x=_0x4cde3b,e=carrito[$],t=document[x(386)](".card");t[x(547)]($=>{let t=x,a=$[t(445)]("h3")?.[t(528)];if(a===e[t(343)]){let _=$[t(445)](t(287)),o=$[t(445)](t(341))?.[t(295)],i=$[t(445)](t(341));_&&o&&i&&(i[t(326)]="1",o.style[t(503)]=t(526),o[t(328)][t(380)]="0",o[t(328)][t(444)]="scale(0.8)",_[t(328)].display=t(330),_[t(328)].opacity="1",_[t(328)].transform=t(320),_.style[t(355)]="",_[t(328)][t(392)]="",_.style[t(496)]="")}}),carrito[x(383)]($,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado($,x){let e=_0x4cde3b,t=document[e(463)](e(292));t&&t[e(418)]();let a=document[e(465)](e(300));a.id=e(292),a.className=e(318),a[e(328)][e(503)]=e(542),a[e(280)]='\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',document.body.appendChild(a),document[e(463)]("verPedidoBtnConfirmado")[e(531)]=function(){let x=e;window[x(379)][x(267)]="pedidos.html?id="+$}}function mostrarModalInfoPrimerArticulo(){let $=_0x4cde3b,x=document[$(463)]($(331));x&&x[$(418)]();let e=document.createElement($(300));e.id=$(331),e[$(395)]=$(318),e[$(328)][$(503)]="flex",e[$(280)]=$(264),document.body[$(511)](e),document.getElementById($(387))[$(531)]=function(){e[$(418)]()},e.onclick=function(x){x[$(510)]===e&&e.remove()}}function mostrarModalMinimoPedido($){let x=_0x4cde3b,e=document[x(463)](x(491));e&&e[x(418)]();let t=5-$,a=document[x(465)](x(300));a.id=x(491),a[x(395)]=x(318),a[x(328)][x(503)]=x(542),a[x(280)]=x(475)+$+"</strong> "+(1===$?x(509):x(504))+x(251)+(1===t?x(364):x(427))+' <strong style="color:#ff9800;font-size:1.2em;">'+t+x(363)+(1===t?x(509):x(504))+' m\xe1s.\n                        </p>\n                    </div>\n                </div>\n                <button id="cerrarMinimoPedidoBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',document[x(442)][x(511)](a),document[x(463)](x(523))[x(531)]=function(){a.remove()},a[x(531)]=function($){$.target===a&&a[x(418)]()}}function limpiarCarrito(){let $=_0x4cde3b;carrito=[],document[$(386)](".card")[$(547)](x=>{let e=$,t=x[e(445)](".btn-agregar-carrito"),a=x[e(445)](e(341))?.parentElement,_=x[e(445)](e(341));t&&a&&_&&(_.value="1",a[e(328)][e(503)]=e(526),a[e(328)][e(380)]="0",a[e(328)].transform=e(489),t[e(328)][e(503)]=e(330),t[e(328)][e(380)]="1",t[e(328)].transform=e(320),t[e(328)][e(355)]="",t[e(328)][e(392)]="",t[e(328)][e(496)]="")}),actualizarCarrito(),guardarCarritoLocal()}function enviarPedido(){let $=_0x4cde3b;if(0===carrito[$(256)]){alert($(289));return}let x=carrito[$(398)]((x,e)=>x+e[$(499)],0);if(x<5){mostrarModalMinimoPedido(x);return}if(modoEdicion){enviarPedidoFinal();return}let e=document[$(463)]($(402));e&&(e[$(328)][$(503)]=$(542))}function enviarPedidoFinal(){let $=_0x4cde3b;if(modoEdicion&&pedidoEditId){let x=db[$(290)]("pedidos/"+pedidoEditId);x.once($(326))[$(436)](e=>{let t=$;if(!e[t(338)]()){alert(t(346));return}let a=e[t(409)]();if(a[t(315)]){alert(t(405));return}return carrito.forEach($=>{let x=t,e=a.items[x(417)](e=>e[x(343)]===$.nombre);e>-1?a[x(268)][e][x(499)]+=$.cantidad:a.items.push({nombre:$[x(343)],cantidad:$[x(499)],valorUSD:$[x(273)],codigo:$[x(293)]||"",categoria:$.categoria||""})}),a.cliente={nombre:datosExtraCliente[t(343)]||a[t(550)]?.[t(343)]||"",telefono:datosExtraCliente[t(440)]||a[t(550)]?.[t(440)]||"",localidad:datosExtraCliente.localidad||a[t(550)]?.[t(497)]||"",direccion:datosExtraCliente[t(414)]||a[t(550)]?.[t(414)]||"",provincia:datosExtraCliente[t(505)]||a[t(550)]?.[t(505)]||"",dni:String(datosExtraCliente[t(420)]||a.cliente?.[t(420)]||""),email:datosExtraCliente[t(492)]||a[t(550)]?.[t(492)]||"",tipoCliente:datosExtraCliente[t(337)]||a[t(550)]?.tipoCliente||t(536)},x.update({items:a[t(268)],cliente:a[t(550)],adminViewed:!1,lastUpdated:Date[t(369)]()})})[$(436)](()=>{alert("\xa1Art\xedculos agregados exitosamente al pedido!"),setTimeout(()=>{let $=_0x52b0;window.location[$(468)]($(541)+pedidoEditId)},300)})[$(284)](x=>{let e=$;console[e(307)]("Error al actualizar pedido:",x),alert(e(286)+x.message)});return}if(0===carrito[$(256)]){alert($(429));return}let e=datosExtraCliente[$(492)]||"";db[$(290)]($(481))[$(245)]($(492))[$(285)](e[$(372)]()).limitToFirst(1)[$(488)]($(326)).then(x=>{let t=$;return!x[t(338)]()&&e?db[t(290)](t(481))[t(243)]({email:e[t(372)](),nombre:datosExtraCliente[t(343)]||"",telefono:datosExtraCliente.telefono||"",localidad:datosExtraCliente[t(497)]||"",direccion:datosExtraCliente[t(414)]||"",provincia:datosExtraCliente.provincia||"",dni:String(datosExtraCliente[t(420)]||""),tipoCliente:datosExtraCliente[t(337)]||t(536),registro:t(434)}):Promise[t(376)]()})[$(436)](()=>{let x=$,e=db[x(290)]("pedidos").push(),t=e[x(404)],a={id:t,timestamp:Date.now(),locked:!1,adminViewed:!1,createdby:x(434),status:"ABIERTO",cliente:{nombre:datosExtraCliente.nombre||"",telefono:datosExtraCliente.telefono||"",localidad:datosExtraCliente.localidad||"",direccion:datosExtraCliente.direccion||"",provincia:datosExtraCliente[x(505)]||"",dni:String(datosExtraCliente[x(420)]||""),email:datosExtraCliente[x(492)]||"",tipoCliente:datosExtraCliente[x(337)]||x(536)},items:carrito[x(378)]($=>({nombre:$[x(343)],cantidad:$.cantidad,valorUSD:$[x(273)],codigo:$[x(293)]||"",categoria:$[x(317)]||""}))};return e[x(319)](a).then(()=>t)})[$(436)](x=>{let e=$;datosExtraCliente[e(492)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/[e(472)](datosExtraCliente[e(492)])&&emailjs.send(e(322),e(431),{email:datosExtraCliente.email,name:datosExtraCliente[e(343)],linkPedido:e(288)+x})[e(436)](function($){let x=e;console[x(366)]("Email enviado!",$.status,$[x(396)])},function($){console[e(307)]("Error enviando email:",$)}),mostrarModalPedidoConfirmado(x,datosExtraCliente[e(492)]),limpiarCarrito(),datosExtraCliente={}})[$(284)](x=>{let e=$;console.error(e(512),x),alert(e(375)+x[e(316)])})}window[_0x4cde3b(494)](_0x4cde3b(403),()=>{let $=_0x4cde3b;if(typeof currentPage!==$(428)){let x=datosFiltrados[$(256)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,x)}}),document[_0x4cde3b(463)](_0x4cde3b(513))[_0x4cde3b(494)](_0x4cde3b(250),$=>{let x=_0x4cde3b;$[x(447)](),currentLightboxImages.length>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[x(256)],document[x(463)](x(269))[x(275)]=currentLightboxImages[currentImageIndex])}),document[_0x4cde3b(463)](_0x4cde3b(335)).addEventListener(_0x4cde3b(250),$=>{let x=_0x4cde3b;$[x(447)](),currentLightboxImages[x(256)]>0&&(currentImageIndex=(currentLightboxImages.length+currentImageIndex-1)%currentLightboxImages[x(256)],document[x(463)](x(269))[x(275)]=currentLightboxImages[currentImageIndex])}),document.getElementById(_0x4cde3b(269)).addEventListener(_0x4cde3b(307),function(){let $=_0x4cde3b;currentLightboxImages[$(256)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this[$(275)]=currentLightboxImages[0])}),document[_0x4cde3b(494)](_0x4cde3b(368),function(){let $=_0x4cde3b;document[$(463)]($(450))[$(280)]=MARQUEE_TEXT,document[$(463)]("marquee-text-2")[$(280)]=MARQUEE_TEXT,cargarCarritoLocal()});const hamburgerBtn=document[_0x4cde3b(463)](_0x4cde3b(350)),hamburgerDropdown=document.getElementById(_0x4cde3b(325));hamburgerBtn.addEventListener(_0x4cde3b(250),function($){let x=_0x4cde3b;$[x(447)](),hamburgerDropdown.classList[x(254)](x(525))}),document.addEventListener("click",function($){let x=_0x4cde3b;hamburgerBtn[x(248)]($[x(510)])||hamburgerDropdown[x(248)]($.target)||hamburgerDropdown[x(455)][x(418)](x(525))}),document[_0x4cde3b(386)](_0x4cde3b(471)).forEach($=>{let x=_0x4cde3b;$.addEventListener(x(250),function(){hamburgerDropdown.classList[x(418)]("active")})});const ultimoPedidoBtn=document.getElementById("ultimoPedidoBtn"),ultimoPedidoModal=document.getElementById(_0x4cde3b(334)),closeUltimoPedidoModal=document[_0x4cde3b(463)]("closeUltimoPedidoModal"),buscarUltimoPedidoBtn=document.getElementById(_0x4cde3b(507)),ultimoPedidoEmailInput=document[_0x4cde3b(463)](_0x4cde3b(515)),buscarBtnText=document.getElementById(_0x4cde3b(453)),buscarSpinner=document.getElementById(_0x4cde3b(433)),ultimoPedidoMensaje=document.getElementById("ultimoPedidoMensaje");function mostrarMensajeBusqueda($,x){let e=_0x4cde3b,t=ultimoPedidoMensaje,a=t[e(445)](".fas"),_=t.querySelector(e(327));$===e(307)?(t[e(328)].backgroundColor=e(305),t.style[e(308)]=e(397),t[e(328)][e(392)]=e(451),a[e(395)]=e(441)):"success"===$?(t[e(328)].backgroundColor=e(272),t[e(328)][e(308)]="4px solid #48bb78",t[e(328)][e(392)]="#2f855a",a[e(395)]=e(302)):$===e(255)&&(t.style[e(349)]=e(257),t.style[e(308)]="4px solid #4299e1",t.style.color="#2b6cb0",a[e(395)]=e(282)),_[e(528)]=x,t[e(328)][e(503)]="flex",t[e(328)].alignItems=e(437)}function ocultarMensajeBusqueda(){let $=_0x4cde3b;ultimoPedidoMensaje.style[$(503)]="none"}function setEstadoCargaBusqueda($){let x=_0x4cde3b;buscarUltimoPedidoBtn[x(438)]=$,buscarUltimoPedidoBtn.style[x(380)]=$?x(310):"1",buscarUltimoPedidoBtn.style[x(457)]=x($?394:304),buscarBtnText[x(328)].display=$?x(526):"inline",buscarSpinner[x(328)][x(503)]=x($?330:526),ultimoPedidoEmailInput.disabled=$}ultimoPedidoBtn[_0x4cde3b(494)](_0x4cde3b(250),function(){let $=_0x4cde3b;ultimoPedidoModal[$(328)][$(503)]=$(542),ultimoPedidoEmailInput[$(326)]="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput.focus(),100)}),closeUltimoPedidoModal[_0x4cde3b(494)](_0x4cde3b(250),function(){let $=_0x4cde3b;ultimoPedidoModal[$(328)].display=$(526),ocultarMensajeBusqueda()}),ultimoPedidoModal[_0x4cde3b(494)](_0x4cde3b(518),function($){let x=_0x4cde3b;$.target===ultimoPedidoModal&&(ultimoPedidoModal[x(328)][x(503)]=x(526),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x4cde3b(494)](_0x4cde3b(250),function(){let $=_0x4cde3b,x=ultimoPedidoEmailInput[$(326)][$(546)]()[$(372)]();if(ocultarMensajeBusqueda(),!x||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/[$(472)](x)){mostrarMensajeBusqueda($(307),$(439)),ultimoPedidoEmailInput.focus();return}setEstadoCargaBusqueda(!0),db[$(290)]($(361))[$(245)]("cliente/email")[$(285)](x).once("value")[$(436)](x=>{let e=$;if(setEstadoCargaBusqueda(!1),!x[e(338)]()){mostrarMensajeBusqueda("error",e(458));return}let t=null;x[e(547)]($=>{let x=e,a=$.val();(!t||a[x(358)]>t[x(358)])&&(t=a)}),t&&t.id?(mostrarMensajeBusqueda("success",e(412)),setTimeout(()=>{let $=e;window[$(484)]($(541)+t.id,"_blank"),ultimoPedidoModal[$(328)][$(503)]=$(526),ocultarMensajeBusqueda(),ultimoPedidoEmailInput[$(326)]=""},800)):mostrarMensajeBusqueda(e(307),"No se encontraron pedidos registrados con este email")}).catch(()=>{setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda($(307),"Error al buscar el pedido. Por favor, intenta de nuevo")})}),ultimoPedidoEmailInput[_0x4cde3b(494)](_0x4cde3b(469),function($){let x=_0x4cde3b;$[x(404)]===x(312)&&buscarUltimoPedidoBtn[x(250)]()}),document[_0x4cde3b(494)](_0x4cde3b(368),function(){let $=_0x4cde3b,x=document[$(463)]($(263));if(x){let e=x[$(386)](".carousel-slide"),t=0;e[$(256)]>0&&setInterval(()=>{t=(t+1)%e[$(256)],function e(){let a=$,_=-(100*t);x[a(328)][a(444)]=a(462)+_+"%)"}()},5e3)}});
