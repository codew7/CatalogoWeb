const _0x3ca0ca=_0x5263;(function($,x){let e=_0x5263,a=$();for(;;)try{let t=-parseInt(e(357))/1+parseInt(e(243))/2*(-parseInt(e(363))/3)+parseInt(e(221))/4*(parseInt(e(277))/5)+parseInt(e(389))/6+-parseInt(e(496))/7+-parseInt(e(255))/8*(-parseInt(e(459))/9)+-parseInt(e(488))/10*(-parseInt(e(273))/11);if(849187===t)break;a.push(a.shift())}catch(_){a.push(a.shift())}})(_0x7d56,849187),emailjs.init(_0x3ca0ca(317));const WHATSAPP_URL=_0x3ca0ca(354),MARQUEE_TEXT=_0x3ca0ca(455),ITEMPESOS="6";firebase[_0x3ca0ca(397)](firebaseConfig);const db=firebase[_0x3ca0ca(203)]();function _0x7d56(){let $=["4px solid #e53e3e",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">',"8EAwxKr","bold","API_KEY","cliente/email","pedido-confirmado-modal","infoModalBody","</strong>&nbsp;<small>x","block","button","ultimoPedidoEmailInput","forEach","#c53030","tipoCliente","getElementById","?key=","\xa1Art\xedculos agregados exitosamente al pedido!",".btn-agregar-carrito","number","filter","</small>\n        ","buscar","email","50hLvFUe","paddingRight","pedidos","borderLeft","cartFloatBtn","add","activeElement","#cccccc","codigo","key","cantidad","DOMContentLoaded","8GRGfdH","scrollTo","style","min","borderRadius","\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ","16px",".fas","opacity","active","margin","once","direccion","documentElement","exists","onclick","No se encontraron pedidos registrados con este email",'<i class="fas fa-info"></i>',"11dSXmcX","cursor","hamburgerDropdown","info-icon","757660TUUelu","push","mousedown","clientes","map","test","lightbox-img","href","Error al cargar carrito desde localStorage:","slice","categorias","Error enviando email:","Error al guardar pedido o cliente:","localeCompare","now","flex","infoModalTitle","Error al guardar carrito en localStorage:",".carousel-slide","val","className","1px solid #ddd","100px",".card","pedidos.html?id=","split","2px","cliente","fontSize","todos","close","contains","Error al cargar los datos:","body","send","RANGO","trim","pedidos/","classList","card","vcbQsbE2bgLwFAnDr","appendChild","54px","values","stock-info","click","get","ceil","lazy","equalTo","keydown","next-btn","pointer","pagination-button","0.7","carritoMayorista","\n            <strong>","</p>\n            </div>\n        ","fas fa-check-circle","Siguiente","web","checked","floor","justifyContent","undefined","currentTarget","carousel-pie-images",'<span style="color: #4CAF50;">✓ Disponible</span>',"https://www.home-point.com.ar/pedidos.html?id=","catch","10px 10px","transform","statusText","#e6f7ff","provincia",'input[type="hidden"]',"border","https://api.whatsapp.com/send/?phone=5491121891006","scale(1)","focus","634853ZwWCST","marquee-text-2"," unidades disponibles","none","prev-btn","4px","134589AZGBiY","35px","precio","verPedidoBtnConfirmado","infoModal","splice","closeUltimoPedidoModal","Stock insuficiente. Solo hay ","ABIERTO","timestamp","Sin stock disponible","ref","message","backgroundColor","cssText","SPREADSHEET_ID","div","⚙️ Est\xe1s agregando art\xedculos al pedido #","5px","then",'<span style="color: #ff9800;">✗ Sin stock</span>',"all 0.3s ease","src","open","type","alignItems","1069974dgbyUf","C\xf3digo: ","marginTop","#error","getBoundingClientRect","Error: No se encontr\xf3 el pedido original","color","innerWidth","initializeApp","set","localidad","carousel-images","match","filtroDisponibles","fas fa-info-circle","\xa1Pedido encontrado! Redirigiendo...","toggle","title","display","disabled","setItem","5px 10px","max","cartContainer","marquee-text-1","Error al guardar el pedido: ","cart-item-delete","indexOf","#ff9800","buscarSpinner","4px solid #4299e1","innerHTML","textContent","toLowerCase","template_xqo1j5z","Error al actualizar el pedido: ","status","5px 0","height","success","location","info","find","pagination",'input[type="number"]',"change","resize","4px solid #48bb78","#4CAF50","items","Ver informaci\xf3n adicional","orderByChild","createElement","btn-agregar-carrito","dni","addEventListener","_blank",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.","hidden","limitToFirst","fontWeight","mayorista","text","removeItem","stringify","\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS","El carrito est\xe1 vac\xedo.","base","Enter","13574853EkroGL","Error al buscar el pedido. Por favor, intenta de nuevo","show","offsetWidth","#e6ffed",'<i class="fas fa-cart-plus"></i>',"background","/values/","gap","log","length","replace","modal","#2f855a","Error al cargar pedido existente:","1px solid #4CAF50","input",'\n            <div class="info-modal-section">\n                <h4>Tama\xf1o</h4>\n                <p>',"#fff","resolve","categoria","center","querySelector","padding","scale(0.8)","toString","Anterior","</s></span>","option","9250060UTFmeA","nombre","search","hamburgerBtn","translateX(","not-allowed","50px","target","2163707LQdBwD","1px solid #ff9800","Este producto no tiene stock disponible.","aviso-edicion-pedido"," unidades disponibles.",".stock-info","locked","sort",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',"catalogo","transition","parentElement","remove","querySelectorAll","lightbox","database","stopPropagation","Este pedido est\xe1 cerrado y no se puede editar.","width","value","fas fa-exclamation-circle","includes","borderColor","telefono","#2b6cb0","M\xe1ximo ","position","cartBadge","getItem","update","error"];return(_0x7d56=function(){return $})()}document[_0x3ca0ca(444)](_0x3ca0ca(254),function(){let $=_0x3ca0ca,x=document.getElementById($(400)),e=x?x[$(201)](".carousel-slide"):[],a=0;e[$(469)]>0&&setInterval(()=>{a=(a+1)%e[$(469)],function t(){let _=$;if(x&&e[_(469)]>0){let o=-(100*a);x.style.transform=_(492)+o+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let $=_0x3ca0ca;if(!modoEdicion)try{localStorage[$(409)]($(332),JSON[$(454)](carrito))}catch(x){console[$(218)]($(294),x)}}function cargarCarritoLocal(){let $=_0x3ca0ca;if(!modoEdicion)try{let x=localStorage[$(216)]("carritoMayorista");x&&(carrito=JSON.parse(x),actualizarCarrito())}catch(e){console.error($(285),e),carrito=[]}}const urlParams=new URLSearchParams(window.location[_0x3ca0ca(490)]),pedidoEditId=urlParams[_0x3ca0ca(323)]("pedido"),modoEdicion=!!pedidoEditId;if(modoEdicion){localStorage[_0x3ca0ca(453)](_0x3ca0ca(332));let $=document[_0x3ca0ca(441)](_0x3ca0ca(379));$[_0x3ca0ca(421)]=_0x3ca0ca(380)+pedidoEditId,$.id=_0x3ca0ca(499),$.style[_0x3ca0ca(377)]=_0x3ca0ca(260),document[_0x3ca0ca(310)][_0x3ca0ca(318)]($),document[_0x3ca0ca(310)][_0x3ca0ca(257)].marginTop=_0x3ca0ca(319),db[_0x3ca0ca(374)](_0x3ca0ca(314)+pedidoEditId)[_0x3ca0ca(266)](_0x3ca0ca(207))[_0x3ca0ca(382)]($=>{let x=_0x3ca0ca;if($[x(269)]()){let e=$[x(296)]();datosExtraCliente=e[x(304)]||{},console[x(468)]("Datos del pedido existente cargados:",e)}})[_0x3ca0ca(346)]($=>{let x=_0x3ca0ca;console[x(218)](x(473),$)})}const loadingOverlay=document[_0x3ca0ca(234)]("loadingOverlay");fetch("https://sheets.googleapis.com/v4/spreadsheets/"+GOOGLE_SHEETS_CONFIG[_0x3ca0ca(378)]+_0x3ca0ca(466)+GOOGLE_SHEETS_CONFIG[_0x3ca0ca(312)]+_0x3ca0ca(235)+GOOGLE_SHEETS_CONFIG[_0x3ca0ca(223)])[_0x3ca0ca(382)]($=>{let x=_0x3ca0ca;if(!$.ok)throw Error("Error al acceder a la API: "+$[x(349)]);return $.json()})[_0x3ca0ca(382)]($=>{let x=_0x3ca0ca;loadingOverlay&&(loadingOverlay[x(257)][x(407)]=x(360));let e=$[x(320)];if(!e||0===e[x(469)])throw Error("No se encontraron datos en la hoja.");datosFiltrados=productos=e[x(239)]($=>""!==($[3]||"")[x(484)]()[x(313)]())[x(503)](($,x)=>{function e($){let x=_0x5263;if(!$||""===$||null==$)return new Date(1900,0,1);if($[x(209)]("/")){let e=$[x(302)]("/");if(3===e[x(469)]){let a=parseInt(e[0]),t=parseInt(e[1])-1,_=parseInt(e[2]);return new Date(_,t,a)}}return new Date(1900,0,1)}let a=e($[12]),t=e(x[12]);return t-a}),window.scrollTo(0,0),mostrarPagina(1),setTimeout(()=>{let $=x;refreshStockInfo(),document[$(234)]($(402))[$(338)]&&o(),setTimeout(()=>{primeraCarga=!1},100)},100);let a=new Set(productos.map($=>$[0])),t=document[x(234)](x(287)),_=Array.from(a).filter($=>$&&""!==$[x(313)]()).sort(($,e)=>$[x(290)](e,"es",{sensitivity:x(457)}));function o(){let $=x,e=document[$(234)]($(287))[$(207)],a=document[$(234)]("buscar")[$(207)][$(422)](),t=document[$(234)]($(402)).checked,_=productos;"todos"!==e&&(_=_.filter($=>$[0]===e)),""!==a.trim()&&(_=_[$(239)](x=>x[3][$(422)]()[$(209)](a)||x[2][$(422)]()[$(209)](a)||x[17]&&x[17][$(422)]()[$(209)](a))),t&&(_=_.filter(x=>{let e=x[10];if(null==e||""===e)return!1;let a=parseInt(String(e)[$(313)]());return!isNaN(a)&&a>1})),datosFiltrados=_,mostrarPagina(1,_)}_[x(231)]($=>{let e=x,a=document[e(441)](e(487));a.value=$,a[e(421)]=$,t.appendChild(a)}),t[x(444)]("change",()=>{o()}),document[x(234)]("buscar")[x(444)](x(475),$=>{o()}),document[x(234)](x(402)).addEventListener(x(434),()=>{o()}),document[x(234)](x(306))[x(444)]("click",()=>{let $=x;document[$(234)]($(287))[$(207)]=$(306),document[$(234)]($(241))[$(207)]="",document[$(234)]("filtroDisponibles")[$(338)]=!1,datosFiltrados=productos,mostrarPagina(1)})})[_0x3ca0ca(346)]($=>{let x=_0x3ca0ca;loadingOverlay&&(loadingOverlay[x(257)][x(407)]="none"),console[x(218)](x(309),$),document[x(481)](x(392))[x(421)]=$[x(375)]});let primeraCarga=!0;function mostrarPagina($,x=productos){let e=_0x3ca0ca;currentPage=$,x[e(469)];let a=($-1)*30,t=x[e(286)](a,a+30);cargarGrid(t),actualizarPaginacion($,x),document[e(249)]!==document[e(234)](e(241))&&setTimeout(()=>{let $=e;if(primeraCarga)window.scrollTo({top:0,behavior:"auto"});else{let x=document[$(234)]($(287));if(x){let a=x[$(393)](),t=window.pageYOffset||document[$(268)].scrollTop;window[$(256)]({top:a.top+t-20,behavior:"smooth"})}}},0)}function cargarGrid($){let x=_0x3ca0ca,e=document[x(234)](x(505));e.innerHTML="",$.forEach($=>{let a=x,t=document[a(441)](a(379));t[a(315)][a(248)](a(316));let _=document[a(441)](a(475));_[a(387)]=a(448),_.value=$[2],t[a(318)](_);let o=$[14]||"",i=$[15]||"";if(o||i){let c=document[a(441)](a(379));c.classList[a(248)](a(276)),c[a(420)]=a(272),c[a(406)]=a(439),c[a(444)](a(322),()=>{mostrarInfoModal($[3],o,i)}),t.appendChild(c)}if(isValidImageUrl($[1])){let r=[];-1!==$[1].indexOf(",")?r=$[1][a(302)](",")[a(281)]($=>$.trim()):r.push($[1]);let n=document[a(441)]("img");n[a(385)]=r[0],n.loading=a(325),n.onerror=function(){let $=a;this[$(385)]="no-disponible.png"},n[a(444)](a(322),()=>{abrirLightbox(r)}),t[a(318)](n)}let d=document.createElement("h3");d.textContent=$[3],t.appendChild(d);let l=document[a(441)](a(379));l[a(315)][a(248)](a(430)),l.textContent=a(390)+$[2],t[a(318)](l);let s=document[a(441)](a(379));s[a(315)][a(248)](a(321)),s[a(257)][a(265)]=a(426),s[a(257)][a(450)]=a(222);let u=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(u=parseInt($[10])),isNaN(u)?s[a(420)]=a(383):u<=1?s.innerHTML=a(383):u<=10?s[a(420)]=a(446):s.innerHTML=a(344),t[a(318)](s);{let f=document[a(441)]("p");f[a(420)]=a(220)+$[13]+a(486),f[a(257)].marginBottom=a(381),t[a(318)](f)}let m=document[a(441)]("p");m[a(420)]="<strong>Ahora $</strong> "+$["6"],m.style[a(391)]=a(303),t[a(318)](m);let b=document[a(441)](a(379));b.style.display=a(292),b[a(257)][a(388)]=a(480),b[a(257)][a(340)]="center",b[a(257)][a(467)]="5px",b[a(257)].minHeight=a(494);let p=document[a(441)]("div");p[a(257)][a(407)]="none",p[a(257)][a(388)]=a(480),p[a(257)][a(467)]="5px",p[a(257)][a(506)]=a(384),p[a(257)][a(263)]="0";let g=document[a(441)](a(229));g.innerHTML="-",g[a(257)][a(482)]=a(410),g[a(257)][a(305)]=a(261),g[a(257)].height="35px",g.style[a(206)]="35px",g[a(257)][a(376)]=a(417),g[a(257)].color=a(477),g[a(257)].border=a(497),g[a(257)][a(259)]="4px",g[a(257)][a(274)]=a(329);let E=document[a(441)]("input");E[a(387)]=a(238),E[a(258)]="1",E[a(207)]="1",E[a(257)][a(206)]=a(494),E[a(257)][a(427)]="35px",E[a(257)][a(482)]=a(381),E.style.textAlign="center",E.style[a(353)]=a(298),E.style[a(259)]=a(362);let y=document[a(441)]("button");y[a(420)]="+",y.style.padding=a(410),y[a(257)][a(305)]="16px",y.style[a(427)]=a(364),y.style[a(206)]="35px",y[a(257)].backgroundColor=a(417),y.style.color=a(477),y[a(257)][a(353)]=a(497),y[a(257)].borderRadius=a(362),y[a(257)][a(274)]=a(329),p[a(318)](g),p[a(318)](E),p[a(318)](y);let h=document.createElement(a(229));function C(){let x=a,e=parseInt(E[x(207)]);if(e>0){let t=carrito[x(431)]($=>$[x(489)]===d[x(421)]);t?t.cantidad=e:agregarAlCarrito(d[x(421)],$[6],e,$[2],$[0],$[7][x(484)]().replace(/[,\.]/g,""),$[6][x(484)]()[x(470)](/[,\.]/g,"")),actualizarCarrito()}}h[a(420)]=a(464),h[a(257)].padding=a(347),h[a(257)][a(305)]=a(261),h[a(257)][a(427)]=a(494),h.style[a(206)]=a(494),h.style[a(376)]=a(437),h[a(257)][a(395)]=a(477),h.style[a(353)]=a(474),h.style.borderRadius="4px",h.style[a(274)]=a(329),h.style.transition="all 0.3s ease",h.classList[a(248)](a(442)),!isNaN(u)&&u>0?(E[a(411)]=u,E[a(406)]=a(213)+u+" unidades disponibles"):(h[a(408)]=!0,h.style.backgroundColor=a(250),h[a(257)][a(210)]=a(250),h[a(257)].cursor=a(493),h[a(406)]=a(373)),h[a(444)](a(322),()=>{let x=0;if(void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(x=parseInt($[10])),isNaN(x)||x<=0){alert(a(498));return}E.value="1",C(),function $(){let x=a;h[x(257)][x(263)]="0",h[x(257)][x(348)]="scale(0.8)",setTimeout(()=>{let $=x;h.style[$(407)]=$(360),p[$(257)][$(407)]=$(292),setTimeout(()=>{let x=$;p.style.opacity="1",p[x(257)][x(348)]=x(355)},50)},150)}()}),y[a(444)](a(322),()=>{let x=a,e=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10]));let t=parseInt(E.value);if(!isNaN(e)&&t>=e){alert(x(370)+e+x(500));return}E.value=t+1,C()}),g.addEventListener(a(322),()=>{let $=a,x=parseInt(E[$(207)]);if(x>1)E[$(207)]=x-1,C();else{let e=carrito[$(431)](x=>x[$(489)]===d[$(421)]);if(e){let t=carrito[$(416)](e);carrito[$(368)](t,1),actualizarCarrito()}p.style.opacity="0",p[$(257)][$(348)]=$(483),setTimeout(()=>{let x=$;p[x(257)].display="none",h[x(257)][x(407)]=x(228),h[x(257)][x(263)]="0",h[x(257)][x(348)]=x(483),setTimeout(()=>{let $=x;h[$(257)][$(263)]="1",h[$(257)][$(348)]="scale(1)"},50)},150)}}),E[a(444)](a(434),()=>{let x=a,e=parseInt(E[x(207)]),t=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(t=parseInt($[10])),e<=0?E[x(207)]="1":!isNaN(t)&&e>t&&(alert(x(370)+t+x(500)),E[x(207)]=t),C()}),b.appendChild(h),b[a(318)](p),t[a(318)](b),e[a(318)](t)})}function refreshStockInfo(){let $=_0x3ca0ca,x=document.querySelectorAll($(300));x[$(231)](x=>{let e=$,a=x[e(481)](e(501));if(a){let t=x.querySelector(e(352));if(t){let _=t[e(207)],o=productos[e(431)]($=>$[2]===_),i=0;o&&void 0!==o[10]&&null!==o[10]&&""!==o[10]&&(i=parseInt(o[10])),isNaN(i)?a[e(420)]='<span style="color: #ff9800;">✗ Sin stock</span>':i<=1?a[e(420)]='<span style="color: #ff9800;">✗ Sin stock</span>':i<=10?a[e(420)]=e(446):a[e(420)]=e(344);let c=x.querySelector('input[type="number"]'),r=x[e(481)](".btn-agregar-carrito");c&&(!isNaN(i)&&i>0?(c.max=i,c[e(408)]=!1,c[e(406)]=e(213)+i+e(359),r&&r.disabled&&(r[e(408)]=!1,r.style.backgroundColor=e(437),r.style[e(210)]=e(437),r.style[e(274)]=e(329),r[e(406)]="")):(c[e(408)]=!0,c.title=e(373),r&&(r[e(408)]=!0,r[e(257)][e(376)]=e(250),r.style.borderColor=e(250),r[e(257)].cursor=e(493),r[e(406)]=e(373))))}}})}function agregarAlCarrito($,x,e,a,t){let _=_0x3ca0ca,o=carrito[_(431)](x=>x.nombre===$);o?o[_(253)]+=e:carrito[_(278)]({nombre:$,precio:x,cantidad:e,codigo:a,categoria:t}),actualizarCarrito(),guardarCarritoLocal()}function getMaxVisiblePaginationButtons(){let $=_0x3ca0ca,x=document[$(234)]($(432)),e=window[$(396)];x&&(e=x[$(462)]||e);let a=Math[$(411)](3,Math[$(339)]((e-220)/48));return Math[$(258)](a,15)}function actualizarPaginacion($,x){let e=_0x3ca0ca,a=document[e(234)]("pagination");a[e(420)]="";let t=Math[e(324)](x[e(469)]/30);if($>1){let _=document[e(441)](e(229));_.textContent=e(485),_[e(257)][e(206)]="100px",_.addEventListener(e(322),()=>mostrarPagina($-1,x)),a[e(318)](_)}let o=getMaxVisiblePaginationButtons(),i=Math[e(411)](1,$-Math[e(339)](o/2)),c=Math[e(258)](t,i+o-1);c-i<o-1&&(i=Math[e(411)](1,c-o+1));for(let r=i;r<=c;r++){let n=document[e(441)](e(229));n[e(421)]=r,n[e(315)][e(248)](e(330)),r===$&&n[e(315)][e(248)](e(264)),n[e(444)]("click",()=>mostrarPagina(r,x)),a[e(318)](n)}if($<t){let d=document.createElement(e(229));d.textContent=e(336),d.style[e(206)]=e(299),d[e(444)](e(322),()=>mostrarPagina($+1,x)),a[e(318)](d)}}function isValidImageUrl($){return $&&$[_0x3ca0ca(401)](/\.(jpeg|jpg|gif|png)$/i)}function _0x5263($,x){let e=_0x7d56();return(_0x5263=function($,x){return e[$-=200]})($,x)}function abrirLightbox($){let x=_0x3ca0ca;currentLightboxImages=$,currentImageIndex=0,document[x(234)](x(283))[x(385)]=currentLightboxImages[currentImageIndex],document[x(234)](x(202)).style.display=x(292),actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let $=_0x3ca0ca,x=document[$(234)]($(361)),e=document[$(234)]($(328));currentLightboxImages[$(469)]>1?(x[$(257)][$(407)]=$(228),e[$(257)][$(407)]=$(228)):(x[$(257)].display=$(360),e[$(257)][$(407)]="none")}function closeLightbox($){let x=_0x3ca0ca;($.target===$.currentTarget||$[x(495)][x(315)][x(308)](x(307)))&&(document.getElementById(x(202)).style[x(407)]=x(360))}function mostrarInfoModal($,x,e){let a=_0x3ca0ca,t=document[a(234)](a(367)),_=document[a(234)](a(293)),o=document[a(234)](a(226));_[a(421)]=$;let i="";x&&""!==x[a(313)]()&&(i+='\n            <div class="info-modal-section">\n                <h4>Especificaciones del Fabricante:</h4>\n                <p>'+x+a(334)),e&&""!==e.trim()&&(i+=a(476)+e+a(334)),o[a(420)]=i,t[a(315)].add(a(461))}function closeInfoModal($){let x=_0x3ca0ca,e=document[x(234)](x(367));$&&$.target!==$[x(342)]||e[x(315)][x(200)](x(461))}function actualizarCarrito(){let $=_0x3ca0ca,x=document.getElementById("cart-list"),e=document[$(234)]($(247)),a=document[$(234)]($(215));x.innerHTML="";let t=carrito.reduce((x,e)=>x+e[$(253)],0);if(0===carrito[$(469)]){e&&(e[$(257)][$(407)]=$(360));let _=document[$(234)]($(412));_&&(_[$(315)][$(200)]($(264)),"undefined"!=typeof cartExpanded&&(cartExpanded=!1))}else e&&(e.style[$(407)]=$(292));a&&(a[$(421)]=t),carrito.forEach((e,a)=>{let t=$,_=document[t(441)]("li");_.style[t(214)]="relative",_.style[t(244)]="35px";let o=document[t(441)]("div");o.innerHTML=t(333)+e[t(489)]+t(227)+e.cantidad+t(240);let i=document[t(441)](t(229));i[t(297)]=t(415),i[t(420)]='<i class="fas fa-times"></i>',i.onclick=function(){eliminarItemCarrito(a)},_[t(318)](o),_[t(318)](i),x[t(318)](_)})}function eliminarItemCarrito($){let x=_0x3ca0ca,e=carrito[$],a=document[x(201)](x(300));a[x(231)]($=>{let a=x,t=$[a(481)]("h3")?.textContent;if(t===e[a(489)]){let _=$[a(481)](a(237)),o=$[a(481)]('input[type="number"]')?.[a(507)],i=$[a(481)](a(433));_&&o&&i&&(i[a(207)]="1",o.style[a(407)]=a(360),o[a(257)].opacity="0",o[a(257)][a(348)]="scale(0.8)",_.style.display="block",_[a(257)][a(263)]="1",_[a(257)][a(348)]=a(355),_[a(257)][a(465)]="",_.style[a(395)]="",_[a(257)].border="")}}),carrito.splice($,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado($,x){let e=_0x3ca0ca,a=document[e(234)](e(225));a&&a.remove();let t=document[e(441)](e(379));t.id="pedido-confirmado-modal",t[e(297)]=e(471),t[e(257)][e(407)]="flex",t[e(420)]=e(504),document[e(310)].appendChild(t),document.getElementById(e(366))[e(270)]=function(){let x=e;window[x(429)][x(284)]="pedidos.html?id="+$}}function limpiarCarrito(){let $=_0x3ca0ca;carrito=[],document.querySelectorAll($(300))[$(231)](x=>{let e=$,a=x[e(481)](e(237)),t=x.querySelector(e(433))?.[e(507)],_=x[e(481)](e(433));a&&t&&_&&(_[e(207)]="1",t[e(257)][e(407)]=e(360),t[e(257)][e(263)]="0",t[e(257)][e(348)]="scale(0.8)",a.style[e(407)]=e(228),a[e(257)][e(263)]="1",a.style[e(348)]=e(355),a.style[e(465)]="",a[e(257)][e(395)]="",a[e(257)][e(353)]="")}),actualizarCarrito(),guardarCarritoLocal()}function enviarPedido(){let $=_0x3ca0ca;if(0===carrito.length){alert($(447));return}if(modoEdicion){enviarPedidoFinal();return}let x=document[$(234)]("clienteModal");x&&(x[$(257)][$(407)]="flex")}function enviarPedidoFinal(){let $=_0x3ca0ca;if(modoEdicion&&pedidoEditId){let x=db[$(374)]("pedidos/"+pedidoEditId);x.once($(207))[$(382)](e=>{let a=$;if(!e[a(269)]()){alert(a(394));return}let t=e[a(296)]();if(t[a(502)]){alert(a(205));return}return carrito.forEach($=>{let x=a,e=t.items.findIndex(e=>e[x(489)]===$[x(489)]);e>-1?t[x(438)][e][x(253)]+=$[x(253)]:t[x(438)][x(278)]({nombre:$[x(489)],cantidad:$.cantidad,valorUSD:$[x(365)],codigo:$.codigo||"",categoria:$[x(479)]||""})}),t[a(304)]={nombre:datosExtraCliente[a(489)]||t[a(304)]?.nombre||"",telefono:datosExtraCliente[a(211)]||t[a(304)]?.[a(211)]||"",localidad:datosExtraCliente.localidad||t[a(304)]?.[a(399)]||"",direccion:datosExtraCliente[a(267)]||t[a(304)]?.direccion||"",provincia:datosExtraCliente[a(351)]||t.cliente?.[a(351)]||"",dni:String(datosExtraCliente[a(443)]||t[a(304)]?.[a(443)]||""),email:datosExtraCliente[a(242)]||t[a(304)]?.email||"",tipoCliente:datosExtraCliente[a(233)]||t[a(304)]?.[a(233)]||"mayorista"},x[a(217)]({items:t[a(438)],cliente:t[a(304)],adminViewed:!1,lastUpdated:Date.now()})})[$(382)](()=>{let x=$;alert(x(236)),setTimeout(()=>{let $=x;window.location[$(470)]($(301)+pedidoEditId)},300)})[$(346)](x=>{let e=$;console[e(218)]("Error al actualizar pedido:",x),alert(e(424)+x[e(375)])});return}if(0===carrito.length){alert($(456));return}let e=datosExtraCliente[$(242)]||"";db[$(374)]($(280))[$(440)]($(242))[$(326)](e.toLowerCase())[$(449)](1)[$(266)]($(207))[$(382)](x=>{let a=$;return!x[a(269)]()&&e?db[a(374)](a(280))[a(278)]({email:e[a(422)](),nombre:datosExtraCliente[a(489)]||"",telefono:datosExtraCliente.telefono||"",localidad:datosExtraCliente.localidad||"",direccion:datosExtraCliente[a(267)]||"",provincia:datosExtraCliente.provincia||"",dni:String(datosExtraCliente[a(443)]||""),tipoCliente:datosExtraCliente.tipoCliente||"mayorista",registro:a(337)}):Promise[a(478)]()})[$(382)](()=>{let x=$,e=db[x(374)](x(245))[x(278)](),a=e[x(252)],t={id:a,timestamp:Date[x(291)](),locked:!1,adminViewed:!1,createdby:"web",status:x(371),cliente:{nombre:datosExtraCliente[x(489)]||"",telefono:datosExtraCliente[x(211)]||"",localidad:datosExtraCliente.localidad||"",direccion:datosExtraCliente[x(267)]||"",provincia:datosExtraCliente.provincia||"",dni:String(datosExtraCliente.dni||""),email:datosExtraCliente[x(242)]||"",tipoCliente:datosExtraCliente[x(233)]||x(451)},items:carrito[x(281)]($=>({nombre:$[x(489)],cantidad:$.cantidad,valorUSD:$[x(365)],codigo:$[x(251)]||"",categoria:$.categoria||""}))};return e[x(398)](t).then(()=>a)})[$(382)](x=>{let e=$;datosExtraCliente[e(242)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/[e(282)](datosExtraCliente[e(242)])&&emailjs[e(311)]("service_lu9cpxk",e(423),{email:datosExtraCliente[e(242)],name:datosExtraCliente[e(489)],linkPedido:e(345)+x}).then(function($){let x=e;console[x(468)]("Email enviado!",$[x(425)],$[x(452)])},function($){let x=e;console[x(218)](x(288),$)}),mostrarModalPedidoConfirmado(x,datosExtraCliente[e(242)]),limpiarCarrito(),datosExtraCliente={}})[$(346)](x=>{let e=$;console.error(e(289),x),alert(e(414)+x[e(375)])})}window.addEventListener(_0x3ca0ca(435),()=>{let $=_0x3ca0ca;if(typeof currentPage!==$(341)){let x=datosFiltrados.length>0?datosFiltrados:productos;actualizarPaginacion(currentPage,x)}}),document.getElementById("next-btn").addEventListener(_0x3ca0ca(322),$=>{let x=_0x3ca0ca;$.stopPropagation(),currentLightboxImages.length>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[x(469)],document.getElementById("lightbox-img").src=currentLightboxImages[currentImageIndex])}),document[_0x3ca0ca(234)](_0x3ca0ca(361)).addEventListener(_0x3ca0ca(322),$=>{let x=_0x3ca0ca;$[x(204)](),currentLightboxImages[x(469)]>0&&(currentImageIndex=(currentLightboxImages.length+currentImageIndex-1)%currentLightboxImages[x(469)],document[x(234)](x(283)).src=currentLightboxImages[currentImageIndex])}),document[_0x3ca0ca(234)]("lightbox-img")[_0x3ca0ca(444)]("error",function(){let $=_0x3ca0ca;currentLightboxImages[$(469)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this[$(385)]=currentLightboxImages[0])}),document.addEventListener(_0x3ca0ca(254),function(){let $=_0x3ca0ca;document.getElementById($(413))[$(420)]=MARQUEE_TEXT,document[$(234)]($(358))[$(420)]=MARQUEE_TEXT,cargarCarritoLocal()});const hamburgerBtn=document.getElementById(_0x3ca0ca(491)),hamburgerDropdown=document[_0x3ca0ca(234)](_0x3ca0ca(275));hamburgerBtn[_0x3ca0ca(444)](_0x3ca0ca(322),function($){let x=_0x3ca0ca;$.stopPropagation(),hamburgerDropdown[x(315)][x(405)]("active")}),document.addEventListener(_0x3ca0ca(322),function($){let x=_0x3ca0ca;hamburgerBtn[x(308)]($[x(495)])||hamburgerDropdown[x(308)]($[x(495)])||hamburgerDropdown.classList[x(200)](x(264))}),document[_0x3ca0ca(201)](".hamburger-dropdown-item").forEach($=>{let x=_0x3ca0ca;$[x(444)](x(322),function(){hamburgerDropdown[x(315)].remove("active")})});const ultimoPedidoBtn=document.getElementById("ultimoPedidoBtn"),ultimoPedidoModal=document.getElementById("ultimoPedidoModal"),closeUltimoPedidoModal=document[_0x3ca0ca(234)](_0x3ca0ca(369)),buscarUltimoPedidoBtn=document[_0x3ca0ca(234)]("buscarUltimoPedidoBtn"),ultimoPedidoEmailInput=document[_0x3ca0ca(234)](_0x3ca0ca(230)),buscarBtnText=document[_0x3ca0ca(234)]("buscarBtnText"),buscarSpinner=document[_0x3ca0ca(234)](_0x3ca0ca(418)),ultimoPedidoMensaje=document.getElementById("ultimoPedidoMensaje");function mostrarMensajeBusqueda($,x){let e=_0x3ca0ca,a=ultimoPedidoMensaje,t=a[e(481)](e(262)),_=a[e(481)]("span");"error"===$?(a.style.backgroundColor="#fee",a[e(257)][e(246)]=e(219),a[e(257)][e(395)]=e(232),t.className=e(208)):$===e(428)?(a.style[e(376)]=e(463),a[e(257)][e(246)]=e(436),a[e(257)][e(395)]=e(472),t[e(297)]=e(335)):$===e(430)&&(a[e(257)].backgroundColor=e(350),a[e(257)][e(246)]=e(419),a.style[e(395)]=e(212),t[e(297)]=e(403)),_[e(421)]=x,a[e(257)][e(407)]=e(292),a[e(257)][e(388)]="center"}function ocultarMensajeBusqueda(){ultimoPedidoMensaje.style.display=_0x3ca0ca(360)}function setEstadoCargaBusqueda($){let x=_0x3ca0ca;buscarUltimoPedidoBtn[x(408)]=$,buscarUltimoPedidoBtn.style[x(263)]=$?x(331):"1",buscarUltimoPedidoBtn.style[x(274)]=$?"not-allowed":x(329),buscarBtnText.style[x(407)]=$?x(360):"inline",buscarSpinner.style[x(407)]=x($?228:360),ultimoPedidoEmailInput.disabled=$}ultimoPedidoBtn[_0x3ca0ca(444)](_0x3ca0ca(322),function(){let $=_0x3ca0ca;ultimoPedidoModal[$(257)][$(407)]=$(292),ultimoPedidoEmailInput.value="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput[$(356)](),100)}),closeUltimoPedidoModal.addEventListener("click",function(){ultimoPedidoModal.style.display="none",ocultarMensajeBusqueda()}),ultimoPedidoModal[_0x3ca0ca(444)](_0x3ca0ca(279),function($){let x=_0x3ca0ca;$[x(495)]===ultimoPedidoModal&&(ultimoPedidoModal[x(257)][x(407)]=x(360),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x3ca0ca(444)](_0x3ca0ca(322),function(){let $=_0x3ca0ca,x=ultimoPedidoEmailInput[$(207)][$(313)]()[$(422)]();if(ocultarMensajeBusqueda(),!x||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(x)){mostrarMensajeBusqueda($(218),"Por favor, ingres\xe1 un email v\xe1lido"),ultimoPedidoEmailInput[$(356)]();return}setEstadoCargaBusqueda(!0),db[$(374)]($(245))[$(440)]($(224))[$(326)](x)[$(266)]($(207))[$(382)](x=>{let e=$;if(setEstadoCargaBusqueda(!1),!x[e(269)]()){mostrarMensajeBusqueda(e(218),"No se encontraron pedidos registrados con este email");return}let a=null;x.forEach($=>{let x=$.val();(!a||x[e(372)]>a.timestamp)&&(a=x)}),a&&a.id?(mostrarMensajeBusqueda("success",e(404)),setTimeout(()=>{let $=e;window[$(386)]($(301)+a.id,$(445)),ultimoPedidoModal.style[$(407)]="none",ocultarMensajeBusqueda(),ultimoPedidoEmailInput[$(207)]=""},800)):mostrarMensajeBusqueda(e(218),e(271))})[$(346)](()=>{let x=$;setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda(x(218),x(460))})}),ultimoPedidoEmailInput[_0x3ca0ca(444)](_0x3ca0ca(327),function($){let x=_0x3ca0ca;$[x(252)]===x(458)&&buscarUltimoPedidoBtn[x(322)]()}),document[_0x3ca0ca(444)](_0x3ca0ca(254),function(){let $=_0x3ca0ca,x=document[$(234)]($(343));if(x){let e=x.querySelectorAll($(295)),a=0;e.length>0&&setInterval(()=>{a=(a+1)%e[$(469)],function e(){let t=$,_=-(100*a);x[t(257)][t(348)]=t(492)+_+"%)"}()},5e3)}});
