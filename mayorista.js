const _0x13a28c=_0x1952;(function(x,$){let e=_0x1952,a=x();for(;;)try{let t=parseInt(e(157))/1+parseInt(e(384))/2+-parseInt(e(412))/3+parseInt(e(236))/4+parseInt(e(311))/5*(parseInt(e(380))/6)+-parseInt(e(307))/7+-parseInt(e(381))/8;if(973837===t)break;a.push(a.shift())}catch(o){a.push(a.shift())}})(_0x31d3,973837),emailjs[_0x13a28c(276)](_0x13a28c(180));const WHATSAPP_URL=_0x13a28c(121),MARQUEE_TEXT=_0x13a28c(151),ITEMPESOS="6",CACHE_VERSION=_0x13a28c(133);firebase[_0x13a28c(249)](firebaseConfig);const db=firebase.database();function getCacheBustedURL(x){if(!x||x===_0x13a28c(113))return x;let $=x.includes("?")?"&":"?";return""+x+$+"v="+CACHE_VERSION}document[_0x13a28c(229)](_0x13a28c(149),function(){let x=_0x13a28c,$=document.getElementById("carousel-images"),e=$?$.querySelectorAll(x(312)):[],a=0;e[x(275)]>0&&setInterval(()=>{a=(a+1)%e[x(275)],function t(){let o=x;if($&&e.length>0){let i=-(100*a);$[o(302)].transform=o(147)+i+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let x=_0x13a28c;if(!modoEdicion)try{localStorage[x(168)](x(203),JSON[x(279)](carrito))}catch($){console.error("Error al guardar carrito en localStorage:",$)}}function cargarCarritoLocal(){let x=_0x13a28c;if(!modoEdicion)try{let $=localStorage.getItem(x(203));$&&(carrito=JSON.parse($),actualizarCarrito())}catch(e){console[x(297)](x(299),e),carrito=[]}}const urlParams=new URLSearchParams(window.location.search),pedidoEditId=urlParams[_0x13a28c(206)]("pedido"),modoEdicion=!!pedidoEditId;function _0x31d3(){let x=["infoModalTitle","marginTop","slice","backgroundColor","remove","ultimoPedidoModal","Enter","createElement","filtroDisponibles","50px","update","infoModal","floor","transform","_blank","4px","534OFBdlT","9826840fhaKwu","toLowerCase",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"2995946WLHwcH","value","btn-agregar-carrito","hamburgerBtn","categorias","No se encontraron pedidos registrados con este email","lightbox-img","display","background","precio","nombre","</small>\n        ","10px 10px","replace","checked","from","opacity","clienteModal","Error al guardar el pedido: ","modal","body","Error al guardar pedido o cliente:","button"," unidades disponibles.","textAlign","borderRadius","https://www.home-point.com.ar/pedidos.html?id=","16px","4844061ZwKkcG","target","pedidos/","#4CAF50",'input[type="number"]',"position","inline","Sin stock disponible","#error","C\xf3digo: ","</p>\n            </div>\n        ","no-disponible.png","number","once","cantidad","toString","hamburgerDropdown","info-primer-articulo-modal","activeElement","https://api.whatsapp.com/send/?phone=5491121891006","tipoCliente","fas fa-exclamation-circle","find","</s></span>","5px 0","transition","0.7","val","resize","Siguiente","1px solid #ff9800","2.1","localidad","type","alignItems","1px solid #4CAF50","json","https://sheets.googleapis.com/v4/spreadsheets/","scale(1)","cartBadge","input",'\n            <div class="info-modal-section">\n                <h4>Especificaciones del Fabricante:</h4>\n                <p>',"getBoundingClientRect","show","contains","translateX(","Anterior","DOMContentLoaded","indexOf","\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS",".stock-info","#cccccc","appendChild","clientes","querySelectorAll","1283832BJAHVI","email","fontSize","minimo-pedido-modal","scale(0.8)","Ver informaci\xf3n adicional","unidad","documentElement","undefined","option","pagination","setItem","mayorista","className","min","#ff9800","</strong>&nbsp;<small>x","Error al cargar los datos:","scrollTop","\n            <strong>","Error al actualizar pedido:","minHeight",'<i class="fas fa-cart-plus"></i>',"vcbQsbE2bgLwFAnDr","Error: No se encontr\xf3 el pedido original","log","height","ultimoPedidoMensaje","exists","ceil","next-btn","padding","title","ultimoPedidoBtn","border","cartContainer","block","borderLeft","findIndex","pagination-button","catalogo","#e6ffed","add",".card","pageYOffset","stock-info","carritoMayorista","ultimoPedidoEmailInput","onclick","get","Error al cargar pedido existente:","disabled","cliente/email","set","5px 10px","status","textContent","provincia","change","currentTarget","img","infoModalBody","getElementById","orderByChild","querySelector","filter","web","dni","color","key","open","top","addEventListener","success","buscar","paddingRight","verPedidoBtnConfirmado","loadingOverlay","trim","5216268HlbKAH","cart-item-delete","aviso-edicion-pedido","hidden","div","forEach","message","1px solid #ddd","offsetWidth","relative","splice","4px solid #e53e3e","El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.","initializeApp","4px solid #4299e1","#fee","unidades","timestamp","marginBottom","items","ref","toggle","35px","Datos del pedido existente cargados:","pedidos.html?id=","prev-btn","#c53030","innerWidth","telefono",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">',"map","template_xqo1j5z","now","\xa1Pedido encontrado! Redirigiendo...","cartFloatBtn"," unidades disponibles","fas fa-check-circle","54px","focus","length","init","El carrito est\xe1 vac\xedo.","all 0.3s ease","stringify","fas fa-info-circle","catch","removeItem","includes","resolve","categoria","5px","Error al acceder a la API: ","reduce","keydown","100px","Error al buscar el pedido. Por favor, intenta de nuevo","Este pedido est\xe1 cerrado y no se puede editar.","href","#2b6cb0",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',"codigo","error","flex","Error al cargar carrito desde localStorage:","\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ","buscarSpinner","style","<strong>Ahora $</strong> ","cart-list","info","center","6317465wVkoTR","not-allowed",".btn-agregar-carrito","API_KEY","35590bytTfI",".carousel-slide","sort","info-icon","cursor",' m\xe1s.\n                        </p>\n                    </div>\n                </div>\n                <button id="cerrarMinimoPedidoBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"#e6f7ff","locked","Error: Importe total insuficiente para procesar el pedido","pointer","innerHTML","scrollTo","No se encontraron datos en la hoja.","parentElement","Error al actualizar el pedido: ","cliente","M\xe1ximo ",'<span style="color: #ff9800;">✗ Sin stock</span>',"max","/values/","location","src","cerrarInfoPrimerArticuloBtn","#fff","Por favor, ingres\xe1 un email v\xe1lido","direccion","cerrarMinimoPedidoBtn","</strong> ","Email enviado!","lightbox","equalTo","classList",'\n            <div class="info-modal-section">\n                <h4>Tama\xf1o</h4>\n                <p>',"text","falta",'<span style="color: #4CAF50;">✓ Disponible</span>',"localeCompare","todos","?key=","then",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Informaci\xf3n Importante</h2>\n                <p style=\'margin:8px 0 0 0;\'>Sobre el proceso de pedido</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#e3f2fd;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-truck" style="font-size:3em;color:#2196F3;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>La solicitud de pedido se utiliza solo para env\xedos.</strong>\n                    </p>\n                    <p style="margin:15px 0 0 0;color:#555;line-height:1.6;font-size:0.95em;">\n                        Si retir\xe1s en nuestro showroom, <strong>no hace falta generar un pedido</strong>.\n                    </p>\n                </div>\n                <button id="cerrarInfoPrimerArticuloBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"stopPropagation","width","#2f855a","Stock insuficiente. Solo hay ","none","click","marquee-text-2",' <strong style="color:#ff9800;font-size:1.2em;">',"statusText","carousel-pie-images","push","active"];return(_0x31d3=function(){return x})()}if(modoEdicion){localStorage[_0x13a28c(282)](_0x13a28c(203));let x=document[_0x13a28c(371)]("div");x[_0x13a28c(213)]="⚙️ Est\xe1s agregando art\xedculos al pedido #"+pedidoEditId,x.id=_0x13a28c(238),x.style.cssText=_0x13a28c(300),document[_0x13a28c(404)].appendChild(x),document[_0x13a28c(404)][_0x13a28c(302)][_0x13a28c(365)]=_0x13a28c(273),db[_0x13a28c(256)](_0x13a28c(414)+pedidoEditId)[_0x13a28c(115)](_0x13a28c(385))[_0x13a28c(350)](x=>{let $=_0x13a28c;if(x.exists()){let e=x[$(129)]();datosExtraCliente=e[$(326)]||{},console.log($(259),e)}})[_0x13a28c(281)](x=>{let $=_0x13a28c;console[$(297)]($(207),x)})}const loadingOverlay=document[_0x13a28c(219)](_0x13a28c(234));fetch(_0x13a28c(139)+GOOGLE_SHEETS_CONFIG.SPREADSHEET_ID+_0x13a28c(330)+GOOGLE_SHEETS_CONFIG.RANGO+_0x13a28c(349)+GOOGLE_SHEETS_CONFIG[_0x13a28c(310)]).then(x=>{let $=_0x13a28c;if(!x.ok)throw Error($(287)+x[$(360)]);return x[$(138)]()})[_0x13a28c(350)](x=>{let $=_0x13a28c;loadingOverlay&&(loadingOverlay[$(302)][$(391)]=$(356));let e=x.values;if(!e||0===e[$(275)])throw Error($(323));datosFiltrados=productos=e[$(222)](x=>""!==(x[3]||"")[$(117)]()[$(235)]())[$(313)]((x,$)=>{function e(x){let $=_0x1952;if(!x||""===x||null==x)return new Date(1900,0,1);if(x[$(283)]("/")){let e=x.split("/");if(3===e[$(275)]){let a=parseInt(e[0]),t=parseInt(e[1])-1,o=parseInt(e[2]);return new Date(o,t,a)}}return new Date(1900,0,1)}let a=e(x[12]),t=e($[12]);return t-a}),window[$(322)](0,0),mostrarPagina(1),setTimeout(()=>{let x=$;refreshStockInfo(),document.getElementById(x(372))[x(398)]&&i(),setTimeout(()=>{primeraCarga=!1},100)},100);let a=new Set(productos[$(266)](x=>x[0])),t=document[$(219)]($(388)),o=Array[$(399)](a)[$(222)](x=>x&&""!==x[$(235)]())[$(313)]((x,e)=>x[$(347)](e,"es",{sensitivity:"base"}));function i(){let x=$,e=document.getElementById("categorias")[x(385)],a=document.getElementById(x(231))[x(385)][x(382)](),t=document[x(219)](x(372)).checked,o=productos;e!==x(348)&&(o=o[x(222)](x=>x[0]===e)),""!==a[x(235)]()&&(o=o.filter($=>$[3][x(382)]()[x(283)](a)||$[2].toLowerCase().includes(a)||$[17]&&$[17].toLowerCase()[x(283)](a))),t&&(o=o[x(222)]($=>{let e=$[10];if(null==e||""===e)return!1;let a=parseInt(String(e)[x(235)]());return!isNaN(a)&&a>1})),datosFiltrados=o,mostrarPagina(1,o)}o.forEach(x=>{let e=$,a=document[e(371)](e(166));a[e(385)]=x,a[e(213)]=x,t.appendChild(a)}),t[$(229)]($(215),()=>{i()}),document[$(219)]($(231))[$(229)]($(142),x=>{i()}),document.getElementById($(372)).addEventListener($(215),()=>{i()}),document[$(219)]("todos").addEventListener($(357),()=>{let x=$;document[x(219)](x(388))[x(385)]="todos",document.getElementById(x(231))[x(385)]="",document.getElementById(x(372))[x(398)]=!1,datosFiltrados=productos,mostrarPagina(1)})}).catch(x=>{let $=_0x13a28c;loadingOverlay&&(loadingOverlay[$(302)].display=$(356)),console[$(297)]($(174),x),document[$(221)]($(110))[$(213)]=x[$(242)]});let primeraCarga=!0;function mostrarPagina(x,$=productos){let e=_0x13a28c;currentPage=x,$.length;let a=(x-1)*30,t=$[e(366)](a,a+30);cargarGrid(t),actualizarPaginacion(x,$),document[e(120)]!==document[e(219)](e(231))&&setTimeout(()=>{let x=e;if(primeraCarga)window.scrollTo({top:0,behavior:"auto"});else{let $=document[x(219)](x(388));if($){let a=$[x(144)](),t=window[x(201)]||document[x(164)][x(175)];window[x(322)]({top:a[x(228)]+t-20,behavior:"smooth"})}}},0)}function cargarGrid(x){let $=_0x13a28c,e=document[$(219)]($(197));e.innerHTML="",x[$(241)](x=>{let a=$,t=document[a(371)]("div");t[a(342)][a(199)]("card");let o=document[a(371)](a(142));o[a(135)]=a(239),o[a(385)]=x[2],t[a(154)](o);let i=x[14]||"",r=x[15]||"";if(i||r){let _=document[a(371)](a(240));_.classList.add(a(314)),_[a(321)]='<i class="fas fa-info"></i>',_[a(189)]=a(162),_[a(229)](a(357),()=>{mostrarInfoModal(x[3],i,r)}),t[a(154)](_)}if(isValidImageUrl(x[1])){let d=[];-1!==x[1][a(150)](",")?d=x[1].split(",")[a(266)](x=>getCacheBustedURL(x[a(235)]())):d[a(362)](getCacheBustedURL(x[1]));let n=document.createElement(a(217));n.src=d[0],n.loading="lazy",n.onerror=function(){this.src=getCacheBustedURL("no-disponible.png")},n[a(229)](a(357),()=>{abrirLightbox(d)}),t[a(154)](n)}let l=document[a(371)]("h3");l.textContent=x[3],t.appendChild(l);let c=document.createElement(a(240));c[a(342)][a(199)](a(305)),c[a(213)]=a(111)+x[2],t[a(154)](c);let s=document[a(371)](a(240));s.classList[a(199)](a(202)),s.style.margin=a(126),s[a(302)].fontWeight="bold";let u=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(u=parseInt(x[10])),isNaN(u)?s.innerHTML='<span style="color: #ff9800;">✗ Sin stock</span>':u<=1?s[a(321)]='<span style="color: #ff9800;">✗ Sin stock</span>':u<=10?s[a(321)]=a(383):s[a(321)]=a(346),t[a(154)](s);{let f=document[a(371)]("p");f[a(321)]=a(265)+x[13]+a(125),f[a(302)][a(254)]=a(286),t[a(154)](f)}let m=document[a(371)]("p");m[a(321)]=a(303)+x["6"],m[a(302)][a(365)]="2px",t[a(154)](m);let p=document[a(371)](a(240));p[a(302)][a(391)]=a(298),p[a(302)][a(136)]=a(306),p[a(302)].justifyContent=a(306),p[a(302)].gap=a(286),p.style[a(178)]=a(373);let g=document[a(371)](a(240));g[a(302)][a(391)]=a(356),g[a(302)][a(136)]=a(306),g.style.gap=a(286),g[a(302)][a(127)]=a(278),g[a(302)][a(400)]="0";let b=document[a(371)](a(406));b.innerHTML="-",b[a(302)].padding="5px 10px",b[a(302)][a(159)]=a(411),b[a(302)][a(183)]=a(258),b[a(302)][a(353)]=a(258),b.style.backgroundColor=a(172),b[a(302)][a(225)]=a(334),b[a(302)].border=a(132),b[a(302)].borderRadius=a(379),b[a(302)][a(315)]=a(320);let h=document.createElement("input");h[a(135)]=a(114),h[a(171)]="1",h[a(385)]="1",h[a(302)][a(353)]="50px",h[a(302)][a(183)]="35px",h[a(302)][a(188)]=a(286),h[a(302)][a(408)]="center",h[a(302)][a(191)]=a(243),h.style[a(409)]="4px";let y=document[a(371)]("button");y[a(321)]="+",y[a(302)].padding=a(211),y[a(302)][a(159)]="16px",y[a(302)][a(183)]=a(258),y[a(302)].width=a(258),y[a(302)].backgroundColor=a(172),y[a(302)].color="#fff",y[a(302)][a(191)]=a(132),y.style[a(409)]=a(379),y.style[a(315)]="pointer",g[a(154)](b),g[a(154)](h),g[a(154)](y);let E=document[a(371)]("button");function C(){let $=a,e=parseInt(h[$(385)]);if(e>0){let t=carrito[$(124)](x=>x[$(394)]===l.textContent);t?t[$(116)]=e:agregarAlCarrito(l[$(213)],x[6],e,x[2],x[0],x[7][$(117)]()[$(397)](/[,\.]/g,""),x[6].toString().replace(/[,\.]/g,"")),actualizarCarrito()}}E.innerHTML=a(179),E.style[a(188)]=a(396),E[a(302)][a(159)]=a(411),E[a(302)][a(183)]=a(373),E.style[a(353)]=a(373),E[a(302)][a(367)]=a(415),E[a(302)].color=a(334),E[a(302)].border=a(137),E[a(302)][a(409)]="4px",E[a(302)][a(315)]=a(320),E[a(302)][a(127)]=a(278),E[a(342)][a(199)](a(386)),!isNaN(u)&&u>0?(h[a(329)]=u,h.title=a(327)+u+" unidades disponibles"):(E[a(208)]=!0,E[a(302)][a(367)]=a(153),E.style.borderColor=a(153),E[a(302)].cursor=a(308),E[a(189)]=a(109)),E[a(229)](a(357),()=>{let $=a,e=0;if(void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(e=parseInt(x[10])),isNaN(e)||e<=0){alert("Este producto no tiene stock disponible.");return}h[$(385)]="1",C(),function x(){let $=a;E[$(302)].opacity="0",E[$(302)].transform=$(161),setTimeout(()=>{let x=$;E.style.display=x(356),g[x(302)][x(391)]=x(298),setTimeout(()=>{let $=x;g[$(302)][$(400)]="1",g[$(302)][$(377)]="scale(1)"},50)},150)}()}),y[a(229)](a(357),()=>{let $=a,e=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(e=parseInt(x[10]));let t=parseInt(h[$(385)]);if(!isNaN(e)&&t>=e){alert($(355)+e+" unidades disponibles.");return}h[$(385)]=t+1,C()}),b.addEventListener(a(357),()=>{let x=a,$=parseInt(h.value);if($>1)h[x(385)]=$-1,C();else{let e=carrito[x(124)]($=>$[x(394)]===l[x(213)]);if(e){let t=carrito.indexOf(e);carrito[x(246)](t,1),actualizarCarrito()}g[x(302)][x(400)]="0",g[x(302)][x(377)]=x(161),setTimeout(()=>{let $=x;g.style.display="none",E[$(302)][$(391)]=$(193),E[$(302)][$(400)]="0",E[$(302)][$(377)]="scale(0.8)",setTimeout(()=>{let x=$;E[x(302)][x(400)]="1",E[x(302)][x(377)]=x(140)},50)},150)}}),h[a(229)](a(215),()=>{let $=a,e=parseInt(h[$(385)]),t=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(t=parseInt(x[10])),e<=0?h[$(385)]="1":!isNaN(t)&&e>t&&(alert($(355)+t+$(407)),h.value=t),C()}),p[a(154)](E),p[a(154)](g),t[a(154)](p),e[a(154)](t)})}function refreshStockInfo(){let x=_0x13a28c,$=document.querySelectorAll(x(200));$.forEach($=>{let e=x,a=$[e(221)](e(152));if(a){let t=$[e(221)]('input[type="hidden"]');if(t){let o=t[e(385)],i=productos[e(124)](x=>x[2]===o),r=0;i&&void 0!==i[10]&&null!==i[10]&&""!==i[10]&&(r=parseInt(i[10])),isNaN(r)?a.innerHTML=e(328):r<=1?a[e(321)]=e(328):r<=10?a.innerHTML=e(383):a.innerHTML='<span style="color: #4CAF50;">✓ Disponible</span>';let _=$[e(221)]('input[type="number"]'),d=$[e(221)](".btn-agregar-carrito");_&&(!isNaN(r)&&r>0?(_.max=r,_[e(208)]=!1,_[e(189)]="M\xe1ximo "+r+e(271),d&&d[e(208)]&&(d.disabled=!1,d[e(302)][e(367)]=e(415),d[e(302)].borderColor=e(415),d[e(302)][e(315)]=e(320),d.title="")):(_.disabled=!0,_[e(189)]="Sin stock disponible",d&&(d.disabled=!0,d[e(302)][e(367)]="#cccccc",d[e(302)].borderColor=e(153),d[e(302)][e(315)]=e(308),d[e(189)]=e(109))))}}})}function agregarAlCarrito(x,$,e,a,t){let o=_0x13a28c,i=0===carrito.length,r=carrito[o(124)]($=>$[o(394)]===x);r?r[o(116)]+=e:carrito.push({nombre:x,precio:$,cantidad:e,codigo:a,categoria:t}),actualizarCarrito(),guardarCarritoLocal(),i&&!modoEdicion&&mostrarModalInfoPrimerArticulo()}function _0x1952(x,$){x-=108;let e=_0x31d3();return e[x]}function getMaxVisiblePaginationButtons(){let x=_0x13a28c,$=document[x(219)](x(167)),e=window[x(263)];$&&(e=$[x(244)]||e);let a=Math[x(329)](3,Math[x(376)]((e-220)/48));return Math[x(171)](a,15)}function actualizarPaginacion(x,$){let e=_0x13a28c,a=document[e(219)](e(167));a[e(321)]="";let t=Math[e(186)]($[e(275)]/30);if(x>1){let o=document[e(371)](e(406));o.textContent=e(148),o[e(302)].width=e(290),o.addEventListener(e(357),()=>mostrarPagina(x-1,$)),a[e(154)](o)}let i=getMaxVisiblePaginationButtons(),r=Math[e(329)](1,x-Math[e(376)](i/2)),_=Math[e(171)](t,r+i-1);_-r<i-1&&(r=Math.max(1,_-i+1));for(let d=r;d<=_;d++){let n=document[e(371)](e(406));n[e(213)]=d,n[e(342)][e(199)](e(196)),d===x&&n[e(342)].add(e(363)),n[e(229)](e(357),()=>mostrarPagina(d,$)),a[e(154)](n)}if(x<t){let l=document[e(371)](e(406));l[e(213)]=e(131),l[e(302)][e(353)]=e(290),l[e(229)](e(357),()=>mostrarPagina(x+1,$)),a[e(154)](l)}}function isValidImageUrl(x){return x&&x.match(/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox(x){let $=_0x13a28c;currentLightboxImages=x,currentImageIndex=0,document[$(219)]($(390)).src=currentLightboxImages[currentImageIndex],document.getElementById($(340))[$(302)][$(391)]=$(298),actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let x=_0x13a28c,$=document[x(219)](x(261)),e=document[x(219)](x(187));currentLightboxImages[x(275)]>1?($.style[x(391)]="block",e[x(302)][x(391)]=x(193)):($[x(302)].display=x(356),e[x(302)].display=x(356))}function closeLightbox(x){let $=_0x13a28c;(x[$(413)]===x[$(216)]||x[$(413)][$(342)][$(146)]("close"))&&(document[$(219)]($(340)).style[$(391)]="none")}function mostrarInfoModal(x,$,e){let a=_0x13a28c,t=document[a(219)](a(375)),o=document[a(219)](a(364)),i=document[a(219)](a(218));o[a(213)]=x;let r="";$&&""!==$[a(235)]()&&(r+=a(143)+$+a(112)),e&&""!==e[a(235)]()&&(r+=a(343)+e+"</p>\n            </div>\n        "),i[a(321)]=r,t[a(342)][a(199)](a(145))}function closeInfoModal(x){let $=_0x13a28c,e=document[$(219)]($(375));x&&x[$(413)]!==x.currentTarget||e[$(342)][$(368)]($(145))}function actualizarCarrito(){let x=_0x13a28c,$=document[x(219)](x(304)),e=document[x(219)](x(270)),a=document[x(219)](x(141));$[x(321)]="";let t=carrito[x(288)](($,e)=>$+e[x(116)],0);if(0===carrito[x(275)]){e&&(e[x(302)][x(391)]=x(356));let o=document[x(219)](x(192));o&&(o.classList[x(368)](x(363)),typeof cartExpanded!==x(165)&&(cartExpanded=!1))}else e&&(e[x(302)][x(391)]=x(298));a&&(a[x(213)]=t),carrito[x(241)]((e,a)=>{let t=x,o=document[t(371)]("li");o.style[t(417)]=t(245),o.style[t(232)]="35px";let i=document.createElement(t(240));i.innerHTML=t(176)+e[t(394)]+t(173)+e.cantidad+t(395);let r=document[t(371)](t(406));r[t(170)]=t(237),r[t(321)]='<i class="fas fa-times"></i>',r[t(205)]=function(){eliminarItemCarrito(a)},o[t(154)](i),o[t(154)](r),$[t(154)](o)})}function eliminarItemCarrito(x){let $=_0x13a28c,e=carrito[x],a=document.querySelectorAll(".card");a[$(241)](x=>{let a=$,t=x[a(221)]("h3")?.[a(213)];if(t===e.nombre){let o=x.querySelector(a(309)),i=x[a(221)](a(416))?.[a(324)],r=x.querySelector(a(416));o&&i&&r&&(r[a(385)]="1",i[a(302)][a(391)]="none",i[a(302)][a(400)]="0",i[a(302)][a(377)]=a(161),o[a(302)][a(391)]=a(193),o.style[a(400)]="1",o.style[a(377)]="scale(1)",o.style[a(392)]="",o[a(302)][a(225)]="",o.style[a(191)]="")}}),carrito[$(246)](x,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado(x,$){let e=_0x13a28c,a=document[e(219)]("pedido-confirmado-modal");a&&a[e(368)]();let t=document[e(371)](e(240));t.id="pedido-confirmado-modal",t[e(170)]=e(403),t[e(302)][e(391)]=e(298),t[e(321)]=e(295),document[e(404)][e(154)](t),document.getElementById(e(233))[e(205)]=function(){let $=e;window[$(331)][$(293)]="pedidos.html?id="+x}}function mostrarModalInfoPrimerArticulo(){let x=_0x13a28c,$=document[x(219)](x(119));$&&$[x(368)]();let e=document[x(371)]("div");e.id=x(119),e[x(170)]="modal",e[x(302)][x(391)]=x(298),e[x(321)]=x(351),document[x(404)][x(154)](e),document[x(219)](x(333))[x(205)]=function(){e.remove()},e[x(205)]=function($){$.target===e&&e[x(368)]()}}function mostrarModalMinimoPedido(x){let $=_0x13a28c,e=document.getElementById($(160));e&&e[$(368)]();let a=5-x,t=document[$(371)]($(240));t.id=$(160),t[$(170)]=$(403),t[$(302)][$(391)]=$(298),t.innerHTML='\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Pedido M\xednimo Requerido</h2>\n                <p style=\'margin:8px 0 0 0;\'>Para procesar tu pedido necesitamos un m\xednimo de unidades</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#fff3e0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-shopping-cart" style="font-size:3em;color:#ff9800;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>Necesitas agregar al menos 5 unidades para procesar el pedido.</strong>\n                    </p>\n                    <div style="margin-top:20px;padding:15px;background:#fff;border-radius:8px;border-left:4px solid #ff9800;">\n                        <p style="margin:0;color:#666;font-size:0.95em;">\n                            Actualmente tienes <strong style="color:#ff9800;font-size:1.2em;">'+x+"</strong> "+(1===x?$(163):$(252))+' en tu carrito.\n                        </p>\n                        <p style="margin:10px 0 0 0;color:#666;font-size:0.95em;">\n                            Te '+(1===a?$(345):"faltan")+$(359)+a+$(338)+(1===a?$(163):$(252))+$(316),document[$(404)].appendChild(t),document.getElementById($(337)).onclick=function(){t[$(368)]()},t[$(205)]=function(x){x[$(413)]===t&&t.remove()}}function limpiarCarrito(){let x=_0x13a28c;carrito=[],document.querySelectorAll(".card")[x(241)]($=>{let e=x,a=$[e(221)](e(309)),t=$.querySelector(e(416))?.[e(324)],o=$[e(221)](e(416));a&&t&&o&&(o[e(385)]="1",t[e(302)][e(391)]=e(356),t[e(302)][e(400)]="0",t.style[e(377)]=e(161),a[e(302)][e(391)]=e(193),a.style[e(400)]="1",a[e(302)][e(377)]="scale(1)",a.style[e(392)]="",a[e(302)][e(225)]="",a.style[e(191)]="")}),actualizarCarrito(),guardarCarritoLocal()}function calcularTotalCarrito(){return carrito.reduce((x,$)=>{let e=_0x1952,a=parseFloat($[e(393)][e(117)]()[e(397)](/[^0-9.-]/g,""));return x+a*$[e(116)]},0)}function enviarPedido(){let x=_0x13a28c;if(0===carrito[x(275)]){alert(x(248));return}let $=carrito[x(288)](($,e)=>$+e[x(116)],0);if($<5&&!modoEdicion){mostrarModalMinimoPedido($);return}let e=calcularTotalCarrito();if(e<9e4&&!modoEdicion){alert(x(319));return}if(modoEdicion){enviarPedidoFinal();return}let a=document[x(219)](x(401));a&&(a.style[x(391)]=x(298))}function enviarPedidoFinal(){let x=_0x13a28c;if(modoEdicion&&pedidoEditId){let $=db[x(256)](x(414)+pedidoEditId);$[x(115)](x(385)).then(e=>{let a=x;if(!e[a(185)]()){alert(a(181));return}let t=e[a(129)]();if(t[a(318)]){alert(a(292));return}return carrito[a(241)](x=>{let $=a,e=t[$(255)][$(195)](e=>e[$(394)]===x[$(394)]);e>-1?t[$(255)][e][$(116)]+=x[$(116)]:t[$(255)].push({nombre:x.nombre,cantidad:x[$(116)],valorUSD:x[$(393)],codigo:x[$(296)]||"",categoria:x[$(285)]||""})}),t[a(326)]={nombre:datosExtraCliente[a(394)]||t[a(326)]?.nombre||"",telefono:datosExtraCliente[a(264)]||t[a(326)]?.[a(264)]||"",localidad:datosExtraCliente[a(134)]||t[a(326)]?.[a(134)]||"",direccion:datosExtraCliente.direccion||t[a(326)]?.[a(336)]||"",provincia:datosExtraCliente[a(214)]||t[a(326)]?.[a(214)]||"",dni:String(datosExtraCliente[a(224)]||t[a(326)]?.[a(224)]||""),email:datosExtraCliente.email||t[a(326)]?.[a(158)]||"",tipoCliente:datosExtraCliente.tipoCliente||t.cliente?.tipoCliente||a(169)},$[a(374)]({items:t.items,cliente:t[a(326)],adminViewed:!1,lastUpdated:Date[a(268)]()})})[x(350)](()=>{alert("\xa1Art\xedculos agregados exitosamente al pedido!"),setTimeout(()=>{let x=_0x1952;window[x(331)][x(397)](x(260)+pedidoEditId)},300)}).catch($=>{let e=x;console.error(e(177),$),alert(e(325)+$[e(242)])});return}if(0===carrito.length){alert(x(277));return}let e=datosExtraCliente[x(158)]||"";db.ref(x(155))[x(220)](x(158))[x(341)](e[x(382)]()).limitToFirst(1)[x(115)]("value")[x(350)]($=>{let a=x;return!$[a(185)]()&&e?db[a(256)](a(155))[a(362)]({email:e[a(382)](),nombre:datosExtraCliente[a(394)]||"",telefono:datosExtraCliente[a(264)]||"",localidad:datosExtraCliente.localidad||"",direccion:datosExtraCliente[a(336)]||"",provincia:datosExtraCliente[a(214)]||"",dni:String(datosExtraCliente.dni||""),tipoCliente:datosExtraCliente.tipoCliente||"mayorista",registro:"web"}):Promise[a(284)]()})[x(350)](()=>{let $=x,e=db.ref("pedidos").push(),a=e.key,t={id:a,timestamp:Date[$(268)](),locked:!1,adminViewed:!1,createdby:$(223),status:"ABIERTO",cliente:{nombre:datosExtraCliente[$(394)]||"",telefono:datosExtraCliente[$(264)]||"",localidad:datosExtraCliente[$(134)]||"",direccion:datosExtraCliente[$(336)]||"",provincia:datosExtraCliente[$(214)]||"",dni:String(datosExtraCliente[$(224)]||""),email:datosExtraCliente.email||"",tipoCliente:datosExtraCliente[$(122)]||$(169)},items:carrito[$(266)](x=>({nombre:x[$(394)],cantidad:x[$(116)],valorUSD:x[$(393)],codigo:x[$(296)]||"",categoria:x.categoria||""}))};return e[$(210)](t)[$(350)](()=>a)}).then($=>{let e=x;datosExtraCliente[e(158)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(datosExtraCliente[e(158)])&&emailjs.send("service_lu9cpxk",e(267),{email:datosExtraCliente.email,name:datosExtraCliente[e(394)],linkPedido:e(410)+$})[e(350)](function(x){let $=e;console[$(182)]($(339),x[$(212)],x[$(344)])},function(x){console[e(297)]("Error enviando email:",x)}),mostrarModalPedidoConfirmado($,datosExtraCliente[e(158)]),limpiarCarrito(),datosExtraCliente={}})[x(281)]($=>{let e=x;console.error(e(405),$),alert(e(402)+$[e(242)])})}window[_0x13a28c(229)](_0x13a28c(130),()=>{let x=_0x13a28c;if(void 0!==currentPage){let $=datosFiltrados[x(275)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,$)}}),document[_0x13a28c(219)]("next-btn")[_0x13a28c(229)](_0x13a28c(357),x=>{let $=_0x13a28c;x[$(352)](),currentLightboxImages[$(275)]>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages.length,document[$(219)]($(390))[$(332)]=currentLightboxImages[currentImageIndex])}),document[_0x13a28c(219)]("prev-btn").addEventListener("click",x=>{let $=_0x13a28c;x[$(352)](),currentLightboxImages[$(275)]>0&&(currentImageIndex=(currentLightboxImages[$(275)]+currentImageIndex-1)%currentLightboxImages.length,document[$(219)]($(390)).src=currentLightboxImages[currentImageIndex])}),document[_0x13a28c(219)](_0x13a28c(390))[_0x13a28c(229)](_0x13a28c(297),function(){currentLightboxImages[_0x13a28c(275)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this.src=currentLightboxImages[0])}),document[_0x13a28c(229)](_0x13a28c(149),function(){let x=_0x13a28c;document.getElementById("marquee-text-1")[x(321)]=MARQUEE_TEXT,document.getElementById(x(358))[x(321)]=MARQUEE_TEXT,cargarCarritoLocal()});const hamburgerBtn=document[_0x13a28c(219)](_0x13a28c(387)),hamburgerDropdown=document[_0x13a28c(219)](_0x13a28c(118));hamburgerBtn[_0x13a28c(229)](_0x13a28c(357),function(x){let $=_0x13a28c;x[$(352)](),hamburgerDropdown[$(342)][$(257)]($(363))}),document[_0x13a28c(229)](_0x13a28c(357),function(x){let $=_0x13a28c;hamburgerBtn.contains(x[$(413)])||hamburgerDropdown[$(146)](x.target)||hamburgerDropdown.classList[$(368)]("active")}),document[_0x13a28c(156)](".hamburger-dropdown-item")[_0x13a28c(241)](x=>{let $=_0x13a28c;x[$(229)]($(357),function(){let x=$;hamburgerDropdown[x(342)][x(368)](x(363))})});const ultimoPedidoBtn=document[_0x13a28c(219)](_0x13a28c(190)),ultimoPedidoModal=document[_0x13a28c(219)](_0x13a28c(369)),closeUltimoPedidoModal=document.getElementById("closeUltimoPedidoModal"),buscarUltimoPedidoBtn=document[_0x13a28c(219)]("buscarUltimoPedidoBtn"),ultimoPedidoEmailInput=document[_0x13a28c(219)](_0x13a28c(204)),buscarBtnText=document[_0x13a28c(219)]("buscarBtnText"),buscarSpinner=document[_0x13a28c(219)](_0x13a28c(301)),ultimoPedidoMensaje=document[_0x13a28c(219)](_0x13a28c(184));function mostrarMensajeBusqueda(x,$){let e=_0x13a28c,a=ultimoPedidoMensaje,t=a[e(221)](".fas"),o=a[e(221)]("span");"error"===x?(a.style[e(367)]=e(251),a[e(302)][e(194)]=e(247),a[e(302)][e(225)]=e(262),t[e(170)]=e(123)):x===e(230)?(a[e(302)].backgroundColor=e(198),a[e(302)][e(194)]="4px solid #48bb78",a[e(302)].color=e(354),t[e(170)]=e(272)):"info"===x&&(a.style[e(367)]=e(317),a.style.borderLeft=e(250),a.style[e(225)]=e(294),t[e(170)]=e(280)),o[e(213)]=$,a.style[e(391)]=e(298),a[e(302)][e(136)]="center"}function ocultarMensajeBusqueda(){let x=_0x13a28c;ultimoPedidoMensaje[x(302)][x(391)]=x(356)}function setEstadoCargaBusqueda(x){let $=_0x13a28c;buscarUltimoPedidoBtn[$(208)]=x,buscarUltimoPedidoBtn[$(302)].opacity=x?$(128):"1",buscarUltimoPedidoBtn[$(302)][$(315)]=x?$(308):"pointer",buscarBtnText[$(302)][$(391)]=$(x?356:108),buscarSpinner.style[$(391)]=$(x?193:356),ultimoPedidoEmailInput[$(208)]=x}ultimoPedidoBtn[_0x13a28c(229)](_0x13a28c(357),function(){let x=_0x13a28c;ultimoPedidoModal[x(302)].display=x(298),ultimoPedidoEmailInput[x(385)]="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput.focus(),100)}),closeUltimoPedidoModal.addEventListener(_0x13a28c(357),function(){let x=_0x13a28c;ultimoPedidoModal[x(302)][x(391)]=x(356),ocultarMensajeBusqueda()}),ultimoPedidoModal[_0x13a28c(229)]("mousedown",function(x){let $=_0x13a28c;x[$(413)]===ultimoPedidoModal&&(ultimoPedidoModal.style[$(391)]=$(356),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x13a28c(229)]("click",function(){let x=_0x13a28c,$=ultimoPedidoEmailInput[x(385)][x(235)]()[x(382)]();if(ocultarMensajeBusqueda(),!$||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test($)){mostrarMensajeBusqueda(x(297),x(335)),ultimoPedidoEmailInput[x(274)]();return}setEstadoCargaBusqueda(!0),db.ref("pedidos")[x(220)](x(209))[x(341)]($)[x(115)](x(385))[x(350)]($=>{let e=x;if(setEstadoCargaBusqueda(!1),!$[e(185)]()){mostrarMensajeBusqueda(e(297),e(389));return}let a=null;$.forEach(x=>{let $=e,t=x[$(129)]();(!a||t[$(253)]>a[$(253)])&&(a=t)}),a&&a.id?(mostrarMensajeBusqueda(e(230),e(269)),setTimeout(()=>{let x=e;window[x(227)](x(260)+a.id,x(378)),ultimoPedidoModal[x(302)][x(391)]="none",ocultarMensajeBusqueda(),ultimoPedidoEmailInput[x(385)]=""},800)):mostrarMensajeBusqueda("error",e(389))})[x(281)](()=>{setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda("error",x(291))})}),ultimoPedidoEmailInput[_0x13a28c(229)](_0x13a28c(289),function(x){let $=_0x13a28c;x[$(226)]===$(370)&&buscarUltimoPedidoBtn[$(357)]()}),document.addEventListener(_0x13a28c(149),function(){let x=_0x13a28c,$=document[x(219)](x(361));if($){let e=$[x(156)](x(312)),a=0;e.length>0&&setInterval(()=>{a=(a+1)%e.length,function e(){let t=x,o=-(100*a);$.style[t(377)]=t(147)+o+"%)"}()},5e3)}});
