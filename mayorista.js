const _0x2d2225=_0x188c;(function(x,$){let e=_0x188c,a=x();for(;;)try{let t=-parseInt(e(440))/1+-parseInt(e(203))/2+-parseInt(e(446))/3+-parseInt(e(212))/4*(-parseInt(e(255))/5)+-parseInt(e(178))/6+parseInt(e(244))/7+-parseInt(e(284))/8*(-parseInt(e(356))/9);if(171643===t)break;a.push(a.shift())}catch(o){a.push(a.shift())}})(_0x4bed,171643),emailjs[_0x2d2225(179)](_0x2d2225(362));const WHATSAPP_URL=_0x2d2225(434),MARQUEE_TEXT=_0x2d2225(330),ITEMPESOS="6",CACHE_VERSION="2.1",PEDIDOS_VERSION=_0x2d2225(372);firebase[_0x2d2225(387)](firebaseConfig);const db=firebase.database();function getCacheBustedURL(x){let $=_0x2d2225;if(!x||x===$(228))return x;let e=x[$(263)]("?")?"&":"?";return""+x+e+"v=2.1"}document[_0x2d2225(201)]("DOMContentLoaded",function(){let x=_0x2d2225,$=document[x(195)](x(230)),e=$?$[x(427)](x(237)):[],a=0;e[x(158)]>0&&setInterval(()=>{a=(a+1)%e[x(158)],function t(){let o=x;if($&&e[o(158)]>0){let i=-(100*a);$[o(364)].transform=o(219)+i+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let x=_0x2d2225;if(!modoEdicion)try{localStorage[x(306)](x(239),JSON.stringify(carrito))}catch($){console[x(171)](x(292),$)}}function cargarCarritoLocal(){let x=_0x2d2225;if(!modoEdicion)try{let $=localStorage[x(419)](x(239));$&&(carrito=JSON[x(151)]($),actualizarCarrito())}catch(e){console.error(x(447),e),carrito=[]}}const urlParams=new URLSearchParams(window[_0x2d2225(441)][_0x2d2225(250)]),pedidoEditId=urlParams.get(_0x2d2225(208)),modoEdicion=!!pedidoEditId;if(modoEdicion){localStorage[_0x2d2225(324)]("carritoMayorista");let x=document[_0x2d2225(394)](_0x2d2225(300));x[_0x2d2225(248)]=_0x2d2225(420)+pedidoEditId,x.id="aviso-edicion-pedido",x.style[_0x2d2225(450)]="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ",document.body.appendChild(x),document.body[_0x2d2225(364)].marginTop=_0x2d2225(258),db[_0x2d2225(172)](_0x2d2225(154)+pedidoEditId)[_0x2d2225(161)]("value")[_0x2d2225(445)](x=>{let $=_0x2d2225;if(x.exists()){let e=x[$(234)]();datosExtraCliente=e.cliente||{},console[$(400)]($(238),e)}}).catch(x=>{let $=_0x2d2225;console[$(171)]($(343),x)})}function _0x188c(x,$){x-=150;let e=_0x4bed();return e[x]}const loadingOverlay=document.getElementById(_0x2d2225(270));fetch(_0x2d2225(436)+GOOGLE_SHEETS_CONFIG[_0x2d2225(341)]+"/values/"+GOOGLE_SHEETS_CONFIG[_0x2d2225(317)]+"?key="+GOOGLE_SHEETS_CONFIG[_0x2d2225(413)])[_0x2d2225(445)](x=>{let $=_0x2d2225;if(!x.ok)throw Error($(206)+x[$(437)]);return x.json()})[_0x2d2225(445)](x=>{let $=_0x2d2225;loadingOverlay&&(loadingOverlay[$(364)].display=$(312));let e=x.values;if(!e||0===e.length)throw Error("No se encontraron datos en la hoja.");datosFiltrados=productos=e.filter(x=>""!==(x[3]||"")[$(282)]()[$(451)]())[$(325)]((x,$)=>{function e(x){let $=_0x188c;if(!x||""===x||null==x)return new Date(1900,0,1);if(x[$(263)]("/")){let e=x[$(361)]("/");if(3===e.length){let a=parseInt(e[0]),t=parseInt(e[1])-1,o=parseInt(e[2]);return new Date(o,t,a)}}return new Date(1900,0,1)}let a=e(x[12]),t=e($[12]);return t-a}),window[$(333)](0,0),mostrarPagina(1),setTimeout(()=>{let x=$;refreshStockInfo(),document[x(195)]("filtroDisponibles")[x(432)]&&c(),setTimeout(()=>{primeraCarga=!1},100)},100);let a=new Set(productos.map(x=>x[0])),t=document[$(195)]("categorias"),o=Array.from(a)[$(443)](x=>x&&""!==x.trim())[$(325)]((x,e)=>x[$(354)](e,"es",{sensitivity:$(389)}));function i(x){let e=$;return x?x[e(422)]()[e(313)]("NFD")[e(268)](/[\u0300-\u036f]/g,"")[e(268)](/[^\w\s]/g," ")[e(268)](/\s+/g," ")[e(451)]():""}function r(x,e){let a=$;if(0===x.length)return e[a(158)];if(0===e[a(158)])return x.length;let t=[];for(let o=0;o<=e.length;o++)t[o]=[o];for(let i=0;i<=x[a(158)];i++)t[0][i]=i;for(let r=1;r<=e[a(158)];r++)for(let d=1;d<=x[a(158)];d++)e[a(265)](r-1)===x.charAt(d-1)?t[r][d]=t[r-1][d-1]:t[r][d]=Math[a(453)](t[r-1][d-1]+1,t[r][d-1]+1,t[r-1][d]+1);return t[e[a(158)]][x[a(158)]]}function d(x){return x<=3?0:x<=5?1:x<=8?2:3}function n(x,e){let a=d(x[$(158)]),t=r(x,e);return t<=a}function _(x,e){let a=$,t=i(x),o=t[a(361)](" ")[a(443)](x=>x[a(158)]>0);return e[a(405)](x=>{let $=a;return!!t[$(263)](x)||o[$(397)]($=>n(x,$))})}function c(){let x=$,e=document[x(195)](x(368))[x(426)],a=document.getElementById(x(424))[x(426)],t=document[x(195)](x(266))[x(432)],o=productos;if(e!==x(253)&&(o=o[x(443)](x=>x[0]===e)),""!==a.trim()){let r=i(a),d=r.split(" ")[x(443)]($=>$[x(158)]>0);o=o[x(443)](x=>{let $=x[3]||"",e=x[2]||"",a=x[17]||"";return _($,d)||_(e,d)||_(a,d)})}t&&(o=o.filter($=>{let e=$[10];if(null==e||""===e)return!1;let a=parseInt(String(e)[x(451)]());return!isNaN(a)&&a>1})),datosFiltrados=o,mostrarPagina(1,o)}o[$(374)](x=>{let e=$,a=document.createElement(e(188));a.value=x,a.textContent=x,t[e(340)](a)}),t[$(201)]($(449),()=>{c()}),document[$(195)]($(424))[$(201)]($(285),x=>{c()}),document[$(195)]("filtroDisponibles")[$(201)]($(449),()=>{c()}),document.getElementById($(253))[$(201)]($(169),()=>{let x=$;document.getElementById(x(368)).value=x(253),document[x(195)](x(424))[x(426)]="",document[x(195)](x(266))[x(432)]=!1,datosFiltrados=productos,mostrarPagina(1)})})[_0x2d2225(156)](x=>{let $=_0x2d2225;loadingOverlay&&(loadingOverlay[$(364)].display=$(312)),console[$(171)]($(409),x),document[$(458)]($(381))[$(248)]=x[$(331)]});let primeraCarga=!0;function mostrarPagina(x,$=productos){let e=_0x2d2225;currentPage=x,$[e(158)];let a=(x-1)*30,t=$[e(213)](a,a+30);cargarGrid(t),actualizarPaginacion(x,$),document[e(415)]!==document[e(195)]("buscar")&&setTimeout(()=>{let x=e;if(primeraCarga)window[x(333)]({top:0,behavior:x(404)});else{let $=document[x(195)](x(368));if($){let a=$[x(377)](),t=window.pageYOffset||document.documentElement[x(367)];window.scrollTo({top:a.top+t-20,behavior:x(254)})}}},0)}function cargarGrid(x){let $=_0x2d2225,e=document.getElementById($(326));e[$(406)]="",x[$(374)](x=>{let a=$,t=document[a(394)](a(300));t.classList[a(379)]("card");let o=document[a(394)](a(285));o[a(272)]="hidden",o[a(426)]=x[2],t[a(340)](o);let i=x[14]||"",r=x[15]||"";if(i||r){let d=document[a(394)](a(300));d[a(416)][a(379)](a(468)),d[a(406)]='<i class="fas fa-info"></i>',d[a(233)]=a(175),d[a(201)](a(169),()=>{mostrarInfoModal(x[3],i,r)}),t[a(340)](d)}if(isValidImageUrl(x[1])){let n=[];-1!==x[1][a(261)](",")?n=x[1][a(361)](",").map(x=>getCacheBustedURL(x[a(451)]())):n[a(319)](getCacheBustedURL(x[1]));let _=document.createElement(a(298));_[a(301)]=n[0],_[a(177)]="lazy",_.onerror=function(){let x=a;this[x(301)]=getCacheBustedURL(x(228))},_[a(201)](a(169),()=>{abrirLightbox(n)}),t[a(340)](_)}let c=document[a(394)]("h3");c[a(248)]=x[3],t.appendChild(c);let l=document[a(394)](a(300));l[a(416)].add(a(243)),l[a(248)]=a(388)+x[2],t[a(340)](l);let s=document[a(394)](a(300));s.classList[a(379)](a(417)),s[a(364)][a(193)]=a(365),s[a(364)][a(380)]=a(414);let u=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(u=parseInt(x[10])),isNaN(u)?s[a(406)]='<span style="color: #ff9800;">✗ Sin stock</span>':u<=1?s[a(406)]=a(339):u<=10?s.innerHTML='<span style="color: #ffeb3b;">⚠ Pocas unidades</span>':s[a(406)]='<span style="color: #4CAF50;">✓ Disponible</span>',t[a(340)](s);{let f=document.createElement("p");f[a(406)]='<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">'+x[13]+a(461),f[a(364)][a(168)]=a(273),t[a(340)](f)}let m=document[a(394)]("p");m[a(406)]="<strong>Ahora $</strong> "+x["6"],m[a(364)][a(307)]=a(173),t.appendChild(m);let p=document[a(394)](a(300));p.style[a(469)]=a(198),p[a(364)][a(214)]=a(218),p.style[a(378)]=a(218),p[a(364)].gap=a(273),p[a(364)].minHeight=a(393);let g=document.createElement("div");g[a(364)][a(469)]="none",g[a(364)][a(214)]=a(218),g[a(364)].gap=a(273),g[a(364)][a(199)]=a(231),g.style[a(192)]="0";let b=document[a(394)]("button");b[a(406)]="-",b[a(364)][a(185)]=a(235),b[a(364)][a(209)]="16px",b[a(364)][a(205)]=a(223),b[a(364)][a(460)]="35px",b.style[a(327)]=a(353),b[a(364)][a(288)]=a(207),b[a(364)][a(184)]=a(303),b[a(364)][a(433)]="4px",b[a(364)][a(360)]="pointer";let h=document.createElement(a(285));h.type=a(260),h[a(453)]="1",h[a(426)]="1",h[a(364)][a(460)]=a(393),h[a(364)].height=a(223),h[a(364)].padding=a(273),h[a(364)].textAlign=a(218),h[a(364)][a(184)]=a(189),h[a(364)][a(433)]=a(435);let E=document[a(394)](a(334));E[a(406)]="+",E[a(364)].padding=a(235),E[a(364)][a(209)]=a(342),E[a(364)][a(205)]=a(223),E[a(364)][a(460)]=a(223),E[a(364)].backgroundColor=a(353),E[a(364)][a(288)]="#fff",E[a(364)].border=a(303),E[a(364)][a(433)]=a(435),E[a(364)][a(360)]=a(392),g[a(340)](b),g[a(340)](h),g[a(340)](E);let y=document[a(394)](a(334));function v(){let $=a,e=parseInt(h[$(426)]);if(e>0){let t=carrito.find(x=>x.nombre===c[$(248)]);t?t[$(227)]=e:agregarAlCarrito(c[$(248)],x[6],e,x[2],x[0],x[7][$(282)]()[$(268)](/[,\.]/g,""),x[6].toString()[$(268)](/[,\.]/g,"")),actualizarCarrito()}}y.innerHTML=a(187),y.style.padding=a(299),y[a(364)][a(209)]="16px",y[a(364)].height="50px",y[a(364)][a(460)]=a(393),y[a(364)][a(327)]=a(383),y[a(364)][a(288)]=a(207),y[a(364)].border="1px solid #4CAF50",y[a(364)][a(433)]="4px",y[a(364)][a(360)]=a(392),y[a(364)][a(199)]=a(231),y[a(416)][a(379)](a(165)),!isNaN(u)&&u>0?(h.max=u,h[a(233)]=a(204)+u+a(310)):(y[a(320)]=!0,y.style[a(327)]=a(304),y[a(364)][a(271)]=a(304),y[a(364)][a(360)]="not-allowed",y.title=a(277)),y[a(201)]("click",()=>{let $=a,e=0;if(void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(e=parseInt(x[10])),isNaN(e)||e<=0){alert("Este producto no tiene stock disponible.");return}h[$(426)]="1",v(),function x(){let $=a;y[$(364)][$(192)]="0",y.style[$(152)]=$(296),setTimeout(()=>{let x=$;y.style[x(469)]="none",g[x(364)][x(469)]=x(198),setTimeout(()=>{let $=x;g[$(364)][$(192)]="1",g[$(364)][$(152)]="scale(1)"},50)},150)}()}),E.addEventListener(a(169),()=>{let $=a,e=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(e=parseInt(x[10]));let t=parseInt(h[$(426)]);if(!isNaN(e)&&t>=e){alert($(181)+e+$(200));return}h.value=t+1,v()}),b[a(201)](a(169),()=>{let x=a,$=parseInt(h.value);if($>1)h.value=$-1,v();else{let e=carrito[x(242)]($=>$.nombre===c[x(248)]);if(e){let t=carrito[x(261)](e);carrito[x(252)](t,1),actualizarCarrito()}g.style[x(192)]="0",g[x(364)][x(152)]=x(296),setTimeout(()=>{let $=x;g[$(364)].display="none",y.style[$(469)]=$(275),y[$(364)][$(192)]="0",y[$(364)][$(152)]="scale(0.8)",setTimeout(()=>{let x=$;y.style.opacity="1",y[x(364)][x(152)]=x(371)},50)},150)}}),h[a(201)](a(449),()=>{let $=a,e=parseInt(h[$(426)]),t=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(t=parseInt(x[10])),e<=0?h[$(426)]="1":!isNaN(t)&&e>t&&(alert($(181)+t+$(200)),h.value=t),v()}),p[a(340)](y),p.appendChild(g),t[a(340)](p),e[a(340)](t)})}function refreshStockInfo(){let x=_0x2d2225,$=document.querySelectorAll(x(309));$[x(374)]($=>{let e=x,a=$.querySelector(e(217));if(a){let t=$[e(458)]('input[type="hidden"]');if(t){let o=t.value,i=productos[e(242)](x=>x[2]===o),r=0;i&&void 0!==i[10]&&null!==i[10]&&""!==i[10]&&(r=parseInt(i[10])),isNaN(r)?a[e(406)]=e(339):r<=1?a[e(406)]=e(339):r<=10?a[e(406)]=e(157):a[e(406)]=e(155);let d=$[e(458)](e(174)),n=$[e(458)](e(410));d&&(!isNaN(r)&&r>0?(d.max=r,d[e(320)]=!1,d[e(233)]=e(204)+r+e(310),n&&n[e(320)]&&(n[e(320)]=!1,n[e(364)][e(327)]=e(383),n.style[e(271)]="#4CAF50",n[e(364)][e(360)]=e(392),n[e(233)]="")):(d[e(320)]=!0,d[e(233)]=e(277),n&&(n[e(320)]=!0,n.style[e(327)]=e(304),n[e(364)][e(271)]=e(304),n[e(364)][e(360)]=e(226),n[e(233)]=e(277))))}}})}function agregarAlCarrito(x,$,e,a,t){let o=_0x2d2225,i=0===carrito[o(158)],r=carrito[o(242)]($=>$[o(347)]===x);r?r[o(227)]+=e:carrito[o(319)]({nombre:x,precio:$,cantidad:e,codigo:a,categoria:t}),actualizarCarrito(),guardarCarritoLocal(),i&&!modoEdicion&&mostrarModalInfoPrimerArticulo()}function getMaxVisiblePaginationButtons(){let x=_0x2d2225,$=document.getElementById(x(349)),e=window[x(305)];$&&(e=$[x(459)]||e);let a=Math[x(346)](3,Math[x(240)]((e-220)/48));return Math[x(453)](a,15)}function actualizarPaginacion(x,$){let e=_0x2d2225,a=document.getElementById(e(349));a.innerHTML="";let t=Math[e(452)]($[e(158)]/30);if(x>1){let o=document[e(394)](e(334));o[e(248)]=e(439),o.style[e(460)]=e(351),o[e(201)](e(169),()=>mostrarPagina(x-1,$)),a[e(340)](o)}let i=getMaxVisiblePaginationButtons(),r=Math[e(346)](1,x-Math[e(240)](i/2)),d=Math[e(453)](t,r+i-1);d-r<i-1&&(r=Math[e(346)](1,d-i+1));for(let n=r;n<=d;n++){let _=document[e(394)](e(334));_[e(248)]=n,_[e(416)][e(379)](e(283)),n===x&&_[e(416)][e(379)](e(355)),_[e(201)](e(169),()=>mostrarPagina(n,$)),a[e(340)](_)}if(x<t){let c=document[e(394)](e(334));c[e(248)]=e(462),c[e(364)][e(460)]=e(351),c[e(201)]("click",()=>mostrarPagina(x+1,$)),a[e(340)](c)}}function isValidImageUrl(x){return x&&x[_0x2d2225(328)](/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox(x){let $=_0x2d2225;currentLightboxImages=x,currentImageIndex=0,document[$(195)]($(369)).src=currentLightboxImages[currentImageIndex],document[$(195)]("lightbox")[$(364)][$(469)]=$(198),actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let x=_0x2d2225,$=document[x(195)](x(363)),e=document[x(195)](x(421));currentLightboxImages[x(158)]>1?($.style[x(469)]=x(275),e[x(364)].display=x(275)):($.style.display="none",e[x(364)][x(469)]=x(312))}function closeLightbox(x){let $=_0x2d2225;(x[$(194)]===x.currentTarget||x[$(194)][$(416)][$(382)]("close"))&&(document[$(195)]($(289))[$(364)][$(469)]=$(312))}function mostrarInfoModal(x,$,e){let a=_0x2d2225,t=document[a(195)](a(274)),o=document[a(195)](a(225)),i=document[a(195)](a(220));o[a(248)]=x;let r="";$&&""!==$.trim()&&(r+=a(215)+$+a(224)),e&&""!==e[a(451)]()&&(r+=a(391)+e+a(224)),i.innerHTML=r,t[a(416)][a(379)](a(210))}function closeInfoModal(x){let $=_0x2d2225,e=document.getElementById($(274));x&&x.target!==x[$(294)]||e[$(416)][$(166)]("show")}function actualizarCarrito(){let x=_0x2d2225,$=document[x(195)]("cart-list"),e=document[x(195)](x(399)),a=document[x(195)]("cartBadge");$[x(406)]="";let t=carrito[x(396)]((x,$)=>x+$.cantidad,0);if(0===carrito.length){e&&(e.style[x(469)]=x(312));let o=document[x(195)]("cartContainer");o&&(o[x(416)][x(166)]("active"),typeof cartExpanded!==x(257)&&(cartExpanded=!1))}else e&&(e.style.display=x(198));a&&(a.textContent=t),carrito[x(374)]((e,a)=>{let t=x,o=document[t(394)]("li");o[t(364)][t(442)]=t(318),o[t(364)][t(159)]="35px";let i=document[t(394)](t(300));i[t(406)]=t(191)+e[t(347)]+t(290)+e[t(227)]+t(251);let r=document[t(394)](t(334));r[t(412)]=t(444),r[t(406)]=t(438),r[t(418)]=function(){eliminarItemCarrito(a)},o[t(340)](i),o.appendChild(r),$[t(340)](o)})}function eliminarItemCarrito(x){let $=_0x2d2225,e=carrito[x],a=document[$(427)]($(309));a.forEach(x=>{let a=$,t=x[a(458)]("h3")?.[a(248)];if(t===e[a(347)]){let o=x.querySelector(a(410)),i=x.querySelector(a(174))?.parentElement,r=x[a(458)](a(174));o&&i&&r&&(r[a(426)]="1",i[a(364)][a(469)]=a(312),i[a(364)].opacity="0",i[a(364)][a(152)]="scale(0.8)",o[a(364)][a(469)]=a(275),o[a(364)][a(192)]="1",o[a(364)][a(152)]=a(371),o[a(364)][a(322)]="",o[a(364)].color="",o[a(364)][a(184)]="")}}),carrito[$(252)](x,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado(x,$){let e=_0x2d2225,a=document[e(195)](e(196));a&&a[e(166)]();let t=document[e(394)](e(300));t.id=e(196),t[e(412)]=e(359),t[e(364)][e(469)]=e(198),t.innerHTML=e(335),document[e(170)].appendChild(t),document[e(195)]("verPedidoBtnConfirmado")[e(418)]=function(){let $=e;window.location[$(373)]=$(425)+x+$(302)+PEDIDOS_VERSION}}function mostrarModalInfoPrimerArticulo(){let x=_0x2d2225,$=document[x(195)](x(345));$&&$[x(166)]();let e=document.createElement("div");e.id=x(345),e[x(412)]=x(359),e[x(364)][x(469)]=x(198),e[x(406)]='\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Informaci\xf3n Importante</h2>\n                <p style=\'margin:8px 0 0 0;\'>Sobre el proceso de pedido</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#e3f2fd;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-truck" style="font-size:3em;color:#2196F3;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>La solicitud de pedido se utiliza solo para env\xedos.</strong>\n                    </p>\n                    <p style="margin:15px 0 0 0;color:#555;line-height:1.6;font-size:0.95em;">\n                        Si retir\xe1s en nuestro showroom, <strong>no hace falta generar un pedido</strong>.\n                    </p>\n                </div>\n                <button id="cerrarInfoPrimerArticuloBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',document[x(170)][x(340)](e),document.getElementById("cerrarInfoPrimerArticuloBtn")[x(418)]=function(){e[x(166)]()},e[x(418)]=function($){let a=x;$[a(194)]===e&&e[a(166)]()}}function mostrarModalMinimoPedido(x){let $=_0x2d2225,e=document[$(195)]($(350));e&&e.remove();let a=5-x,t=document.createElement("div");t.id="minimo-pedido-modal",t[$(412)]=$(359),t[$(364)][$(469)]=$(198),t[$(406)]=$(153)+x+"</strong> "+(1===x?$(280):$(236))+' en tu carrito.\n                        </p>\n                        <p style="margin:10px 0 0 0;color:#666;font-size:0.95em;">\n                            Te '+(1===a?$(232):$(314))+$(376)+a+$(221)+(1===a?$(280):$(236))+$(454),document[$(170)][$(340)](t),document[$(195)]("cerrarMinimoPedidoBtn")[$(418)]=function(){t[$(166)]()},t.onclick=function(x){x[$(194)]===t&&t.remove()}}function limpiarCarrito(){let x=_0x2d2225;carrito=[],document[x(427)](".card")[x(374)]($=>{let e=x,a=$[e(458)](".btn-agregar-carrito"),t=$[e(458)](e(174))?.parentElement,o=$[e(458)](e(174));a&&t&&o&&(o[e(426)]="1",t[e(364)][e(469)]=e(312),t[e(364)][e(192)]="0",t.style[e(152)]="scale(0.8)",a[e(364)][e(469)]=e(275),a[e(364)][e(192)]="1",a.style[e(152)]="scale(1)",a.style[e(322)]="",a[e(364)][e(288)]="",a.style[e(184)]="")}),actualizarCarrito(),guardarCarritoLocal()}function calcularTotalCarrito(){let x=_0x2d2225;return carrito[x(396)](($,e)=>{let a=x,t=parseFloat(e[a(395)][a(282)]().replace(/[^0-9.-]/g,""));return $+t*e[a(227)]},0)}function enviarPedido(){let x=_0x2d2225;if(0===carrito[x(158)]){alert(x(180));return}let $=carrito[x(396)]((x,$)=>x+$.cantidad,0);if($<5&&!modoEdicion){mostrarModalMinimoPedido($);return}let e=calcularTotalCarrito();if(e<9e4&&!modoEdicion){alert(x(293));return}if(modoEdicion){enviarPedidoFinal();return}let a=document[x(195)]("clienteModal");a&&(a[x(364)][x(469)]="flex")}function enviarPedidoFinal(){let x=_0x2d2225;if(modoEdicion&&pedidoEditId){let $=db[x(172)](x(154)+pedidoEditId);$[x(161)](x(426))[x(445)](e=>{let a=x;if(!e[a(338)]()){alert(a(229));return}let t=e[a(234)]();if(t[a(249)]){alert(a(463));return}return carrito.forEach(x=>{let $=a,e=t.items[$(246)](e=>e[$(347)]===x[$(347)]);e>-1?t.items[e][$(227)]+=x[$(227)]:t[$(295)][$(319)]({nombre:x[$(347)],cantidad:x[$(227)],valorUSD:x[$(395)],codigo:x.codigo||"",categoria:x[$(321)]||""})}),t[a(259)]={nombre:datosExtraCliente[a(347)]||t.cliente?.[a(347)]||"",telefono:datosExtraCliente[a(408)]||t.cliente?.[a(408)]||"",localidad:datosExtraCliente[a(297)]||t[a(259)]?.localidad||"",direccion:datosExtraCliente[a(286)]||t[a(259)]?.direccion||"",provincia:datosExtraCliente[a(279)]||t[a(259)]?.[a(279)]||"",dni:String(datosExtraCliente.dni||t[a(259)]?.[a(315)]||""),email:datosExtraCliente[a(245)]||t[a(259)]?.[a(245)]||"",tipoCliente:datosExtraCliente[a(456)]||t[a(259)]?.[a(456)]||a(211)},$.update({items:t.items,cliente:t[a(259)],adminViewed:!1,lastUpdated:Date[a(411)]()})}).then(()=>{alert("\xa1Art\xedculos agregados exitosamente al pedido!"),setTimeout(()=>{let x=_0x188c;window.location[x(268)](x(425)+pedidoEditId+"&v="+PEDIDOS_VERSION)},300)})[x(156)]($=>{let e=x;console.error(e(401),$),alert(e(464)+$[e(331)])});return}if(0===carrito.length){alert(x(183));return}let e=datosExtraCliente[x(245)]||"";db[x(172)](x(403))[x(186)](x(245))[x(323)](e[x(422)]())[x(428)](1)[x(161)](x(426))[x(445)]($=>{let a=x;return!$.exists()&&e?db[a(172)](a(403))[a(319)]({email:e.toLowerCase(),nombre:datosExtraCliente.nombre||"",telefono:datosExtraCliente[a(408)]||"",localidad:datosExtraCliente[a(297)]||"",direccion:datosExtraCliente[a(286)]||"",provincia:datosExtraCliente[a(279)]||"",dni:String(datosExtraCliente.dni||""),tipoCliente:datosExtraCliente.tipoCliente||"mayorista",registro:a(390)}):Promise[a(402)]()})[x(445)](()=>{let $=x,e=db.ref($(291))[$(319)](),a=e.key,t={id:a,timestamp:Date[$(411)](),locked:!1,adminViewed:!1,createdby:$(390),status:$(287),cliente:{nombre:datosExtraCliente.nombre||"",telefono:datosExtraCliente[$(408)]||"",localidad:datosExtraCliente[$(297)]||"",direccion:datosExtraCliente.direccion||"",provincia:datosExtraCliente[$(279)]||"",dni:String(datosExtraCliente[$(315)]||""),email:datosExtraCliente[$(245)]||"",tipoCliente:datosExtraCliente[$(456)]||$(211)},items:carrito[$(348)](x=>({nombre:x[$(347)],cantidad:x[$(227)],valorUSD:x[$(395)],codigo:x[$(308)]||"",categoria:x[$(321)]||""}))};return e[$(370)](t)[$(445)](()=>a)})[x(445)]($=>{let e=x;datosExtraCliente[e(245)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/[e(358)](datosExtraCliente.email)&&emailjs[e(352)](e(281),e(176),{email:datosExtraCliente[e(245)],name:datosExtraCliente[e(347)],linkPedido:e(197)+$+"&v="+PEDIDOS_VERSION})[e(445)](function(x){let $=e;console[$(400)]($(430),x[$(316)],x.text)},function(x){console.error(e(467),x)}),mostrarModalPedidoConfirmado($,datosExtraCliente[e(245)]),limpiarCarrito(),datosExtraCliente={}}).catch($=>{let e=x;console[e(171)](e(429),$),alert(e(311)+$[e(331)])})}window[_0x2d2225(201)](_0x2d2225(457),()=>{let x=_0x2d2225;if(typeof currentPage!==x(257)){let $=datosFiltrados[x(158)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,$)}}),document.getElementById(_0x2d2225(421)).addEventListener("click",x=>{let $=_0x2d2225;x[$(384)](),currentLightboxImages.length>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[$(158)],document.getElementById($(369))[$(301)]=currentLightboxImages[currentImageIndex])}),document.getElementById(_0x2d2225(363))[_0x2d2225(201)](_0x2d2225(169),x=>{let $=_0x2d2225;x[$(384)](),currentLightboxImages.length>0&&(currentImageIndex=(currentLightboxImages[$(158)]+currentImageIndex-1)%currentLightboxImages[$(158)],document[$(195)]($(369))[$(301)]=currentLightboxImages[currentImageIndex])}),document.getElementById("lightbox-img")[_0x2d2225(201)](_0x2d2225(171),function(){let x=_0x2d2225;currentLightboxImages[x(158)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this[x(301)]=currentLightboxImages[0])}),document[_0x2d2225(201)](_0x2d2225(276),function(){let x=_0x2d2225;document[x(195)](x(202))[x(406)]=MARQUEE_TEXT,document[x(195)](x(386))[x(406)]=MARQUEE_TEXT,cargarCarritoLocal()});const hamburgerBtn=document.getElementById("hamburgerBtn"),hamburgerDropdown=document[_0x2d2225(195)](_0x2d2225(162));hamburgerBtn[_0x2d2225(201)](_0x2d2225(169),function(x){let $=_0x2d2225;x[$(384)](),hamburgerDropdown[$(416)][$(269)]($(355))}),document[_0x2d2225(201)]("click",function(x){let $=_0x2d2225;hamburgerBtn[$(382)](x.target)||hamburgerDropdown[$(382)](x[$(194)])||hamburgerDropdown[$(416)][$(166)]($(355))}),document[_0x2d2225(427)](".hamburger-dropdown-item")[_0x2d2225(374)](x=>{let $=_0x2d2225;x[$(201)]("click",function(){let x=$;hamburgerDropdown[x(416)][x(166)]("active")})});const ultimoPedidoBtn=document[_0x2d2225(195)](_0x2d2225(385)),ultimoPedidoModal=document[_0x2d2225(195)](_0x2d2225(332)),closeUltimoPedidoModal=document[_0x2d2225(195)](_0x2d2225(267)),buscarUltimoPedidoBtn=document.getElementById(_0x2d2225(431)),ultimoPedidoEmailInput=document[_0x2d2225(195)](_0x2d2225(278)),buscarBtnText=document[_0x2d2225(195)](_0x2d2225(222)),buscarSpinner=document.getElementById(_0x2d2225(455)),ultimoPedidoMensaje=document[_0x2d2225(195)]("ultimoPedidoMensaje");function _0x4bed(){let x=["1px solid #ddd","Enter","\n            <strong>","opacity","margin","target","getElementById","pedido-confirmado-modal","https://www.home-point.com.ar/pedidos.html?id=","flex","transition"," unidades disponibles.","addEventListener","marquee-text-1","552178joqADk","M\xe1ximo ","height","Error al acceder a la API: ","#fff","pedido","fontSize","show","mayorista","8KMmGQX","slice","alignItems",'\n            <div class="info-modal-section">\n                <h4>Especificaciones del Fabricante:</h4>\n                <p>',"Error al buscar el pedido. Por favor, intenta de nuevo",".stock-info","center","translateX(","infoModalBody","</strong> ","buscarBtnText","35px","</p>\n            </div>\n        ","infoModalTitle","not-allowed","cantidad","no-disponible.png","Error: No se encontr\xf3 el pedido original","carousel-images","all 0.3s ease","falta","title","val","5px 10px","unidades",".carousel-slide","Datos del pedido existente cargados:","carritoMayorista","floor","keydown","find","info","1427587dmVhpk","email","findIndex","borderLeft","textContent","locked","search","</small>\n        ","splice","todos","smooth","268235GwqqsJ","fas fa-info-circle","undefined","54px","cliente","number","indexOf","4px solid #4299e1","includes","#e6f7ff","charAt","filtroDisponibles","closeUltimoPedidoModal","replace","toggle","loadingOverlay","borderColor","type","5px","infoModal","block","DOMContentLoaded","Sin stock disponible","ultimoPedidoEmailInput","provincia","unidad","service_lu9cpxk","toString","pagination-button","8EInbPF","input","direccion","ABIERTO","color","lightbox","</strong>&nbsp;<small>x","pedidos","Error al guardar carrito en localStorage:","Error: Importe total insuficiente para procesar el pedido","currentTarget","items","scale(0.8)","localidad","img","10px 10px","div","src","&v=","1px solid #ff9800","#cccccc","innerWidth","setItem","marginTop","codigo",".card"," unidades disponibles","Error al guardar el pedido: ","none","normalize","faltan","dni","status","RANGO","relative","push","disabled","categoria","background","equalTo","removeItem","sort","catalogo","backgroundColor","match","0.7","\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS","message","ultimoPedidoModal","scrollTo","button",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',"mousedown","cliente/email","exists",'<span style="color: #ff9800;">✗ Sin stock</span>',"appendChild","SPREADSHEET_ID","16px","Error al cargar pedido existente:","#2b6cb0","info-primer-articulo-modal","max","nombre","map","pagination","minimo-pedido-modal","100px","send","#ff9800","localeCompare","active","4883427zohAfe","success","test","modal","cursor","split","vcbQsbE2bgLwFAnDr","prev-btn","style","5px 0","4px solid #48bb78","scrollTop","categorias","lightbox-img","set","scale(1)","20260209","href","forEach","fas fa-check-circle",' <strong style="color:#ff9800;font-size:1.2em;">',"getBoundingClientRect","justifyContent","add","fontWeight","#error","contains","#4CAF50","stopPropagation","ultimoPedidoBtn","marquee-text-2","initializeApp","C\xf3digo: ","base","web",'\n            <div class="info-modal-section">\n                <h4>Tama\xf1o</h4>\n                <p>',"pointer","50px","createElement","precio","reduce","some","focus","cartFloatBtn","log","Error al actualizar pedido:","resolve","clientes","auto","every","innerHTML","open","telefono","Error al cargar los datos:",".btn-agregar-carrito","now","className","API_KEY","bold","activeElement","classList","stock-info","onclick","getItem","⚙️ Est\xe1s agregando art\xedculos al pedido #","next-btn","toLowerCase","inline","buscar","pedidos.html?id=","value","querySelectorAll","limitToFirst","Error al guardar pedido o cliente:","Email enviado!","buscarUltimoPedidoBtn","checked","borderRadius","https://api.whatsapp.com/send/?phone=5491121891006","4px","https://sheets.googleapis.com/v4/spreadsheets/","statusText",'<i class="fas fa-times"></i>',"Anterior","22712JKsPeE","location","position","filter","cart-item-delete","then","537660tjWIGT","Error al cargar carrito desde localStorage:","#fee","change","cssText","trim","ceil","min",' m\xe1s.\n                        </p>\n                    </div>\n                </div>\n                <button id="cerrarMinimoPedidoBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"buscarSpinner","tipoCliente","resize","querySelector","offsetWidth","width","</s></span>","Siguiente","Este pedido est\xe1 cerrado y no se puede editar.","Error al actualizar el pedido: ","_blank","No se encontraron pedidos registrados con este email","Error enviando email:","info-icon","display","#c53030","parse","transform",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Pedido M\xednimo Requerido</h2>\n                <p style=\'margin:8px 0 0 0;\'>Para procesar tu pedido necesitamos un m\xednimo de unidades</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#fff3e0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-shopping-cart" style="font-size:3em;color:#ff9800;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>Necesitas agregar al menos 5 unidades para procesar el pedido.</strong>\n                    </p>\n                    <div style="margin-top:20px;padding:15px;background:#fff;border-radius:8px;border-left:4px solid #ff9800;">\n                        <p style="margin:0;color:#666;font-size:0.95em;">\n                            Actualmente tienes <strong style="color:#ff9800;font-size:1.2em;">',"pedidos/",'<span style="color: #4CAF50;">✓ Disponible</span>',"catch",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"length","paddingRight","4px solid #e53e3e","once","hamburgerDropdown","fas fa-exclamation-circle","#2f855a","btn-agregar-carrito","remove","span","marginBottom","click","body","error","ref","2px",'input[type="number"]',"Ver informaci\xf3n adicional","template_xqo1j5z","loading","1225044pYrPWn","init","El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.","Stock insuficiente. Solo hay ","timestamp","El carrito est\xe1 vac\xedo.","border","padding","orderByChild",'<i class="fas fa-cart-plus"></i>',"option"];return(_0x4bed=function(){return x})()}function mostrarMensajeBusqueda(x,$){let e=_0x2d2225,a=ultimoPedidoMensaje,t=a[e(458)](".fas"),o=a[e(458)](e(167));x===e(171)?(a[e(364)][e(327)]=e(448),a[e(364)][e(247)]=e(160),a[e(364)].color=e(150),t[e(412)]=e(163)):x===e(357)?(a.style.backgroundColor="#e6ffed",a[e(364)][e(247)]=e(366),a[e(364)][e(288)]=e(164),t.className=e(375)):"info"===x&&(a.style[e(327)]=e(264),a[e(364)][e(247)]=e(262),a[e(364)][e(288)]=e(344),t[e(412)]=e(256)),o[e(248)]=$,a[e(364)][e(469)]=e(198),a[e(364)][e(214)]=e(218)}function ocultarMensajeBusqueda(){let x=_0x2d2225;ultimoPedidoMensaje[x(364)][x(469)]="none"}function setEstadoCargaBusqueda(x){let $=_0x2d2225;buscarUltimoPedidoBtn.disabled=x,buscarUltimoPedidoBtn[$(364)][$(192)]=x?$(329):"1",buscarUltimoPedidoBtn[$(364)][$(360)]=x?"not-allowed":$(392),buscarBtnText.style[$(469)]=x?"none":$(423),buscarSpinner[$(364)][$(469)]=x?"block":"none",ultimoPedidoEmailInput[$(320)]=x}ultimoPedidoBtn[_0x2d2225(201)](_0x2d2225(169),function(){let x=_0x2d2225;ultimoPedidoModal[x(364)][x(469)]="flex",ultimoPedidoEmailInput[x(426)]="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput.focus(),100)}),closeUltimoPedidoModal[_0x2d2225(201)](_0x2d2225(169),function(){let x=_0x2d2225;ultimoPedidoModal[x(364)][x(469)]=x(312),ocultarMensajeBusqueda()}),ultimoPedidoModal[_0x2d2225(201)](_0x2d2225(336),function(x){let $=_0x2d2225;x[$(194)]===ultimoPedidoModal&&(ultimoPedidoModal[$(364)].display=$(312),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x2d2225(201)](_0x2d2225(169),function(){let x=_0x2d2225,$=ultimoPedidoEmailInput[x(426)].trim()[x(422)]();if(ocultarMensajeBusqueda(),!$||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/[x(358)]($)){mostrarMensajeBusqueda(x(171),"Por favor, ingres\xe1 un email v\xe1lido"),ultimoPedidoEmailInput[x(398)]();return}setEstadoCargaBusqueda(!0),db[x(172)]("pedidos")[x(186)](x(337)).equalTo($)[x(161)](x(426))[x(445)]($=>{let e=x;if(setEstadoCargaBusqueda(!1),!$[e(338)]()){mostrarMensajeBusqueda(e(171),e(466));return}let a=null;$[e(374)](x=>{let $=x.val();(!a||$.timestamp>a[e(182)])&&(a=$)}),a&&a.id?(mostrarMensajeBusqueda("success","\xa1Pedido encontrado! Redirigiendo..."),setTimeout(()=>{let x=e;window[x(407)](x(425)+a.id+x(302)+PEDIDOS_VERSION,x(465)),ultimoPedidoModal[x(364)][x(469)]=x(312),ocultarMensajeBusqueda(),ultimoPedidoEmailInput[x(426)]=""},800)):mostrarMensajeBusqueda(e(171),e(466))})[x(156)](()=>{let $=x;setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda($(171),$(216))})}),ultimoPedidoEmailInput[_0x2d2225(201)](_0x2d2225(241),function(x){let $=_0x2d2225;x.key===$(190)&&buscarUltimoPedidoBtn[$(169)]()}),document[_0x2d2225(201)]("DOMContentLoaded",function(){let x=_0x2d2225,$=document[x(195)]("carousel-pie-images");if($){let e=$[x(427)](x(237)),a=0;e[x(158)]>0&&setInterval(()=>{a=(a+1)%e.length,function e(){let t=x,o=-(100*a);$[t(364)].transform=t(219)+o+"%)"}()},5e3)}});
