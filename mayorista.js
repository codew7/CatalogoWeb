const _0x3c7331=_0x13c3;(function($,x){let e=_0x13c3,t=$();for(;;)try{let a=-parseInt(e(671))/1*(parseInt(e(604))/2)+parseInt(e(612))/3*(parseInt(e(495))/4)+parseInt(e(605))/5+-parseInt(e(543))/6*(parseInt(e(453))/7)+-parseInt(e(682))/8+parseInt(e(669))/9*(-parseInt(e(412))/10)+parseInt(e(688))/11*(parseInt(e(675))/12);if(658729===a)break;t.push(t.shift())}catch(o){t.push(t.shift())}})(_0x5da0,658729),emailjs[_0x3c7331(704)](_0x3c7331(707));const WHATSAPP_URL=_0x3c7331(531),MARQUEE_TEXT="\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS",ITEMPESOS="6";firebase[_0x3c7331(629)](firebaseConfig);const db=firebase[_0x3c7331(651)]();document[_0x3c7331(574)](_0x3c7331(568),function(){let $=_0x3c7331,x=document[$(477)]($(523)),e=x?x[$(616)]($(601)):[],t=0;e[$(680)]>0&&setInterval(()=>{t=(t+1)%e[$(680)],function a(){let o=$;if(x&&e.length>0){let i=-(100*t);x[o(517)][o(451)]=o(415)+i+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let $=_0x3c7331;if(!modoEdicion)try{localStorage[$(676)]($(557),JSON[$(622)](carrito))}catch(x){console[$(587)]($(563),x)}}function cargarCarritoLocal(){let $=_0x3c7331;if(!modoEdicion)try{let x=localStorage[$(454)]($(557));x&&(carrito=JSON[$(661)](x),actualizarCarrito())}catch(e){console[$(587)]($(613),e),carrito=[]}}const urlParams=new URLSearchParams(window[_0x3c7331(718)].search),pedidoEditId=urlParams[_0x3c7331(541)]("pedido"),modoEdicion=!!pedidoEditId;if(modoEdicion){localStorage[_0x3c7331(692)]("carritoMayorista");let $=document.createElement(_0x3c7331(691));$[_0x3c7331(652)]=_0x3c7331(631)+pedidoEditId,$.id=_0x3c7331(400),$.style[_0x3c7331(548)]=_0x3c7331(609),document[_0x3c7331(560)][_0x3c7331(474)]($),document[_0x3c7331(560)][_0x3c7331(517)][_0x3c7331(575)]=_0x3c7331(483),db[_0x3c7331(577)](_0x3c7331(466)+pedidoEditId).once(_0x3c7331(498)).then($=>{let x=_0x3c7331;if($[x(507)]()){let e=$[x(427)]();datosExtraCliente=e[x(530)]||{},console.log(x(687),e)}})[_0x3c7331(558)]($=>{let x=_0x3c7331;console[x(587)](x(486),$)})}const loadingOverlay=document.getElementById("loadingOverlay");fetch(_0x3c7331(450)+GOOGLE_SHEETS_CONFIG.SPREADSHEET_ID+"/values/"+GOOGLE_SHEETS_CONFIG[_0x3c7331(672)]+"?key="+GOOGLE_SHEETS_CONFIG.API_KEY).then($=>{let x=_0x3c7331;if(!$.ok)throw Error("Error al acceder a la API: "+$[x(683)]);return $.json()})[_0x3c7331(431)]($=>{let x=_0x3c7331;loadingOverlay&&(loadingOverlay[x(517)][x(459)]=x(645));let e=$[x(471)];if(!e||0===e[x(680)])throw Error(x(591));datosFiltrados=productos=e[x(696)]($=>""!==($[3]||"")[x(521)]()[x(535)]())[x(713)](($,x)=>{function e($){let x=_0x13c3;if(!$||""===$||null==$)return new Date(1900,0,1);if($[x(419)]("/")){let e=$[x(572)]("/");if(3===e.length){let t=parseInt(e[0]),a=parseInt(e[1])-1,o=parseInt(e[2]);return new Date(o,a,t)}}return new Date(1900,0,1)}let t=e($[12]),a=e(x[12]);return a-t}),window[x(444)](0,0),mostrarPagina(1),setTimeout(()=>{let $=x;refreshStockInfo(),document.getElementById($(513))[$(580)]&&i(),setTimeout(()=>{primeraCarga=!1},100)},100);let t=new Set(productos[x(406)]($=>$[0])),a=document.getElementById(x(592)),o=Array.from(t)[x(696)]($=>$&&""!==$.trim()).sort(($,x)=>$.localeCompare(x,"es",{sensitivity:"base"}));function i(){let $=x,e=document[$(477)]($(592)).value,t=document[$(477)]($(524))[$(498)][$(615)](),a=document[$(477)]($(513)).checked,o=productos;"todos"!==e&&(o=o[$(696)]($=>$[0]===e)),""!==t[$(535)]()&&(o=o[$(696)](x=>x[3][$(615)]()[$(419)](t)||x[2][$(615)]()[$(419)](t)||x[17]&&x[17][$(615)]().includes(t))),a&&(o=o[$(696)](x=>{let e=x[10];if(null==e||""===e)return!1;let t=parseInt(String(e)[$(535)]());return!isNaN(t)&&t>1})),datosFiltrados=o,mostrarPagina(1,o)}o[x(593)]($=>{let e=x,t=document[e(546)](e(693));t.value=$,t[e(652)]=$,a.appendChild(t)}),a[x(574)]("change",()=>{i()}),document[x(477)](x(524))[x(574)](x(608),$=>{i()}),document.getElementById(x(513))[x(574)]("change",()=>{i()}),document.getElementById(x(504))[x(574)]("click",()=>{let $=x;document[$(477)]($(592))[$(498)]=$(504),document[$(477)]($(524)).value="",document[$(477)]($(513))[$(580)]=!1,datosFiltrados=productos,mostrarPagina(1)})})[_0x3c7331(558)]($=>{let x=_0x3c7331;loadingOverlay&&(loadingOverlay[x(517)].display=x(645)),console.error(x(709),$),document[x(398)](x(528))[x(652)]=$[x(408)]});let primeraCarga=!0;function mostrarPagina($,x=productos){let e=_0x3c7331;currentPage=$,x[e(680)];let t=($-1)*30,a=x[e(666)](t,t+30);cargarGrid(a),actualizarPaginacion($,x),document[e(404)]!==document[e(477)](e(524))&&setTimeout(()=>{let $=e;if(primeraCarga)window[$(444)]({top:0,behavior:$(716)});else{let x=document[$(477)]($(592));if(x){let t=x[$(456)](),a=window.pageYOffset||document[$(630)][$(658)];window.scrollTo({top:t[$(564)]+a-20,behavior:$(627)})}}},0)}function cargarGrid($){let x=_0x3c7331,e=document[x(477)](x(644));e[x(597)]="",$.forEach($=>{let t=x,a=document[t(546)](t(691));a[t(434)][t(505)](t(585));let o=document[t(546)]("input");o[t(452)]=t(442),o[t(498)]=$[2],a[t(474)](o);let i=$[14]||"",r=$[15]||"";if(i||r){let d=document[t(546)](t(691));d.classList.add(t(423)),d[t(597)]=t(668),d[t(578)]="Ver informaci\xf3n adicional",d[t(574)](t(588),()=>{mostrarInfoModal($[3],i,r)}),a[t(474)](d)}if(isValidImageUrl($[1])){let n=[];-1!==$[1][t(463)](",")?n=$[1][t(572)](",")[t(406)]($=>$.trim()):n.push($[1]);let c=document[t(546)]("img");c[t(610)]=n[0],c[t(403)]="lazy",c[t(662)]=function(){let $=t;this[$(610)]=$(677)},c[t(574)]("click",()=>{abrirLightbox(n)}),a[t(474)](c)}let l=document[t(546)]("h3");l[t(652)]=$[3],a.appendChild(l);let _=document[t(546)]("div");_.classList[t(505)](t(699)),_[t(652)]="C\xf3digo: "+$[2],a[t(474)](_);let s=document.createElement(t(691));s[t(434)][t(505)](t(488)),s.style[t(421)]=t(545),s[t(517)][t(648)]=t(501);let f=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(f=parseInt($[10])),isNaN(f)?s[t(597)]=t(429):f<=1?s[t(597)]='<span style="color: #ff9800;">✗ Sin stock</span>':f<=10?s[t(597)]=t(698):s.innerHTML='<span style="color: #4CAF50;">✓ Disponible</span>',a[t(474)](s);{let u=document.createElement("p");u.innerHTML=t(435)+$[13]+"</s></span>",u.style[t(494)]=t(409),a.appendChild(u)}let m=document[t(546)]("p");m[t(597)]=t(681)+$["6"],m[t(517)][t(575)]=t(441),a[t(474)](m);let p=document.createElement(t(691));p[t(517)][t(459)]=t(643),p[t(517)][t(509)]="center",p[t(517)].justifyContent=t(715),p[t(517)][t(526)]=t(409),p[t(517)].minHeight="50px";let b=document[t(546)](t(691));b[t(517)][t(459)]=t(645),b[t(517)][t(509)]=t(715),b.style.gap=t(409),b.style.transition=t(430),b[t(517)][t(582)]="0";let g=document.createElement(t(694));g.innerHTML="-",g[t(517)][t(532)]=t(514),g[t(517)].fontSize=t(589),g.style[t(515)]="35px",g[t(517)][t(701)]=t(598),g[t(517)][t(664)]="#ff9800",g[t(517)][t(489)]=t(544),g[t(517)].border="1px solid #ff9800",g[t(517)][t(533)]=t(552),g[t(517)][t(551)]=t(487);let h=document[t(546)](t(608));h[t(452)]=t(633),h[t(467)]="1",h.value="1",h[t(517)][t(701)]=t(573),h[t(517)].height=t(598),h[t(517)][t(532)]="5px",h.style[t(464)]="center",h[t(517)][t(439)]=t(425),h[t(517)][t(533)]=t(552);let y=document[t(546)]("button");y[t(597)]="+",y[t(517)].padding=t(514),y[t(517)][t(484)]="16px",y[t(517)][t(515)]=t(598),y[t(517)][t(701)]=t(598),y[t(517)][t(664)]=t(502),y[t(517)][t(489)]=t(544),y[t(517)][t(439)]=t(547),y.style[t(533)]=t(552),y[t(517)].cursor="pointer",b[t(474)](g),b[t(474)](h),b[t(474)](y);let E=document[t(546)]("button");function v(){let x=t,e=parseInt(h[x(498)]);if(e>0){let a=carrito[x(422)]($=>$[x(411)]===l[x(652)]);a?a[x(626)]=e:agregarAlCarrito(l[x(652)],$[6],e,$[2],$[0],$[7][x(521)]()[x(462)](/[,\.]/g,""),$[6][x(521)]()[x(462)](/[,\.]/g,"")),actualizarCarrito()}}E.innerHTML=t(559),E[t(517)].padding=t(586),E[t(517)].fontSize=t(589),E[t(517)][t(515)]=t(573),E[t(517)][t(701)]=t(573),E[t(517)][t(664)]="#4CAF50",E[t(517)][t(489)]="#fff",E.style[t(439)]=t(623),E[t(517)][t(533)]=t(552),E[t(517)].cursor=t(487),E[t(517)].transition=t(430),E.classList[t(505)](t(465)),!isNaN(f)&&f>0?(h[t(413)]=f,h[t(578)]=t(468)+f+t(566)):(E.disabled=!0,E[t(517)][t(664)]=t(702),E[t(517)][t(426)]="#cccccc",E.style[t(551)]="not-allowed",E[t(578)]=t(485)),E[t(574)](t(588),()=>{let x=t,e=0;if(void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10])),isNaN(e)||e<=0){alert(x(401));return}h[x(498)]="1",v(),function $(){let x=t;E.style.opacity="0",E[x(517)][x(451)]=x(416),setTimeout(()=>{let $=x;E[$(517)][$(459)]=$(645),b[$(517)][$(459)]=$(643),setTimeout(()=>{let x=$;b[x(517)][x(582)]="1",b[x(517)][x(451)]=x(624)},50)},150)}()}),y.addEventListener("click",()=>{let x=t,e=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10]));let a=parseInt(h[x(498)]);if(!isNaN(e)&&a>=e){alert(x(635)+e+x(410));return}h[x(498)]=a+1,v()}),g[t(574)](t(588),()=>{let $=t,x=parseInt(h[$(498)]);if(x>1)h.value=x-1,v();else{let e=carrito[$(422)](x=>x[$(411)]===l[$(652)]);if(e){let a=carrito[$(463)](e);carrito[$(529)](a,1),actualizarCarrito()}b[$(517)].opacity="0",b[$(517)][$(451)]=$(416),setTimeout(()=>{let x=$;b[x(517)].display=x(645),E.style[x(459)]=x(641),E[x(517)].opacity="0",E.style.transform=x(416),setTimeout(()=>{let $=x;E[$(517)][$(582)]="1",E[$(517)][$(451)]=$(624)},50)},150)}}),h[t(574)](t(420),()=>{let x=t,e=parseInt(h[x(498)]),a=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(a=parseInt($[10])),e<=0?h[x(498)]="1":!isNaN(a)&&e>a&&(alert(x(635)+a+x(410)),h.value=a),v()}),p[t(474)](E),p[t(474)](b),a[t(474)](p),e[t(474)](a)})}function refreshStockInfo(){let $=_0x3c7331,x=document.querySelectorAll($(659));x[$(593)](x=>{let e=$,t=x.querySelector(e(599));if(t){let a=x[e(398)](e(440));if(a){let o=a.value,i=productos[e(422)]($=>$[2]===o),r=0;i&&void 0!==i[10]&&null!==i[10]&&""!==i[10]&&(r=parseInt(i[10])),isNaN(r)?t[e(597)]=e(429):r<=1?t[e(597)]=e(429):r<=10?t[e(597)]='<span style="color: #ffeb3b;">⚠ Pocas unidades</span>':t[e(597)]=e(461);let d=x[e(398)](e(497)),n=x[e(398)](e(512));d&&(!isNaN(r)&&r>0?(d[e(413)]=r,d[e(457)]=!1,d[e(578)]="M\xe1ximo "+r+e(566),n&&n[e(457)]&&(n[e(457)]=!1,n.style[e(664)]=e(695),n[e(517)].borderColor=e(695),n.style[e(551)]="pointer",n[e(578)]="")):(d[e(457)]=!0,d[e(578)]=e(485),n&&(n[e(457)]=!0,n.style[e(664)]=e(702),n[e(517)][e(426)]=e(702),n[e(517)].cursor=e(518),n[e(578)]=e(485))))}}})}function agregarAlCarrito($,x,e,t,a){let o=_0x3c7331,i=0===carrito[o(680)],r=carrito.find(x=>x[o(411)]===$);r?r[o(626)]+=e:carrito[o(424)]({nombre:$,precio:x,cantidad:e,codigo:t,categoria:a}),actualizarCarrito(),guardarCarritoLocal(),i&&!modoEdicion&&mostrarModalInfoPrimerArticulo()}function getMaxVisiblePaginationButtons(){let $=_0x3c7331,x=document.getElementById($(448)),e=window.innerWidth;x&&(e=x[$(527)]||e);let t=Math[$(413)](3,Math[$(706)]((e-220)/48));return Math.min(t,15)}function _0x13c3($,x){$-=397;let e=_0x5da0();return e[$]}function actualizarPaginacion($,x){let e=_0x3c7331,t=document.getElementById(e(448));t[e(597)]="";let a=Math[e(581)](x[e(680)]/30);if($>1){let o=document[e(546)]("button");o[e(652)]=e(536),o.style[e(701)]=e(611),o[e(574)]("click",()=>mostrarPagina($-1,x)),t[e(474)](o)}let i=getMaxVisiblePaginationButtons(),r=Math.max(1,$-Math[e(706)](i/2)),d=Math[e(467)](a,r+i-1);d-r<i-1&&(r=Math[e(413)](1,d-i+1));for(let n=r;n<=d;n++){let c=document[e(546)](e(694));c[e(652)]=n,c[e(434)][e(505)]("pagination-button"),n===$&&c[e(434)].add(e(475)),c[e(574)](e(588),()=>mostrarPagina(n,x)),t.appendChild(c)}if($<a){let l=document.createElement("button");l[e(652)]=e(571),l[e(517)][e(701)]=e(611),l[e(574)]("click",()=>mostrarPagina($+1,x)),t[e(474)](l)}}function _0x5da0(){let $=["Anterior","ultimoPedidoBtn","web",'\n            <div class="info-modal-section">\n                <h4>Tama\xf1o</h4>\n                <p>',"pedidos","get","fas fa-info-circle","6649254HUKWxF","#fff","5px 0","createElement","1px solid #ff9800","cssText","email","resize","cursor","4px","buscarSpinner","ultimoPedidoEmailInput","items","mayorista","carritoMayorista","catch",'<i class="fas fa-cart-plus"></i>',"body","target","localidad","Error al guardar carrito en localStorage:","top","focus"," unidades disponibles","Email enviado!","DOMContentLoaded","cartContainer","unidad","Siguiente","split","50px","addEventListener","marginTop","cerrarInfoPrimerArticuloBtn","ref","title","Error al actualizar el pedido: ","checked","ceil","opacity","relative","4px solid #4299e1","card","10px 10px","error","click","16px","onclick","No se encontraron datos en la hoja.","categorias","forEach","ABIERTO","https://www.home-point.com.ar/pedidos.html?id=","#e6ffed","innerHTML","35px",".stock-info","#c53030",".carousel-slide","\xa1Art\xedculos agregados exitosamente al pedido!","resolve","58fSUFIS","1793720KNkSkG","remove","orderByChild","input","\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ","src","100px","13323DRJzvR","Error al cargar carrito desde localStorage:","lightbox-img","toLowerCase","querySelectorAll",".hamburger-dropdown-item","now",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Pedido M\xednimo Requerido</h2>\n                <p style=\'margin:8px 0 0 0;\'>Para procesar tu pedido necesitamos un m\xednimo de unidades</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#fff3e0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-shopping-cart" style="font-size:3em;color:#ff9800;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>Necesitas agregar al menos 5 unidades para procesar el pedido.</strong>\n                    </p>\n                    <div style="margin-top:20px;padding:15px;background:#fff;border-radius:8px;border-left:4px solid #ff9800;">\n                        <p style="margin:0;color:#666;font-size:0.95em;">\n                            Actualmente tienes <strong style="color:#ff9800;font-size:1.2em;">',"codigo","buscarUltimoPedidoBtn","stringify","1px solid #4CAF50","scale(1)","\n            <strong>","cantidad","smooth","next-btn","initializeApp","documentElement","⚙️ Est\xe1s agregando art\xedculos al pedido #","</p>\n            </div>\n        ","number","Este pedido est\xe1 cerrado y no se puede editar.","Stock insuficiente. Solo hay ",' en tu carrito.\n                        </p>\n                        <p style="margin:10px 0 0 0;color:#666;font-size:0.95em;">\n                            Te ',"minimo-pedido-modal","update","cliente/email","#2b6cb0","block","paddingRight","flex","catalogo","none","El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.","position","fontWeight","faltan","service_lu9cpxk","database","textContent","findIndex","cart-item-delete","hamburgerBtn","4px solid #e53e3e","undefined","scrollTop",".card","prev-btn","parse","onerror","lightbox","backgroundColor","href","slice","unidades",'<i class="fas fa-info"></i>',"2410461JpaEne","send","3442JPjAwq","RANGO","No se encontraron pedidos registrados con este email","infoModalTitle","3252jbnRhO","setItem","no-disponible.png","ultimoPedidoMensaje","ultimoPedidoModal","length","<strong>Ahora $</strong> ","8356296hFRCbU","statusText","dni","precio","#fee","Datos del pedido existente cargados:","61303yCeAaa","stopPropagation","log","div","removeItem","option","button","#4CAF50","filter","key",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"info","parentElement","width","#cccccc","locked","init","close","floor","vcbQsbE2bgLwFAnDr","span","Error al cargar los datos:","infoModal","</strong> ","tipoCliente","sort","\xa1Pedido encontrado! Redirigiendo...","center","auto","fas fa-check-circle","location","success","querySelector","text","aviso-edicion-pedido","Este producto no tiene stock disponible.","#2f855a","loading","activeElement","currentTarget","map","clienteModal","message","5px"," unidades disponibles.","nombre","10BEUhVT","max","falta","translateX(","scale(0.8)","Error al buscar el pedido. Por favor, intenta de nuevo","carousel-pie-images","includes","change","margin","find","info-icon","push","1px solid #ddd","borderColor","val","Error enviando email:",'<span style="color: #ff9800;">✗ Sin stock</span>',"all 0.3s ease","then","Por favor, ingres\xe1 un email v\xe1lido","pedido-confirmado-modal","classList",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">','<i class="fas fa-times"></i>',"fas fa-exclamation-circle","_blank","border",'input[type="hidden"]',"2px","hidden","contains","scrollTo","status","equalTo","El carrito est\xe1 vac\xedo.","pagination","once","https://sheets.googleapis.com/v4/spreadsheets/","transform","type","7QHdJZS","getItem","cerrarMinimoPedidoBtn","getBoundingClientRect","disabled","borderLeft","display","timestamp",'<span style="color: #4CAF50;">✓ Disponible</span>',"replace","indexOf","textAlign","btn-agregar-carrito","pedidos/","min","M\xe1ximo ",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',"modal","values","telefono","keydown","appendChild","active","mousedown","getElementById","show","className","clientes",'\n            <div class="info-modal-section">\n                <h4>Especificaciones del Fabricante:</h4>\n                <p>',"Error al guardar el pedido: ","54px","fontSize","Sin stock disponible","Error al cargar pedido existente:","pointer","stock-info","color","marquee-text-1","info-primer-articulo-modal","infoModalBody","</strong>&nbsp;<small>x","marginBottom","1180GVYhVu","marquee-text-2",'input[type="number"]',"value","Enter","background","bold","#ff9800","provincia","todos","add","cartFloatBtn","exists","direccion","alignItems","Error: No se encontr\xf3 el pedido original",' <strong style="color:#ff9800;font-size:1.2em;">',".btn-agregar-carrito","filtroDisponibles","5px 10px","height","closeUltimoPedidoModal","style","not-allowed","cartBadge","reduce","toString","Error al actualizar pedido:","carousel-images","buscar","#e6f7ff","gap","offsetWidth","#error","splice","cliente","https://api.whatsapp.com/send/?phone=5491121891006","padding","borderRadius","pedidos.html?id=","trim"];return(_0x5da0=function(){return $})()}function isValidImageUrl($){return $&&$.match(/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox($){let x=_0x3c7331;currentLightboxImages=$,currentImageIndex=0,document.getElementById(x(614))[x(610)]=currentLightboxImages[currentImageIndex],document[x(477)](x(663))[x(517)][x(459)]="flex",actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let $=_0x3c7331,x=document.getElementById($(660)),e=document[$(477)]($(628));currentLightboxImages.length>1?(x.style[$(459)]=$(641),e[$(517)][$(459)]=$(641)):(x[$(517)][$(459)]=$(645),e.style[$(459)]=$(645))}function closeLightbox($){let x=_0x3c7331;($[x(561)]===$[x(405)]||$[x(561)].classList[x(443)](x(705)))&&(document.getElementById(x(663)).style[x(459)]="none")}function mostrarInfoModal($,x,e){let t=_0x3c7331,a=document[t(477)](t(710)),o=document[t(477)](t(674)),i=document.getElementById(t(492));o[t(652)]=$;let r="";x&&""!==x[t(535)]()&&(r+=t(481)+x+t(632)),e&&""!==e.trim()&&(r+=t(539)+e+t(632)),i[t(597)]=r,a[t(434)][t(505)]("show")}function closeInfoModal($){let x=_0x3c7331,e=document.getElementById(x(710));$&&$[x(561)]!==$.currentTarget||e[x(434)][x(606)](x(478))}function actualizarCarrito(){let $=_0x3c7331,x=document[$(477)]("cart-list"),e=document[$(477)]($(506)),t=document.getElementById($(519));x[$(597)]="";let a=carrito[$(520)]((x,e)=>x+e[$(626)],0);if(0===carrito[$(680)]){e&&(e[$(517)][$(459)]="none");let o=document[$(477)]($(569));o&&(o.classList.remove($(475)),typeof cartExpanded!==$(657)&&(cartExpanded=!1))}else e&&(e[$(517)][$(459)]=$(643));t&&(t[$(652)]=a),carrito[$(593)]((e,t)=>{let a=$,o=document.createElement("li");o.style[a(647)]=a(583),o[a(517)][a(642)]=a(598);let i=document[a(546)](a(691));i.innerHTML=a(625)+e.nombre+a(493)+e[a(626)]+"</small>\n        ";let r=document.createElement(a(694));r.className=a(654),r[a(597)]=a(436),r.onclick=function(){eliminarItemCarrito(t)},o[a(474)](i),o.appendChild(r),x[a(474)](o)})}function eliminarItemCarrito($){let x=_0x3c7331,e=carrito[$],t=document[x(616)](x(659));t[x(593)]($=>{let t=x,a=$[t(398)]("h3")?.textContent;if(a===e[t(411)]){let o=$.querySelector(t(512)),i=$.querySelector(t(497))?.[t(700)],r=$.querySelector(t(497));o&&i&&r&&(r[t(498)]="1",i[t(517)][t(459)]=t(645),i[t(517)][t(582)]="0",i[t(517)][t(451)]=t(416),o[t(517)].display=t(641),o.style[t(582)]="1",o.style[t(451)]=t(624),o.style[t(500)]="",o[t(517)][t(489)]="",o[t(517)][t(439)]="")}}),carrito[x(529)]($,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado($,x){let e=_0x3c7331,t=document.getElementById(e(433));t&&t.remove();let a=document[e(546)](e(691));a.id="pedido-confirmado-modal",a[e(479)]=e(470),a[e(517)][e(459)]=e(643),a[e(597)]=e(469),document.body[e(474)](a),document.getElementById("verPedidoBtnConfirmado")[e(590)]=function(){let x=e;window[x(718)][x(665)]="pedidos.html?id="+$}}function mostrarModalInfoPrimerArticulo(){let $=_0x3c7331,x=document[$(477)]($(491));x&&x.remove();let e=document.createElement("div");e.id=$(491),e[$(479)]=$(470),e[$(517)][$(459)]="flex",e.innerHTML='\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Informaci\xf3n Importante</h2>\n                <p style=\'margin:8px 0 0 0;\'>Sobre el proceso de pedido</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#e3f2fd;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-truck" style="font-size:3em;color:#2196F3;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>La solicitud de pedido se utiliza solo para env\xedos.</strong>\n                    </p>\n                    <p style="margin:15px 0 0 0;color:#555;line-height:1.6;font-size:0.95em;">\n                        Si retir\xe1s en nuestro showroom, <strong>no hace falta generar un pedido</strong>.\n                    </p>\n                </div>\n                <button id="cerrarInfoPrimerArticuloBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',document[$(560)].appendChild(e),document[$(477)]($(576))[$(590)]=function(){e[$(606)]()},e.onclick=function(x){x[$(561)]===e&&e.remove()}}function mostrarModalMinimoPedido($){let x=_0x3c7331,e=document[x(477)](x(637));e&&e.remove();let t=5-$,a=document[x(546)](x(691));a.id="minimo-pedido-modal",a[x(479)]=x(470),a[x(517)][x(459)]=x(643),a[x(597)]=x(619)+$+x(711)+(1===$?x(570):"unidades")+x(636)+(1===t?x(414):x(649))+x(511)+t+x(711)+(1===t?x(570):x(667))+' m\xe1s.\n                        </p>\n                    </div>\n                </div>\n                <button id="cerrarMinimoPedidoBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',document[x(560)][x(474)](a),document[x(477)](x(455))[x(590)]=function(){a[x(606)]()},a[x(590)]=function($){$.target===a&&a[x(606)]()}}function limpiarCarrito(){let $=_0x3c7331;carrito=[],document.querySelectorAll($(659))[$(593)](x=>{let e=$,t=x[e(398)](".btn-agregar-carrito"),a=x[e(398)](e(497))?.[e(700)],o=x[e(398)](e(497));t&&a&&o&&(o[e(498)]="1",a.style[e(459)]="none",a[e(517)].opacity="0",a[e(517)][e(451)]=e(416),t.style[e(459)]=e(641),t[e(517)][e(582)]="1",t.style.transform=e(624),t.style[e(500)]="",t[e(517)][e(489)]="",t.style.border="")}),actualizarCarrito(),guardarCarritoLocal()}function enviarPedido(){let $=_0x3c7331;if(0===carrito[$(680)]){alert($(646));return}let x=carrito[$(520)]((x,e)=>x+e[$(626)],0);if(x<5&&!modoEdicion){mostrarModalMinimoPedido(x);return}if(modoEdicion){enviarPedidoFinal();return}let e=document[$(477)]($(407));e&&(e[$(517)][$(459)]=$(643))}function enviarPedidoFinal(){let $=_0x3c7331;if(modoEdicion&&pedidoEditId){let x=db[$(577)]("pedidos/"+pedidoEditId);x[$(449)]($(498))[$(431)](e=>{let t=$;if(!e[t(507)]()){alert(t(510));return}let a=e.val();if(a[t(703)]){alert(t(634));return}return carrito[t(593)]($=>{let x=t,e=a[x(555)][x(653)](e=>e.nombre===$[x(411)]);e>-1?a[x(555)][e][x(626)]+=$[x(626)]:a[x(555)][x(424)]({nombre:$[x(411)],cantidad:$[x(626)],valorUSD:$[x(685)],codigo:$[x(620)]||"",categoria:$.categoria||""})}),a[t(530)]={nombre:datosExtraCliente[t(411)]||a[t(530)]?.[t(411)]||"",telefono:datosExtraCliente[t(472)]||a[t(530)]?.[t(472)]||"",localidad:datosExtraCliente.localidad||a.cliente?.[t(562)]||"",direccion:datosExtraCliente[t(508)]||a[t(530)]?.[t(508)]||"",provincia:datosExtraCliente[t(503)]||a[t(530)]?.[t(503)]||"",dni:String(datosExtraCliente[t(684)]||a.cliente?.[t(684)]||""),email:datosExtraCliente[t(549)]||a[t(530)]?.[t(549)]||"",tipoCliente:datosExtraCliente[t(712)]||a.cliente?.[t(712)]||t(556)},x[t(638)]({items:a[t(555)],cliente:a[t(530)],adminViewed:!1,lastUpdated:Date[t(618)]()})})[$(431)](()=>{let x=$;alert(x(602)),setTimeout(()=>{window.location[x(462)]("pedidos.html?id="+pedidoEditId)},300)})[$(558)](x=>{let e=$;console.error(e(522),x),alert(e(579)+x.message)});return}if(0===carrito[$(680)]){alert($(447));return}let e=datosExtraCliente.email||"";db[$(577)]("clientes")[$(607)]("email")[$(446)](e[$(615)]()).limitToFirst(1).once($(498)).then(x=>{let t=$;return!x[t(507)]()&&e?db.ref(t(480)).push({email:e[t(615)](),nombre:datosExtraCliente[t(411)]||"",telefono:datosExtraCliente.telefono||"",localidad:datosExtraCliente[t(562)]||"",direccion:datosExtraCliente[t(508)]||"",provincia:datosExtraCliente[t(503)]||"",dni:String(datosExtraCliente[t(684)]||""),tipoCliente:datosExtraCliente[t(712)]||t(556),registro:t(538)}):Promise[t(603)]()}).then(()=>{let x=$,e=db[x(577)](x(540))[x(424)](),t=e[x(697)],a={id:t,timestamp:Date[x(618)](),locked:!1,adminViewed:!1,createdby:"web",status:x(594),cliente:{nombre:datosExtraCliente[x(411)]||"",telefono:datosExtraCliente[x(472)]||"",localidad:datosExtraCliente[x(562)]||"",direccion:datosExtraCliente[x(508)]||"",provincia:datosExtraCliente[x(503)]||"",dni:String(datosExtraCliente.dni||""),email:datosExtraCliente[x(549)]||"",tipoCliente:datosExtraCliente.tipoCliente||x(556)},items:carrito.map($=>({nombre:$.nombre,cantidad:$[x(626)],valorUSD:$[x(685)],codigo:$[x(620)]||"",categoria:$.categoria||""}))};return e.set(a).then(()=>t)})[$(431)](x=>{let e=$;datosExtraCliente[e(549)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(datosExtraCliente.email)&&emailjs[e(670)](e(650),"template_xqo1j5z",{email:datosExtraCliente[e(549)],name:datosExtraCliente[e(411)],linkPedido:e(595)+x})[e(431)](function($){let x=e;console[x(690)](x(567),$[x(445)],$[x(399)])},function($){console.error(e(428),$)}),mostrarModalPedidoConfirmado(x,datosExtraCliente.email),limpiarCarrito(),datosExtraCliente={}}).catch(x=>{let e=$;console[e(587)]("Error al guardar pedido o cliente:",x),alert(e(482)+x[e(408)])})}window[_0x3c7331(574)](_0x3c7331(550),()=>{let $=_0x3c7331;if(typeof currentPage!==$(657)){let x=datosFiltrados[$(680)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,x)}}),document[_0x3c7331(477)](_0x3c7331(628))[_0x3c7331(574)]("click",$=>{let x=_0x3c7331;$.stopPropagation(),currentLightboxImages[x(680)]>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[x(680)],document.getElementById(x(614))[x(610)]=currentLightboxImages[currentImageIndex])}),document[_0x3c7331(477)](_0x3c7331(660)).addEventListener(_0x3c7331(588),$=>{let x=_0x3c7331;$[x(689)](),currentLightboxImages[x(680)]>0&&(currentImageIndex=(currentLightboxImages.length+currentImageIndex-1)%currentLightboxImages[x(680)],document[x(477)](x(614)).src=currentLightboxImages[currentImageIndex])}),document[_0x3c7331(477)](_0x3c7331(614))[_0x3c7331(574)](_0x3c7331(587),function(){currentLightboxImages[_0x3c7331(680)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this.src=currentLightboxImages[0])}),document[_0x3c7331(574)](_0x3c7331(568),function(){let $=_0x3c7331;document[$(477)]($(490)).innerHTML=MARQUEE_TEXT,document[$(477)]($(496))[$(597)]=MARQUEE_TEXT,cargarCarritoLocal()});const hamburgerBtn=document[_0x3c7331(477)](_0x3c7331(655)),hamburgerDropdown=document[_0x3c7331(477)]("hamburgerDropdown");hamburgerBtn[_0x3c7331(574)](_0x3c7331(588),function($){let x=_0x3c7331;$[x(689)](),hamburgerDropdown.classList.toggle(x(475))}),document[_0x3c7331(574)]("click",function($){let x=_0x3c7331;hamburgerBtn.contains($[x(561)])||hamburgerDropdown.contains($[x(561)])||hamburgerDropdown[x(434)][x(606)](x(475))}),document[_0x3c7331(616)](_0x3c7331(617)).forEach($=>{let x=_0x3c7331;$[x(574)](x(588),function(){let $=x;hamburgerDropdown.classList[$(606)]($(475))})});const ultimoPedidoBtn=document[_0x3c7331(477)](_0x3c7331(537)),ultimoPedidoModal=document.getElementById(_0x3c7331(679)),closeUltimoPedidoModal=document[_0x3c7331(477)](_0x3c7331(516)),buscarUltimoPedidoBtn=document[_0x3c7331(477)](_0x3c7331(621)),ultimoPedidoEmailInput=document[_0x3c7331(477)](_0x3c7331(554)),buscarBtnText=document[_0x3c7331(477)]("buscarBtnText"),buscarSpinner=document[_0x3c7331(477)](_0x3c7331(553)),ultimoPedidoMensaje=document.getElementById(_0x3c7331(678));function mostrarMensajeBusqueda($,x){let e=_0x3c7331,t=ultimoPedidoMensaje,a=t[e(398)](".fas"),o=t.querySelector(e(708));$===e(587)?(t.style[e(664)]=e(686),t[e(517)].borderLeft=e(656),t[e(517)][e(489)]=e(600),a[e(479)]=e(437)):$===e(397)?(t[e(517)].backgroundColor=e(596),t.style[e(458)]="4px solid #48bb78",t[e(517)][e(489)]=e(402),a[e(479)]=e(717)):$===e(699)&&(t[e(517)][e(664)]=e(525),t[e(517)][e(458)]=e(584),t[e(517)].color=e(640),a[e(479)]=e(542)),o[e(652)]=x,t[e(517)][e(459)]="flex",t[e(517)][e(509)]="center"}function ocultarMensajeBusqueda(){let $=_0x3c7331;ultimoPedidoMensaje[$(517)][$(459)]=$(645)}function setEstadoCargaBusqueda($){let x=_0x3c7331;buscarUltimoPedidoBtn[x(457)]=$,buscarUltimoPedidoBtn[x(517)][x(582)]=$?"0.7":"1",buscarUltimoPedidoBtn[x(517)][x(551)]=$?x(518):"pointer",buscarBtnText.style[x(459)]=$?x(645):"inline",buscarSpinner[x(517)][x(459)]=x($?641:645),ultimoPedidoEmailInput[x(457)]=$}ultimoPedidoBtn.addEventListener(_0x3c7331(588),function(){let $=_0x3c7331;ultimoPedidoModal.style[$(459)]="flex",ultimoPedidoEmailInput[$(498)]="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput.focus(),100)}),closeUltimoPedidoModal[_0x3c7331(574)]("click",function(){let $=_0x3c7331;ultimoPedidoModal[$(517)].display=$(645),ocultarMensajeBusqueda()}),ultimoPedidoModal[_0x3c7331(574)](_0x3c7331(476),function($){let x=_0x3c7331;$[x(561)]===ultimoPedidoModal&&(ultimoPedidoModal.style.display=x(645),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x3c7331(574)]("click",function(){let $=_0x3c7331,x=ultimoPedidoEmailInput[$(498)][$(535)]()[$(615)]();if(ocultarMensajeBusqueda(),!x||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(x)){mostrarMensajeBusqueda("error",$(432)),ultimoPedidoEmailInput[$(565)]();return}setEstadoCargaBusqueda(!0),db.ref($(540)).orderByChild($(639)).equalTo(x)[$(449)]($(498))[$(431)](x=>{let e=$;if(setEstadoCargaBusqueda(!1),!x[e(507)]()){mostrarMensajeBusqueda("error",e(673));return}let t=null;x.forEach($=>{let x=e,a=$[x(427)]();(!t||a[x(460)]>t.timestamp)&&(t=a)}),t&&t.id?(mostrarMensajeBusqueda(e(397),e(714)),setTimeout(()=>{let $=e;window.open($(534)+t.id,$(438)),ultimoPedidoModal[$(517)].display=$(645),ocultarMensajeBusqueda(),ultimoPedidoEmailInput[$(498)]=""},800)):mostrarMensajeBusqueda(e(587),"No se encontraron pedidos registrados con este email")})[$(558)](()=>{let x=$;setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda(x(587),x(417))})}),ultimoPedidoEmailInput[_0x3c7331(574)](_0x3c7331(473),function($){let x=_0x3c7331;$[x(697)]===x(499)&&buscarUltimoPedidoBtn[x(588)]()}),document[_0x3c7331(574)](_0x3c7331(568),function(){let $=_0x3c7331,x=document[$(477)]($(418));if(x){let e=x.querySelectorAll($(601)),t=0;e[$(680)]>0&&setInterval(()=>{t=(t+1)%e[$(680)],function e(){let a=$,o=-(100*t);x.style[a(451)]=a(415)+o+"%)"}()},5e3)}});
