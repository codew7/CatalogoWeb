const _0x108165=_0x2d5b;(function($,x){let e=_0x2d5b,t=$();for(;;)try{let a=parseInt(e(613))/1*(-parseInt(e(612))/2)+parseInt(e(502))/3*(-parseInt(e(500))/4)+parseInt(e(658))/5+parseInt(e(632))/6+-parseInt(e(525))/7+parseInt(e(463))/8+parseInt(e(623))/9;if(536542===a)break;t.push(t.shift())}catch(o){t.push(t.shift())}})(_0x237b,536542),emailjs[_0x108165(631)](_0x108165(689));const WHATSAPP_URL="https://api.whatsapp.com/send/?phone=5491121891006",MARQUEE_TEXT="\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS",ITEMPESOS="6";firebase[_0x108165(620)](firebaseConfig);const db=firebase[_0x108165(550)]();document[_0x108165(726)](_0x108165(602),function(){let $=_0x108165,x=document[$(673)]($(730)),e=x?x[$(680)]($(681)):[],t=0;e[$(503)]>0&&setInterval(()=>{t=(t+1)%e.length,function a(){let o=$;if(x&&e[o(503)]>0){let i=-(100*t);x[o(520)][o(604)]=o(741)+i+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){if(!modoEdicion)try{localStorage.setItem(_0x108165(527),JSON.stringify(carrito))}catch($){console.error("Error al guardar carrito en localStorage:",$)}}function cargarCarritoLocal(){let $=_0x108165;if(!modoEdicion)try{let x=localStorage.getItem($(527));x&&(carrito=JSON[$(482)](x),actualizarCarrito())}catch(e){console.error($(557),e),carrito=[]}}const urlParams=new URLSearchParams(window[_0x108165(601)][_0x108165(706)]),pedidoEditId=urlParams[_0x108165(475)](_0x108165(695)),modoEdicion=!!pedidoEditId;if(modoEdicion){localStorage[_0x108165(488)](_0x108165(527));let $=document[_0x108165(700)](_0x108165(597));$[_0x108165(566)]=_0x108165(728)+pedidoEditId,$.id="aviso-edicion-pedido",$[_0x108165(520)][_0x108165(697)]=_0x108165(610),document[_0x108165(723)][_0x108165(571)]($),document[_0x108165(723)].style[_0x108165(538)]=_0x108165(491),db[_0x108165(746)](_0x108165(646)+pedidoEditId)[_0x108165(504)](_0x108165(732))[_0x108165(656)]($=>{let x=_0x108165;if($[x(734)]()){let e=$[x(479)]();datosExtraCliente=e.cliente||{},console.log("Datos del pedido existente cargados:",e)}}).catch($=>{let x=_0x108165;console[x(510)](x(531),$)})}const loadingOverlay=document.getElementById(_0x108165(747));fetch(_0x108165(478)+GOOGLE_SHEETS_CONFIG.SPREADSHEET_ID+_0x108165(628)+GOOGLE_SHEETS_CONFIG.RANGO+_0x108165(577)+GOOGLE_SHEETS_CONFIG.API_KEY).then($=>{let x=_0x108165;if(!$.ok)throw Error("Error al acceder a la API: "+$[x(543)]);return $[x(559)]()})[_0x108165(656)]($=>{let x=_0x108165;loadingOverlay&&(loadingOverlay.style[x(633)]="none");let e=$.values;if(!e||0===e[x(503)])throw Error(x(587));datosFiltrados=productos=e[x(459)]($=>""!==($[3]||"")[x(629)]()[x(526)]())[x(650)](($,x)=>{function e($){let x=_0x2d5b;if(!$||""===$||null==$)return new Date(1900,0,1);if($[x(546)]("/")){let e=$[x(514)]("/");if(3===e.length){let t=parseInt(e[0]),a=parseInt(e[1])-1,o=parseInt(e[2]);return new Date(o,a,t)}}return new Date(1900,0,1)}let t=e($[12]),a=e(x[12]);return a-t}),window[x(476)](0,0),mostrarPagina(1),setTimeout(()=>{let $=x;refreshStockInfo(),document[$(673)]($(542)).checked&&i(),setTimeout(()=>{primeraCarga=!1},100)},100);let t=new Set(productos[x(721)]($=>$[0])),a=document[x(673)](x(708)),o=Array[x(674)](t)[x(459)]($=>$&&""!==$[x(526)]())[x(650)](($,e)=>$[x(489)](e,"es",{sensitivity:x(716)}));function i(){let $=x,e=document[$(673)]($(708))[$(732)],t=document[$(673)]("buscar")[$(732)][$(701)](),a=document[$(673)]("filtroDisponibles")[$(605)],o=productos;e!==$(590)&&(o=o[$(459)]($=>$[0]===e)),""!==t[$(526)]()&&(o=o[$(459)](x=>x[3][$(701)]()[$(546)](t)||x[2][$(701)]().includes(t)||x[17]&&x[17][$(701)]()[$(546)](t))),a&&(o=o[$(459)](x=>{let e=x[10];if(null==e||""===e)return!1;let t=parseInt(String(e)[$(526)]());return!isNaN(t)&&t>1})),datosFiltrados=o,mostrarPagina(1,o)}o[x(696)]($=>{let e=x,t=document.createElement("option");t[e(732)]=$,t[e(566)]=$,a[e(571)](t)}),a.addEventListener(x(636),()=>{i()}),document[x(673)](x(522))[x(726)](x(719),$=>{i()}),document[x(673)](x(542))[x(726)](x(636),()=>{i()}),document[x(673)](x(590))[x(726)](x(649),()=>{let $=x;document[$(673)]($(708))[$(732)]=$(590),document.getElementById($(522))[$(732)]="",document[$(673)]($(542))[$(605)]=!1,datosFiltrados=productos,mostrarPagina(1)})})[_0x108165(619)]($=>{let x=_0x108165;loadingOverlay&&(loadingOverlay[x(520)][x(633)]=x(622)),console[x(510)](x(509),$),document[x(462)](x(711))[x(566)]=$.message});let primeraCarga=!0;function mostrarPagina($,x=productos){let e=_0x108165;currentPage=$,x[e(503)];let t=($-1)*30,a=x[e(670)](t,t+30);cargarGrid(a),actualizarPaginacion($,x),document[e(460)]!==document.getElementById(e(522))&&setTimeout(()=>{let $=e;if(primeraCarga)window.scrollTo({top:0,behavior:$(731)});else{let x=document[$(673)]($(708));if(x){let t=x[$(745)](),a=window[$(565)]||document.documentElement[$(579)];window[$(476)]({top:t[$(501)]+a-20,behavior:$(642)})}}},0)}function cargarGrid($){let x=_0x108165,e=document[x(673)](x(688));e.innerHTML="",$[x(696)]($=>{let t=x,a=document[t(700)](t(597));a[t(492)][t(518)](t(600));let o=document.createElement(t(719));o[t(718)]="hidden",o.value=$[2],a[t(571)](o);let i=$[14]||"",r=$[15]||"";if(i||r){let n=document[t(700)](t(597));n[t(492)][t(518)](t(683)),n[t(513)]=t(618),n[t(627)]=t(714),n[t(726)](t(649),()=>{mostrarInfoModal($[3],i,r)}),a[t(571)](n)}if(isValidImageUrl($[1])){let d=[];-1!==$[1][t(516)](",")?d=$[1].split(",")[t(721)]($=>$[t(526)]()):d[t(736)]($[1]);let l=document[t(700)](t(582));l[t(508)]=d[0],l.loading="lazy",l[t(653)]=function(){this.src=t(456)},l[t(726)](t(649),()=>{abrirLightbox(d)}),a[t(571)](l)}let c=document[t(700)]("h3");c.textContent=$[3],a.appendChild(c);let s=document[t(700)](t(597));s[t(492)][t(518)](t(742)),s[t(566)]=t(666)+$[2],a.appendChild(s);let _=document[t(700)](t(597));_[t(492)][t(518)](t(675)),_.style[t(586)]="5px 0",_.style[t(687)]=t(637);let f=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(f=parseInt($[10])),isNaN(f)?_[t(513)]=t(534):f<=1?_[t(513)]=t(534):f<=10?_[t(513)]=t(480):_.innerHTML='<span style="color: #4CAF50;">✓ Disponible</span>',a[t(571)](_);{let u=document.createElement("p");u[t(513)]=t(461)+$[13]+t(529),u[t(520)][t(473)]=t(521),a[t(571)](u)}let m=document.createElement("p");m[t(513)]="<strong>Ahora $</strong> "+$["6"],m[t(520)][t(538)]="2px",a[t(571)](m);let p=document[t(700)](t(597));p[t(520)][t(633)]=t(715),p[t(520)][t(561)]=t(635),p[t(520)][t(541)]=t(635),p[t(520)][t(530)]=t(521),p[t(520)][t(593)]=t(694);let b=document[t(700)](t(597));b[t(520)].display="none",b[t(520)][t(561)]=t(635),b[t(520)][t(530)]=t(521),b.style.transition="all 0.3s ease",b[t(520)][t(466)]="0";let g=document[t(700)](t(567));g[t(513)]="-",g[t(520)].padding=t(669),g[t(520)][t(725)]=t(532),g.style[t(699)]=t(506),g[t(520)].width=t(506),g[t(520)][t(471)]="#ff9800",g[t(520)][t(598)]="#fff",g[t(520)].border=t(563),g[t(520)][t(608)]=t(592),g[t(520)][t(560)]=t(659);let h=document[t(700)](t(719));h[t(718)]=t(722),h[t(738)]="1",h.value="1",h[t(520)][t(528)]=t(694),h[t(520)].height=t(506),h[t(520)].padding=t(521),h[t(520)][t(536)]=t(635),h[t(520)][t(648)]=t(474),h[t(520)].borderRadius=t(592);let E=document[t(700)](t(567));E[t(513)]="+",E[t(520)][t(727)]=t(669),E.style[t(725)]=t(532),E.style[t(699)]=t(506),E[t(520)][t(528)]=t(506),E[t(520)][t(471)]=t(583),E[t(520)].color="#fff",E.style.border=t(563),E[t(520)][t(608)]="4px",E[t(520)][t(560)]="pointer",b[t(571)](g),b[t(571)](h),b[t(571)](E);let y=document.createElement("button");function v(){let x=t,e=parseInt(h[x(732)]);if(e>0){let a=carrito[x(705)]($=>$[x(740)]===c.textContent);a?a[x(638)]=e:agregarAlCarrito(c[x(566)],$[6],e,$[2],$[0],$[7][x(629)]()[x(539)](/[,\.]/g,""),$[6][x(629)]()[x(539)](/[,\.]/g,"")),actualizarCarrito()}}y[t(513)]='<i class="fas fa-cart-plus"></i>',y[t(520)][t(727)]=t(547),y[t(520)][t(725)]=t(532),y[t(520)][t(699)]=t(694),y[t(520)][t(528)]=t(694),y[t(520)].backgroundColor=t(707),y[t(520)][t(598)]=t(678),y[t(520)][t(648)]="1px solid #4CAF50",y[t(520)][t(608)]="4px",y.style[t(560)]=t(659),y[t(520)][t(667)]=t(645),y[t(492)][t(518)]("btn-agregar-carrito"),!isNaN(f)&&f>0?(h[t(564)]=f,h[t(627)]=t(493)+f+" unidades disponibles"):(y[t(634)]=!0,y.style[t(471)]=t(588),y[t(520)][t(454)]=t(588),y[t(520)][t(560)]=t(487),y[t(627)]=t(704)),y[t(726)]("click",()=>{let x=t,e=0;if(void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10])),isNaN(e)||e<=0){alert(x(735));return}h[x(732)]="1",v(),function $(){let x=t;y[x(520)][x(466)]="0",y[x(520)].transform=x(591),setTimeout(()=>{let $=x;y[$(520)][$(633)]=$(622),b[$(520)][$(633)]="flex",setTimeout(()=>{let x=$;b.style[x(466)]="1",b[x(520)][x(604)]=x(573)},50)},150)}()}),E[t(726)](t(649),()=>{let x=t,e=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(e=parseInt($[10]));let a=parseInt(h[x(732)]);if(!isNaN(e)&&a>=e){alert(x(484)+e+x(717));return}h[x(732)]=a+1,v()}),g[t(726)](t(649),()=>{let $=t,x=parseInt(h.value);if(x>1)h[$(732)]=x-1,v();else{let e=carrito.find(x=>x[$(740)]===c.textContent);if(e){let a=carrito.indexOf(e);carrito[$(693)](a,1),actualizarCarrito()}b.style[$(466)]="0",b[$(520)][$(604)]=$(591),setTimeout(()=>{let x=$;b[x(520)][x(633)]="none",y[x(520)][x(633)]="block",y[x(520)][x(466)]="0",y[x(520)][x(604)]="scale(0.8)",setTimeout(()=>{let $=x;y[$(520)].opacity="1",y[$(520)][$(604)]="scale(1)"},50)},150)}}),h[t(726)](t(636),()=>{let x=t,e=parseInt(h[x(732)]),a=0;void 0!==$[10]&&null!==$[10]&&""!==$[10]&&(a=parseInt($[10])),e<=0?h[x(732)]="1":!isNaN(a)&&e>a&&(alert(x(484)+a+x(717)),h[x(732)]=a),v()}),p[t(571)](y),p[t(571)](b),a[t(571)](p),e[t(571)](a)})}function refreshStockInfo(){let $=_0x108165,x=document[$(680)]($(713));x.forEach(x=>{let e=$,t=x[e(462)](e(621));if(t){let a=x[e(462)](e(662));if(a){let o=a[e(732)],i=productos[e(705)]($=>$[2]===o),r=0;i&&void 0!==i[10]&&null!==i[10]&&""!==i[10]&&(r=parseInt(i[10])),isNaN(r)?t[e(513)]=e(534):r<=1?t[e(513)]='<span style="color: #ff9800;">✗ Sin stock</span>':r<=10?t[e(513)]=e(480):t.innerHTML='<span style="color: #4CAF50;">✓ Disponible</span>';let n=x[e(462)](e(603)),d=x[e(462)](e(576));n&&(!isNaN(r)&&r>0?(n[e(564)]=r,n[e(634)]=!1,n[e(627)]=e(493)+r+" unidades disponibles",d&&d.disabled&&(d[e(634)]=!1,d[e(520)].backgroundColor=e(707),d[e(520)].borderColor=e(707),d[e(520)].cursor="pointer",d[e(627)]="")):(n[e(634)]=!0,n[e(627)]="Sin stock disponible",d&&(d[e(634)]=!0,d[e(520)].backgroundColor=e(588),d[e(520)][e(454)]=e(588),d[e(520)][e(560)]=e(487),d[e(627)]="Sin stock disponible")))}}})}function agregarAlCarrito($,x,e,t,a){let o=_0x108165,i=0===carrito[o(503)],r=carrito[o(705)](x=>x[o(740)]===$);r?r[o(638)]+=e:carrito[o(736)]({nombre:$,precio:x,cantidad:e,codigo:t,categoria:a}),actualizarCarrito(),guardarCarritoLocal(),i&&!modoEdicion&&mostrarModalInfoPrimerArticulo()}function getMaxVisiblePaginationButtons(){let $=_0x108165,x=document.getElementById("pagination"),e=window[$(574)];x&&(e=x.offsetWidth||e);let t=Math.max(3,Math[$(640)]((e-220)/48));return Math[$(738)](t,15)}function actualizarPaginacion($,x){let e=_0x108165,t=document[e(673)]("pagination");t[e(513)]="";let a=Math[e(599)](x[e(503)]/30);if($>1){let o=document[e(700)](e(567));o.textContent=e(497),o[e(520)].width=e(455),o[e(726)]("click",()=>mostrarPagina($-1,x)),t[e(571)](o)}let i=getMaxVisiblePaginationButtons(),r=Math[e(564)](1,$-Math.floor(i/2)),n=Math[e(738)](a,r+i-1);n-r<i-1&&(r=Math[e(564)](1,n-i+1));for(let d=r;d<=n;d++){let l=document.createElement("button");l[e(566)]=d,l.classList[e(518)]("pagination-button"),d===$&&l[e(492)].add("active"),l[e(726)](e(649),()=>mostrarPagina(d,x)),t[e(571)](l)}if($<a){let c=document.createElement(e(567));c[e(566)]="Siguiente",c[e(520)][e(528)]=e(455),c[e(726)](e(649),()=>mostrarPagina($+1,x)),t[e(571)](c)}}function isValidImageUrl($){return $&&$[_0x108165(616)](/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox($){let x=_0x108165;currentLightboxImages=$,currentImageIndex=0,document[x(673)](x(585))[x(508)]=currentLightboxImages[currentImageIndex],document[x(673)](x(464))[x(520)][x(633)]=x(715),actualizarBotonesLightbox()}function actualizarBotonesLightbox(){let $=_0x108165,x=document.getElementById($(737)),e=document[$(673)]("next-btn");currentLightboxImages[$(503)]>1?(x[$(520)].display="block",e.style[$(633)]=$(733)):(x.style[$(633)]=$(622),e[$(520)].display=$(622))}function closeLightbox($){let x=_0x108165;($[x(511)]===$[x(744)]||$[x(511)][x(492)].contains("close"))&&(document.getElementById("lightbox")[x(520)][x(633)]=x(622))}function mostrarInfoModal($,x,e){let t=_0x108165,a=document.getElementById("infoModal"),o=document.getElementById("infoModalTitle"),i=document.getElementById(t(535));o[t(566)]=$;let r="";x&&""!==x[t(526)]()&&(r+='\n            <div class="info-modal-section">\n                <h4>Especificaciones del Fabricante:</h4>\n                <p>'+x+t(594)),e&&""!==e.trim()&&(r+='\n            <div class="info-modal-section">\n                <h4>Tama\xf1o</h4>\n                <p>'+e+"</p>\n            </div>\n        "),i.innerHTML=r,a[t(492)][t(518)](t(553))}function closeInfoModal($){let x=_0x108165,e=document.getElementById("infoModal");$&&$.target!==$[x(744)]||e[x(492)][x(660)](x(553))}function actualizarCarrito(){let $=_0x108165,x=document[$(673)]("cart-list"),e=document.getElementById($(584)),t=document[$(673)]($(644));x.innerHTML="";let a=carrito[$(641)]((x,e)=>x+e[$(638)],0);if(0===carrito[$(503)]){e&&(e[$(520)].display=$(622));let o=document[$(673)]($(545));o&&(o[$(492)][$(660)]($(664)),typeof cartExpanded!==$(606)&&(cartExpanded=!1))}else e&&(e[$(520)].display=$(715));t&&(t[$(566)]=a),carrito[$(696)]((e,t)=>{let a=$,o=document[a(700)]("li");o[a(520)][a(709)]=a(581),o.style.paddingRight=a(506);let i=document[a(700)]("div");i[a(513)]=a(647)+e[a(740)]+"</strong>&nbsp;<small>x"+e[a(638)]+a(691);let r=document[a(700)]("button");r.className=a(540),r[a(513)]=a(690),r[a(614)]=function(){eliminarItemCarrito(t)},o.appendChild(i),o[a(571)](r),x[a(571)](o)})}function eliminarItemCarrito($){let x=_0x108165,e=carrito[$],t=document[x(680)](x(713));t[x(696)]($=>{let t=x,a=$[t(462)]("h3")?.textContent;if(a===e[t(740)]){let o=$[t(462)](t(576)),i=$[t(462)](t(603))?.parentElement,r=$[t(462)](t(603));o&&i&&r&&(r[t(732)]="1",i[t(520)].display=t(622),i[t(520)][t(466)]="0",i.style[t(604)]="scale(0.8)",o[t(520)][t(633)]=t(733),o.style.opacity="1",o[t(520)][t(604)]=t(573),o.style[t(712)]="",o.style.color="",o[t(520)][t(648)]="")}}),carrito[x(693)]($,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado($,x){let e=_0x108165,t=document[e(673)](e(533));t&&t[e(660)]();let a=document.createElement("div");a.id=e(533),a[e(537)]="modal",a[e(520)][e(633)]=e(715),a[e(513)]=e(685),document[e(723)][e(571)](a),document[e(673)](e(676))[e(614)]=function(){let x=e;window.location[x(692)]=x(596)+$}}function mostrarModalInfoPrimerArticulo(){let $=_0x108165,x=document[$(673)]($(617));x&&x[$(660)]();let e=document.createElement($(597));e.id=$(617),e[$(537)]=$(517),e[$(520)].display=$(715),e[$(513)]=$(686),document[$(723)][$(571)](e),document[$(673)]("cerrarInfoPrimerArticuloBtn")[$(614)]=function(){e[$(660)]()},e.onclick=function(x){let t=$;x[t(511)]===e&&e[t(660)]()}}function mostrarModalMinimoPedido($){let x=_0x108165,e=document[x(673)](x(655));e&&e.remove();let t=5-$,a=document[x(700)](x(597));a.id=x(655),a.className=x(517),a.style[x(633)]="flex",a.innerHTML=x(544)+$+x(684)+(1===$?x(630):"unidades")+' en tu carrito.\n                        </p>\n                        <p style="margin:10px 0 0 0;color:#666;font-size:0.95em;">\n                            Te '+(1===t?"falta":"faltan")+x(507)+t+x(684)+(1===t?"unidad":x(554))+x(724),document[x(723)].appendChild(a),document.getElementById(x(572))[x(614)]=function(){a.remove()},a[x(614)]=function($){$[x(511)]===a&&a.remove()}}function limpiarCarrito(){let $=_0x108165;carrito=[],document[$(680)]($(713))[$(696)](x=>{let e=$,t=x[e(462)](".btn-agregar-carrito"),a=x[e(462)](e(603))?.[e(568)],o=x[e(462)]('input[type="number"]');t&&a&&o&&(o[e(732)]="1",a[e(520)][e(633)]=e(622),a[e(520)][e(466)]="0",a[e(520)][e(604)]="scale(0.8)",t[e(520)].display=e(733),t[e(520)].opacity="1",t[e(520)][e(604)]=e(573),t.style[e(712)]="",t[e(520)].color="",t.style[e(648)]="")}),actualizarCarrito(),guardarCarritoLocal()}function calcularTotalCarrito(){let $=_0x108165;return carrito[$(641)]((x,e)=>{let t=$,a=parseFloat(e[t(481)][t(629)]()[t(539)](/[^0-9.-]/g,""));return x+a*e[t(638)]},0)}function enviarPedido(){let $=_0x108165;if(0===carrito[$(503)]){alert($(570));return}let x=carrito[$(641)]((x,e)=>x+e[$(638)],0);if(x<5&&!modoEdicion){mostrarModalMinimoPedido(x);return}let e=calcularTotalCarrito();if(e<1e5&&!modoEdicion){alert($(483));return}if(modoEdicion){enviarPedidoFinal();return}let t=document[$(673)]("clienteModal");t&&(t.style.display=$(715))}function enviarPedidoFinal(){let $=_0x108165;if(modoEdicion&&pedidoEditId){let x=db[$(746)]($(646)+pedidoEditId);x.once($(732))[$(656)](e=>{let t=$;if(!e.exists()){alert(t(552));return}let a=e[t(479)]();if(a.locked){alert(t(505));return}return carrito.forEach($=>{let x=t,e=a[x(672)][x(512)](e=>e[x(740)]===$[x(740)]);e>-1?a[x(672)][e][x(638)]+=$[x(638)]:a[x(672)][x(736)]({nombre:$[x(740)],cantidad:$[x(638)],valorUSD:$.precio,codigo:$[x(580)]||"",categoria:$[x(611)]||""})}),a.cliente={nombre:datosExtraCliente[t(740)]||a.cliente?.[t(740)]||"",telefono:datosExtraCliente.telefono||a[t(457)]?.telefono||"",localidad:datosExtraCliente[t(609)]||a[t(457)]?.[t(609)]||"",direccion:datosExtraCliente[t(578)]||a.cliente?.[t(578)]||"",provincia:datosExtraCliente[t(698)]||a[t(457)]?.[t(698)]||"",dni:String(datosExtraCliente[t(679)]||a[t(457)]?.[t(679)]||""),email:datosExtraCliente[t(652)]||a[t(457)]?.email||"",tipoCliente:datosExtraCliente[t(555)]||a.cliente?.[t(555)]||t(677)},x.update({items:a.items,cliente:a[t(457)],adminViewed:!1,lastUpdated:Date[t(668)]()})})[$(656)](()=>{alert("\xa1Art\xedculos agregados exitosamente al pedido!"),setTimeout(()=>{let $=_0x2d5b;window.location[$(539)]($(596)+pedidoEditId)},300)})[$(619)](x=>{let e=$;console[e(510)](e(682),x),alert(e(702)+x[e(548)])});return}if(0===carrito.length){alert($(703));return}let e=datosExtraCliente[$(652)]||"";db.ref("clientes")[$(624)]($(652)).equalTo(e[$(701)]()).limitToFirst(1)[$(504)]($(732)).then(x=>{let t=$;return!x[t(734)]()&&e?db[t(746)](t(710))[t(736)]({email:e[t(701)](),nombre:datosExtraCliente[t(740)]||"",telefono:datosExtraCliente[t(626)]||"",localidad:datosExtraCliente[t(609)]||"",direccion:datosExtraCliente[t(578)]||"",provincia:datosExtraCliente[t(698)]||"",dni:String(datosExtraCliente[t(679)]||""),tipoCliente:datosExtraCliente[t(555)]||t(677),registro:t(661)}):Promise[t(495)]()}).then(()=>{let x=$,e=db.ref("pedidos").push(),t=e[x(524)],a={id:t,timestamp:Date[x(668)](),locked:!1,adminViewed:!1,createdby:x(661),status:"ABIERTO",cliente:{nombre:datosExtraCliente[x(740)]||"",telefono:datosExtraCliente[x(626)]||"",localidad:datosExtraCliente[x(609)]||"",direccion:datosExtraCliente[x(578)]||"",provincia:datosExtraCliente.provincia||"",dni:String(datosExtraCliente[x(679)]||""),email:datosExtraCliente[x(652)]||"",tipoCliente:datosExtraCliente.tipoCliente||x(677)},items:carrito[x(721)]($=>({nombre:$.nombre,cantidad:$[x(638)],valorUSD:$.precio,codigo:$[x(580)]||"",categoria:$.categoria||""}))};return e.set(a)[x(656)](()=>t)})[$(656)](x=>{let e=$;datosExtraCliente[e(652)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/[e(499)](datosExtraCliente[e(652)])&&emailjs[e(651)](e(496),"template_xqo1j5z",{email:datosExtraCliente[e(652)],name:datosExtraCliente[e(740)],linkPedido:"https://www.home-point.com.ar/pedidos.html?id="+x}).then(function($){let x=e;console.log(x(743),$[x(523)],$.text)},function($){let x=e;console[x(510)](x(569),$)}),mostrarModalPedidoConfirmado(x,datosExtraCliente[e(652)]),limpiarCarrito(),datosExtraCliente={}})[$(619)](x=>{let e=$;console[e(510)](e(607),x),alert(e(595)+x[e(548)])})}window[_0x108165(726)](_0x108165(467),()=>{let $=_0x108165;if(typeof currentPage!==$(606)){let x=datosFiltrados[$(503)]>0?datosFiltrados:productos;actualizarPaginacion(currentPage,x)}}),document[_0x108165(673)](_0x108165(472)).addEventListener(_0x108165(649),$=>{let x=_0x108165;$[x(470)](),currentLightboxImages[x(503)]>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[x(503)],document[x(673)]("lightbox-img")[x(508)]=currentLightboxImages[currentImageIndex])}),document[_0x108165(673)]("prev-btn")[_0x108165(726)]("click",$=>{let x=_0x108165;$[x(470)](),currentLightboxImages[x(503)]>0&&(currentImageIndex=(currentLightboxImages[x(503)]+currentImageIndex-1)%currentLightboxImages[x(503)],document[x(673)]("lightbox-img")[x(508)]=currentLightboxImages[currentImageIndex])}),document.getElementById(_0x108165(585)).addEventListener(_0x108165(510),function(){currentLightboxImages[_0x108165(503)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this.src=currentLightboxImages[0])}),document[_0x108165(726)](_0x108165(602),function(){let $=_0x108165;document[$(673)]($(671))[$(513)]=MARQUEE_TEXT,document[$(673)]("marquee-text-2")[$(513)]=MARQUEE_TEXT,cargarCarritoLocal()});const hamburgerBtn=document[_0x108165(673)](_0x108165(556)),hamburgerDropdown=document[_0x108165(673)](_0x108165(720));hamburgerBtn[_0x108165(726)](_0x108165(649),function($){let x=_0x108165;$[x(470)](),hamburgerDropdown[x(492)][x(589)]("active")}),document[_0x108165(726)](_0x108165(649),function($){let x=_0x108165;hamburgerBtn.contains($[x(511)])||hamburgerDropdown.contains($[x(511)])||hamburgerDropdown.classList[x(660)](x(664))}),document[_0x108165(680)](_0x108165(494)).forEach($=>{let x=_0x108165;$[x(726)](x(649),function(){hamburgerDropdown.classList[x(660)]("active")})});const ultimoPedidoBtn=document.getElementById("ultimoPedidoBtn"),ultimoPedidoModal=document.getElementById(_0x108165(549)),closeUltimoPedidoModal=document[_0x108165(673)](_0x108165(558)),buscarUltimoPedidoBtn=document[_0x108165(673)]("buscarUltimoPedidoBtn"),ultimoPedidoEmailInput=document[_0x108165(673)]("ultimoPedidoEmailInput"),buscarBtnText=document.getElementById("buscarBtnText"),buscarSpinner=document[_0x108165(673)](_0x108165(639)),ultimoPedidoMensaje=document[_0x108165(673)](_0x108165(468));function _0x2d5b($,x){$-=454;let e=_0x237b();return e[$]}function mostrarMensajeBusqueda($,x){let e=_0x108165,t=ultimoPedidoMensaje,a=t[e(462)](".fas"),o=t[e(462)](e(515));"error"===$?(t[e(520)][e(471)]="#fee",t.style.borderLeft="4px solid #e53e3e",t[e(520)][e(598)]="#c53030",a[e(537)]=e(654)):"success"===$?(t.style[e(471)]=e(615),t[e(520)].borderLeft=e(458),t[e(520)][e(598)]=e(469),a.className=e(551)):$===e(742)&&(t[e(520)].backgroundColor=e(729),t[e(520)].borderLeft="4px solid #4299e1",t.style[e(598)]=e(643),a[e(537)]=e(465)),o[e(566)]=x,t[e(520)].display="flex",t.style[e(561)]=e(635)}function ocultarMensajeBusqueda(){let $=_0x108165;ultimoPedidoMensaje[$(520)][$(633)]=$(622)}function setEstadoCargaBusqueda($){let x=_0x108165;buscarUltimoPedidoBtn[x(634)]=$,buscarUltimoPedidoBtn[x(520)][x(466)]=$?x(490):"1",buscarUltimoPedidoBtn.style[x(560)]=$?"not-allowed":x(659),buscarBtnText[x(520)][x(633)]=$?"none":x(486),buscarSpinner[x(520)][x(633)]=$?x(733):"none",ultimoPedidoEmailInput[x(634)]=$}function _0x237b(){let $=["localidad","\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ","categoria","8IMuCOS","150914hRvoiG","onclick","#e6ffed","match","info-primer-articulo-modal",'<i class="fas fa-info"></i>',"catch","initializeApp",".stock-info","none","9693999SkCeIx","orderByChild","\xa1Pedido encontrado! Redirigiendo...","telefono","title","/values/","toString","unidad","init","4455894HvjWmC","display","disabled","center","change","bold","cantidad","buscarSpinner","floor","reduce","smooth","#2b6cb0","cartBadge","all 0.3s ease","pedidos/","\n            <strong>","border","click","sort","send","email","onerror","fas fa-exclamation-circle","minimo-pedido-modal","then","Enter","1483675cyZwAB","pointer","remove","web",'input[type="hidden"]',"open","active","Por favor, ingres\xe1 un email v\xe1lido","C\xf3digo: ","transition","now","5px 10px","slice","marquee-text-1","items","getElementById","from","stock-info","verPedidoBtnConfirmado","mayorista","#fff","dni","querySelectorAll",".carousel-slide","Error al actualizar pedido:","info-icon","</strong> ",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ','\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Informaci\xf3n Importante</h2>\n                <p style=\'margin:8px 0 0 0;\'>Sobre el proceso de pedido</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#e3f2fd;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-truck" style="font-size:3em;color:#2196F3;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>La solicitud de pedido se utiliza solo para env\xedos.</strong>\n                    </p>\n                    <p style="margin:15px 0 0 0;color:#555;line-height:1.6;font-size:0.95em;">\n                        Si retir\xe1s en nuestro showroom, <strong>no hace falta generar un pedido</strong>.\n                    </p>\n                </div>\n                <button id="cerrarInfoPrimerArticuloBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"fontWeight","catalogo","vcbQsbE2bgLwFAnDr",'<i class="fas fa-times"></i>',"</small>\n        ","href","splice","50px","pedido","forEach","cssText","provincia","height","createElement","toLowerCase","Error al actualizar el pedido: ","El carrito est\xe1 vac\xedo.","Sin stock disponible","find","search","#4CAF50","categorias","position","clientes","#error","background",".card","Ver informaci\xf3n adicional","flex","base"," unidades disponibles.","type","input","hamburgerDropdown","map","number","body",' m\xe1s.\n                        </p>\n                    </div>\n                </div>\n                <button id="cerrarMinimoPedidoBtn" class="btn-primary" style="width:100%;margin:0;background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);">\n                    <i class="fas fa-check"></i> Entendido\n                </button>\n            </div>\n        </div>\n    ',"fontSize","addEventListener","padding","⚙️ Est\xe1s agregando art\xedculos al pedido #","#e6f7ff","carousel-images","auto","value","block","exists","Este producto no tiene stock disponible.","push","prev-btn","min","Error al buscar el pedido. Por favor, intenta de nuevo","nombre","translateX(","info","Email enviado!","currentTarget","getBoundingClientRect","ref","loadingOverlay","borderColor","100px","no-disponible.png","cliente","4px solid #48bb78","filter","activeElement",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">',"querySelector","3425896Jkihha","lightbox","fas fa-info-circle","opacity","resize","ultimoPedidoMensaje","#2f855a","stopPropagation","backgroundColor","next-btn","marginBottom","1px solid #ddd","get","scrollTo","focus","https://sheets.googleapis.com/v4/spreadsheets/","val",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"precio","parse","Error: Importe total insuficiente para procesar el pedido","Stock insuficiente. Solo hay ","_blank","inline","not-allowed","removeItem","localeCompare","0.7","54px","classList","M\xe1ximo ",".hamburger-dropdown-item","resolve","service_lu9cpxk","Anterior","keydown","test","3691048eVjRZS","top","3JBVcyY","length","once","Este pedido est\xe1 cerrado y no se puede editar.","35px",' <strong style="color:#ff9800;font-size:1.2em;">',"src","Error al cargar los datos:","error","target","findIndex","innerHTML","split","span","indexOf","modal","add","timestamp","style","5px","buscar","status","key","3372404CuhYVl","trim","carritoMayorista","width","</s></span>","gap","Error al cargar pedido existente:","16px","pedido-confirmado-modal",'<span style="color: #ff9800;">✗ Sin stock</span>',"infoModalBody","textAlign","className","marginTop","replace","cart-item-delete","justifyContent","filtroDisponibles","statusText",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">\n                <h2 style=\'margin:0;\'><i class="fas fa-info-circle"></i> Pedido M\xednimo Requerido</h2>\n                <p style=\'margin:8px 0 0 0;\'>Para procesar tu pedido necesitamos un m\xednimo de unidades</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#fff3e0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-shopping-cart" style="font-size:3em;color:#ff9800;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.8;font-size:1.05em;">\n                        <strong>Necesitas agregar al menos 5 unidades para procesar el pedido.</strong>\n                    </p>\n                    <div style="margin-top:20px;padding:15px;background:#fff;border-radius:8px;border-left:4px solid #ff9800;">\n                        <p style="margin:0;color:#666;font-size:0.95em;">\n                            Actualmente tienes <strong style="color:#ff9800;font-size:1.2em;">',"cartContainer","includes","10px 10px","message","ultimoPedidoModal","database","fas fa-check-circle","Error: No se encontr\xf3 el pedido original","show","unidades","tipoCliente","hamburgerBtn","Error al cargar carrito desde localStorage:","closeUltimoPedidoModal","json","cursor","alignItems","cliente/email","1px solid #ff9800","max","pageYOffset","textContent","button","parentElement","Error enviando email:","El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.","appendChild","cerrarMinimoPedidoBtn","scale(1)","innerWidth","success",".btn-agregar-carrito","?key=","direccion","scrollTop","codigo","relative","img","#ff9800","cartFloatBtn","lightbox-img","margin","No se encontraron datos en la hoja.","#cccccc","toggle","todos","scale(0.8)","4px","minHeight","</p>\n            </div>\n        ","Error al guardar el pedido: ","pedidos.html?id=","div","color","ceil","card","location","DOMContentLoaded",'input[type="number"]',"transform","checked","undefined","Error al guardar pedido o cliente:","borderRadius"];return(_0x237b=function(){return $})()}ultimoPedidoBtn[_0x108165(726)](_0x108165(649),function(){let $=_0x108165;ultimoPedidoModal[$(520)][$(633)]=$(715),ultimoPedidoEmailInput[$(732)]="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput[$(477)](),100)}),closeUltimoPedidoModal.addEventListener(_0x108165(649),function(){let $=_0x108165;ultimoPedidoModal[$(520)][$(633)]=$(622),ocultarMensajeBusqueda()}),ultimoPedidoModal[_0x108165(726)]("mousedown",function($){let x=_0x108165;$[x(511)]===ultimoPedidoModal&&(ultimoPedidoModal[x(520)][x(633)]=x(622),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn[_0x108165(726)]("click",function(){let $=_0x108165,x=ultimoPedidoEmailInput.value.trim()[$(701)]();if(ocultarMensajeBusqueda(),!x||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(x)){mostrarMensajeBusqueda("error",$(665)),ultimoPedidoEmailInput[$(477)]();return}setEstadoCargaBusqueda(!0),db[$(746)]("pedidos")[$(624)]($(562)).equalTo(x)[$(504)]($(732))[$(656)](x=>{let e=$;if(setEstadoCargaBusqueda(!1),!x.exists()){mostrarMensajeBusqueda("error","No se encontraron pedidos registrados con este email");return}let t=null;x[e(696)]($=>{let x=e,a=$[x(479)]();(!t||a[x(519)]>t[x(519)])&&(t=a)}),t&&t.id?(mostrarMensajeBusqueda(e(575),e(625)),setTimeout(()=>{let $=e;window[$(663)]($(596)+t.id,$(485)),ultimoPedidoModal.style.display=$(622),ocultarMensajeBusqueda(),ultimoPedidoEmailInput[$(732)]=""},800)):mostrarMensajeBusqueda(e(510),"No se encontraron pedidos registrados con este email")})[$(619)](()=>{let x=$;setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda(x(510),x(739))})}),ultimoPedidoEmailInput[_0x108165(726)](_0x108165(498),function($){let x=_0x108165;$[x(524)]===x(657)&&buscarUltimoPedidoBtn.click()}),document[_0x108165(726)]("DOMContentLoaded",function(){let $=_0x108165,x=document.getElementById("carousel-pie-images");if(x){let e=x[$(680)]($(681)),t=0;e[$(503)]>0&&setInterval(()=>{t=(t+1)%e[$(503)],function e(){let a=$,o=-(100*t);x[a(520)][a(604)]="translateX("+o+"%)"}()},5e3)}});
