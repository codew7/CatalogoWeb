const _0xba18c4=_0x2c29;(function(x,$){let e=_0x2c29,t=x();for(;;)try{let a=-parseInt(e(245))/1*(-parseInt(e(260))/2)+-parseInt(e(168))/3+-parseInt(e(295))/4+parseInt(e(284))/5*(parseInt(e(369))/6)+parseInt(e(361))/7+-parseInt(e(297))/8*(parseInt(e(324))/9)+parseInt(e(182))/10;if(573937===a)break;t.push(t.shift())}catch(o){t.push(t.shift())}})(_0x1833,573937),emailjs.init(_0xba18c4(384));const WHATSAPP_URL=_0xba18c4(393),MARQUEE_TEXT="\uD83D\uDCB2&nbsp; Los valores publicados se encuentran ligados a la cotizaci\xf3n del d\xf3lar del d\xeda &nbsp; \uD83D\uDED2\uD83D\uDECD️ &nbsp; Visita nuestro Showroom y compr\xe1 sin requisitos minimos de compra &nbsp; \uD83D\uDE9A &nbsp; ENV\xcdOS A TODO EL PA\xcdS",ITEMPESOS="6";firebase[_0xba18c4(125)](firebaseConfig);const db=firebase.database();document[_0xba18c4(142)](_0xba18c4(215),function(){let x=_0xba18c4,$=document[x(294)](x(227)),e=$?$.querySelectorAll(".carousel-slide"):[],t=0;e.length>0&&setInterval(()=>{t=(t+1)%e[x(151)],function a(){let o=x;if($&&e[o(151)]>0){let i=-(100*t);$[o(309)][o(343)]="translateX("+i+"%)"}}()},5e3)});const ITEMS_PER_PAGE=30;let productos=[],datosFiltrados=[],currentPage=1,carrito=[],currentLightboxImages=[],currentImageIndex=0,datosExtraCliente={};function guardarCarritoLocal(){let x=_0xba18c4;if(!modoEdicion)try{localStorage[x(123)](x(391),JSON[x(203)](carrito))}catch($){console[x(147)](x(394),$)}}function cargarCarritoLocal(){let x=_0xba18c4;if(!modoEdicion)try{let $=localStorage[x(110)](x(391));$&&(carrito=JSON[x(136)]($),actualizarCarrito())}catch(e){console.error(x(248),e),carrito=[]}}const urlParams=new URLSearchParams(window[_0xba18c4(304)][_0xba18c4(401)]),pedidoEditId=urlParams[_0xba18c4(185)](_0xba18c4(155)),modoEdicion=!!pedidoEditId;if(modoEdicion){localStorage[_0xba18c4(311)](_0xba18c4(391));let x=document[_0xba18c4(367)](_0xba18c4(120));x[_0xba18c4(395)]=_0xba18c4(252)+pedidoEditId,x.id=_0xba18c4(329),x[_0xba18c4(309)][_0xba18c4(266)]=_0xba18c4(241),document[_0xba18c4(351)][_0xba18c4(220)](x),document.body[_0xba18c4(309)].marginTop=_0xba18c4(143),db.ref("pedidos/"+pedidoEditId).once(_0xba18c4(360))[_0xba18c4(234)](x=>{let $=_0xba18c4;if(x[$(254)]()){let e=x[$(356)]();datosExtraCliente=e.cliente||{},console[$(362)]($(197),e)}}).catch(x=>{let $=_0xba18c4;console[$(147)]($(117),x)})}const loadingOverlay=document.getElementById(_0xba18c4(179));fetch(_0xba18c4(218)+GOOGLE_SHEETS_CONFIG[_0xba18c4(366)]+"/values/"+GOOGLE_SHEETS_CONFIG[_0xba18c4(276)]+_0xba18c4(158)+GOOGLE_SHEETS_CONFIG[_0xba18c4(342)]).then(x=>{let $=_0xba18c4;if(!x.ok)throw Error($(198)+x.statusText);return x[$(379)]()})[_0xba18c4(234)](x=>{let $=_0xba18c4;loadingOverlay&&(loadingOverlay[$(309)][$(107)]=$(333));let e=x[$(144)];if(!e||0===e[$(151)])throw Error("No se encontraron datos en la hoja.");datosFiltrados=productos=e[$(302)](x=>x[4][$(405)]()!==$(280))[$(365)]((x,$)=>{function e(x){let $=_0x2c29;if(!x||""===x||null==x)return new Date(1900,0,1);if(x.includes("/")){let e=x[$(122)]("/");if(3===e[$(151)]){let t=parseInt(e[0]),a=parseInt(e[1])-1,o=parseInt(e[2]);return new Date(o,a,t)}}return new Date(1900,0,1)}let t=e(x[12]),a=e($[12]);return a-t}),window[$(217)](0,0),mostrarPagina(1),setTimeout(()=>{let x=$;refreshStockInfo(),document.getElementById("filtroDisponibles")[x(305)]&&i(),setTimeout(()=>{primeraCarga=!1},100)},100);let t=new Set(productos[$(224)](x=>x[0])),a=document[$(294)]($(255)),o=Array[$(133)](t)[$(302)](x=>x&&""!==x[$(169)]()).sort((x,e)=>x.localeCompare(e,"es",{sensitivity:$(339)}));function i(){let x=$,e=document[x(294)](x(255))[x(360)],t=document.getElementById(x(205))[x(360)][x(405)](),a=document[x(294)](x(129))[x(305)],o=productos;e!==x(318)&&(o=o[x(302)](x=>x[0]===e)),""!==t[x(169)]()&&(o=o[x(302)]($=>$[3][x(405)]()[x(165)](t)||$[2][x(405)]().includes(t))),a&&(o=o[x(302)](x=>{let $=x[10];if(null==$||""===$)return!1;let e=parseInt(String($).trim());return!isNaN(e)&&e>0})),datosFiltrados=o,mostrarPagina(1,o)}o[$(388)](x=>{let e=$,t=document[e(367)](e(157));t[e(360)]=x,t[e(395)]=x,a[e(220)](t)}),a[$(142)]($(315),()=>{i()}),document[$(294)]($(205))[$(142)]($(321),x=>{i()}),document.getElementById($(129))[$(142)]($(315),()=>{i()}),document[$(294)]("todos")[$(142)]("click",()=>{let x=$;document.getElementById(x(255))[x(360)]=x(318),document[x(294)](x(205))[x(360)]="",document[x(294)](x(129))[x(305)]=!1,datosFiltrados=productos,mostrarPagina(1)})})[_0xba18c4(314)](x=>{let $=_0xba18c4;loadingOverlay&&(loadingOverlay.style[$(107)]=$(333)),console[$(147)]($(398),x),document[$(148)]("#error")[$(395)]=x[$(212)]});let primeraCarga=!0;function mostrarPagina(x,$=productos){let e=_0xba18c4;currentPage=x,$[e(151)];let t=(x-1)*30,a=$[e(257)](t,t+30);cargarGrid(a),actualizarPaginacion(x,$),document[e(170)]!==document[e(294)](e(205))&&setTimeout(()=>{let x=e;if(primeraCarga)window[x(217)]({top:0,behavior:x(268)});else{let $=document.getElementById(x(255));if($){let t=$[x(121)](),a=window[x(166)]||document[x(310)][x(259)];window.scrollTo({top:t[x(275)]+a-20,behavior:x(363)})}}},0)}function cargarGrid(x){let $=_0xba18c4,e=document.getElementById($(387));e[$(126)]="",x[$(388)](x=>{let t=$,a=document[t(367)](t(120));a[t(119)][t(263)](t(189));let o=document.createElement(t(321));if(o[t(320)]=t(192),o[t(360)]=x[2],a.appendChild(o),isValidImageUrl(x[1])){let i=[];-1!==x[1][t(390)](",")?i=x[1][t(122)](",")[t(224)](x=>x.trim()):i[t(183)](x[1]);let _=document[t(367)](t(131));_[t(357)]=i[0],_[t(345)]=t(199),_.onerror=function(){let x=t;this[x(357)]=x(286)},_.addEventListener(t(381),()=>{abrirLightbox(i)}),a.appendChild(_)}let r=document.createElement("h3");r[t(395)]=x[3],a[t(220)](r);let n=document[t(367)](t(120));n[t(119)][t(263)](t(130)),n.textContent=t(353)+x[2],a[t(220)](n);let d=document[t(367)](t(120));d[t(119)][t(263)](t(195)),d.style[t(154)]=t(128),d.style[t(206)]="bold";let l=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(l=parseInt(x[10])),isNaN(l)?d.innerHTML=t(242):l<=0?d[t(126)]=t(242):l<=10?d[t(126)]='<span style="color: #ffeb3b;">⚠ Pocas unidades</span>':d.innerHTML=t(161),a[t(220)](d);{let c=document[t(367)]("p");c.innerHTML=t(283)+x[13]+t(244),c[t(309)][t(277)]=t(235),a.appendChild(c)}let s=document[t(367)]("p");s[t(126)]=t(382)+x["6"],s[t(309)][t(281)]=t(219),a[t(220)](s);let b=document[t(367)](t(120));b[t(309)][t(107)]="flex",b[t(309)][t(265)]="center",b[t(309)][t(240)]=t(287),b[t(309)][t(108)]=t(235),b[t(309)][t(376)]=t(291);let u=document[t(367)](t(120));u[t(309)][t(107)]=t(333),u.style[t(265)]=t(287),u[t(309)][t(108)]=t(235),u[t(309)][t(181)]=t(214),u[t(309)].opacity="0";let f=document[t(367)](t(211));f[t(126)]="-",f.style[t(375)]=t(153),f.style[t(325)]="16px",f[t(309)].height=t(124),f[t(309)][t(288)]="35px",f[t(309)][t(175)]="#ff9800",f[t(309)][t(389)]=t(178),f[t(309)][t(359)]=t(251),f[t(309)][t(292)]=t(238),f[t(309)][t(335)]=t(132);let p=document[t(367)]("input");p[t(320)]=t(216),p.min="1",p.value="1",p[t(309)][t(288)]=t(291),p[t(309)].height=t(124),p.style[t(375)]=t(235),p[t(309)].textAlign="center",p[t(309)][t(359)]=t(222),p.style[t(292)]=t(238);let m=document[t(367)]("button");m[t(126)]="+",m[t(309)][t(375)]="5px 10px",m[t(309)][t(325)]="16px",m[t(309)][t(348)]=t(124),m.style[t(288)]="35px",m.style[t(175)]=t(171),m[t(309)][t(389)]=t(178),m[t(309)][t(359)]=t(251),m.style[t(292)]=t(238),m[t(309)].cursor=t(132),u[t(220)](f),u[t(220)](p),u[t(220)](m);let g=document[t(367)](t(211));function E(){let $=t,e=parseInt(p.value);if(e>0){let a=carrito[$(190)](x=>x[$(378)]===r[$(395)]);a?a[$(350)]=e:agregarAlCarrito(r[$(395)],x[6],e,x[2],x[0],x[7][$(111)]()[$(331)](/[,\.]/g,""),x[6][$(111)]()[$(331)](/[,\.]/g,"")),actualizarCarrito()}}g.innerHTML=t(404),g[t(309)][t(375)]=t(236),g[t(309)][t(325)]=t(145),g.style[t(348)]="50px",g[t(309)][t(288)]="50px",g[t(309)].backgroundColor=t(194),g[t(309)].color=t(178),g.style[t(359)]=t(188),g[t(309)][t(292)]=t(238),g[t(309)][t(335)]=t(132),g[t(309)][t(181)]=t(214),g[t(119)].add(t(269)),!isNaN(l)&&l>0?(p[t(191)]=l,p[t(146)]="M\xe1ximo "+l+t(370)):(g[t(368)]=!0,g[t(309)][t(175)]=t(210),g[t(309)].borderColor=t(210),g[t(309)].cursor=t(323),g[t(146)]=t(134)),g[t(142)](t(381),()=>{let $=0;if(void 0!==x[10]&&null!==x[10]&&""!==x[10]&&($=parseInt(x[10])),isNaN($)||$<=0){alert(t(322));return}p.value="1",E(),function x(){let $=t;g[$(309)][$(385)]="0",g[$(309)][$(343)]=$(330),setTimeout(()=>{let x=$;g[x(309)][x(107)]=x(333),u.style[x(107)]=x(319),setTimeout(()=>{let $=x;u.style.opacity="1",u[$(309)][$(343)]=$(377)},50)},150)}()}),m[t(142)](t(381),()=>{let $=t,e=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(e=parseInt(x[10]));let a=parseInt(p[$(360)]);if(!isNaN(e)&&a>=e){alert("Stock insuficiente. Solo hay "+e+$(209));return}p[$(360)]=a+1,E()}),f[t(142)]("click",()=>{let x=t,$=parseInt(p[x(360)]);if($>1)p[x(360)]=$-1,E();else{let e=carrito[x(190)]($=>$[x(378)]===r.textContent);if(e){let a=carrito.indexOf(e);carrito[x(138)](a,1),actualizarCarrito()}u[x(309)][x(385)]="0",u.style[x(343)]="scale(0.8)",setTimeout(()=>{let $=x;u.style.display=$(333),g[$(309)].display="block",g[$(309)][$(385)]="0",g[$(309)][$(343)]=$(330),setTimeout(()=>{let x=$;g[x(309)][x(385)]="1",g[x(309)][x(343)]=x(377)},50)},150)}}),p[t(142)](t(315),()=>{let $=t,e=parseInt(p.value),a=0;void 0!==x[10]&&null!==x[10]&&""!==x[10]&&(a=parseInt(x[10])),e<=0?p[$(360)]="1":!isNaN(a)&&e>a&&(alert($(237)+a+$(209)),p.value=a),E()}),b[t(220)](g),b.appendChild(u),a[t(220)](b),e[t(220)](a)})}function refreshStockInfo(){let x=_0xba18c4,$=document[x(201)](x(160));$[x(388)]($=>{let e=x,t=$[e(148)](e(341));if(t){let a=$.querySelector('input[type="hidden"]');if(a){let o=a[e(360)],i=productos[e(190)](x=>x[2]===o),_=0;i&&void 0!==i[10]&&null!==i[10]&&""!==i[10]&&(_=parseInt(i[10])),isNaN(_)?t[e(126)]='<span style="color: #ff9800;">✗ Sin stock</span>':_<=0?t.innerHTML=e(242):_<=10?t[e(126)]=e(184):t[e(126)]=e(161);let r=$[e(148)](e(246)),n=$[e(148)](e(296));r&&(!isNaN(_)&&_>0?(r[e(191)]=_,r[e(368)]=!1,r[e(146)]="M\xe1ximo "+_+e(370),n&&n.disabled&&(n[e(368)]=!1,n.style[e(175)]="#4CAF50",n.style[e(159)]=e(194),n[e(309)][e(335)]=e(132),n[e(146)]="")):(r.disabled=!0,r[e(146)]="Sin stock disponible",n&&(n[e(368)]=!0,n.style.backgroundColor=e(210),n[e(309)].borderColor=e(210),n.style.cursor=e(323),n[e(146)]=e(134))))}}})}function agregarAlCarrito(x,$,e,t,a){let o=_0xba18c4,i=carrito[o(190)]($=>$.nombre===x);i?i[o(350)]+=e:carrito[o(183)]({nombre:x,precio:$,cantidad:e,codigo:t,categoria:a}),actualizarCarrito(),guardarCarritoLocal()}function getMaxVisiblePaginationButtons(){let x=_0xba18c4,$=document[x(294)](x(141)),e=window[x(392)];$&&(e=$[x(162)]||e);let t=Math[x(191)](3,Math[x(358)]((e-220)/48));return Math[x(285)](t,15)}function actualizarPaginacion(x,$){let e=_0xba18c4,t=document[e(294)]("pagination");t[e(126)]="";let a=Math[e(140)]($[e(151)]/30);if(x>1){let o=document[e(367)](e(211));o.textContent=e(397),o[e(309)].width=e(267),o[e(142)]("click",()=>mostrarPagina(x-1,$)),t[e(220)](o)}let i=getMaxVisiblePaginationButtons(),_=Math[e(191)](1,x-Math[e(358)](i/2)),r=Math[e(285)](a,_+i-1);r-_<i-1&&(_=Math[e(191)](1,r-i+1));for(let n=_;n<=r;n++){let d=document[e(367)](e(211));d.textContent=n,d[e(119)][e(263)](e(299)),n===x&&d[e(119)][e(263)](e(274)),d[e(142)](e(381),()=>mostrarPagina(n,$)),t[e(220)](d)}if(x<a){let l=document[e(367)](e(211));l[e(395)]=e(298),l[e(309)][e(288)]=e(267),l[e(142)](e(381),()=>mostrarPagina(x+1,$)),t[e(220)](l)}}function isValidImageUrl(x){return x&&x[_0xba18c4(230)](/\.(jpeg|jpg|gif|png)$/i)}function abrirLightbox(x){let $=_0xba18c4;currentLightboxImages=x,currentImageIndex=0,document.getElementById($(243))[$(357)]=currentLightboxImages[currentImageIndex],document[$(294)]($(303))[$(309)].display="flex",actualizarBotonesLightbox()}function _0x1833(){let x=["remove","includes","pageYOffset","timestamp","1381899tSHbIY","trim","activeElement","#ff9800","ultimoPedidoBtn","localidad","#c53030","backgroundColor",".fas","ultimoPedidoModal","#fff","loadingOverlay","onclick","transition","5583030ggGOnR","push",'<span style="color: #ffeb3b;">⚠ Pocas unidades</span>',"get","relative","resolve","1px solid #4CAF50","card","find","max","hidden","undefined","#4CAF50","stock-info","pedidos","Datos del pedido existente cargados:","Error al acceder a la API: ","lazy","fas fa-info-circle","querySelectorAll","https://www.home-point.com.ar/pedidos.html?id=","stringify","Error al actualizar el pedido: ","buscar","fontWeight","closeUltimoPedidoModal","cartFloatBtn"," unidades disponibles.","#cccccc","button","message","key","all 0.3s ease","DOMContentLoaded","number","scrollTo","https://sheets.googleapis.com/v4/spreadsheets/","2px","appendChild","marquee-text-1","1px solid #ddd","Error al guardar pedido o cliente:","map","clienteModal","Error: No se encontr\xf3 el pedido original","carousel-images","items","findIndex","match","ABIERTO","mousedown","Error al actualizar pedido:","then","5px","10px 10px","Stock insuficiente. Solo hay ","4px","\n            <strong>","justifyContent","\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      z-index: 3001;\n      background: #fff7c2;\n      padding: 10px 0;\n      text-align: center;\n      font-weight: bold;\n      font-size: 1.1em;\n      box-shadow: 0 2px 8px #0002;\n      border-bottom: 2px solid #ffe066;\n    ",'<span style="color: #ff9800;">✗ Sin stock</span>',"lightbox-img","</s></span>","23662MqnQrA",'input[type="number"]',"locked","Error al cargar carrito desde localStorage:","target","web","1px solid #ff9800","⚙️ Est\xe1s agregando art\xedculos al pedido #","email","exists","categorias","ref","slice","cartContainer","scrollTop","52IYAFFg","success","categoria","add","next-btn","alignItems","cssText","100px","auto","btn-agregar-carrito","paddingRight","provincia","ultimoPedidoMensaje","4px solid #e53e3e","active","top","RANGO","marginBottom","pedidos.html?id=","fas fa-check-circle","no disponible","marginTop","cart-item-delete",'<span style="font-size:0.93em;"><strong>Antes $</strong> <s style="color: #e61919;">',"612940SWnavL","min","no-disponible.png","center","width","background","cart-list","50px","borderRadius","0.7","getElementById","1307312mNxjdo",".btn-agregar-carrito","344BFrSEW","Siguiente","pagination-button","#e6f7ff","precio","filter","lightbox","location","checked","stopPropagation","span","ultimoPedidoEmailInput","style","documentElement","removeItem","No se encontraron pedidos registrados con este email","send","catch","change","orderByChild","close","todos","flex","type","input","Este producto no tiene stock disponible.","not-allowed","168066TslJfW","fontSize","parentElement","pedido-confirmado-modal","buscarUltimoPedidoBtn","aviso-edicion-pedido","scale(0.8)","replace","limitToFirst","none","text","cursor","cliente","Email enviado!","mayorista","base","Error al guardar el pedido: ",".stock-info","API_KEY","transform","modal","loading","direccion","equalTo","height","Error al buscar el pedido. Por favor, intenta de nuevo","cantidad","body",".carousel-slide","C\xf3digo: ","contains","once","val","src","floor","border","value","4361707nKlYCA","log","smooth","block","sort","SPREADSHEET_ID","createElement","disabled","18HxTUjR"," unidades disponibles","codigo","Este pedido est\xe1 cerrado y no se puede editar.","translateX(","tipoCliente","padding","minHeight","scale(1)","nombre","json",'\n        <div class="modal-content" style="max-width:450px;position:relative;">\n            <div class="modal-header">\n                <h2 style=\'margin:0;\'><i class="fas fa-check-circle"></i> \xa1Pedido Confirmado!</h2>\n                <p style=\'margin:8px 0 0 0;\'>Tu pedido se ha procesado exitosamente</p>\n            </div>\n            <div class="modal-body" style="padding:30px; text-align:center;">\n                <div style="background:#f0f9f0;border-radius:12px;padding:20px;margin-bottom:20px;">\n                    <i class="fas fa-envelope" style="font-size:3em;color:#4CAF50;margin-bottom:15px;"></i>\n                    <p style="margin:0;color:#333;line-height:1.6;">\n                        Se envi\xf3 una notificaci\xf3n a tu email con todos los detalles del pedido. \n                        Puedes verlo, modificarlo o realizar el seguimiento desde all\xed.\n                    </p>\n                </div>\n                <button id="verPedidoBtnConfirmado" class="btn-primary" style="width:100%;margin:0;">\n                    <i class="fas fa-eye"></i> Ver Mi Pedido\n                </button>\n            </div>\n        </div>\n    ',"click","<strong>Ahora $</strong> ","set","vcbQsbE2bgLwFAnDr","opacity","\xa1Pedido encontrado! Redirigiendo...","catalogo","forEach","color","indexOf","carritoMayorista","innerWidth","https://api.whatsapp.com/send/?phone=5491121891006","Error al guardar carrito en localStorage:","textContent","marquee-text-2","Anterior","Error al cargar los datos:","clientes","position","search","Por favor, ingres\xe1 un email v\xe1lido","borderLeft",'<i class="fas fa-cart-plus"></i>',"toLowerCase","display","gap",'<i class="fas fa-times"></i>',"getItem","toString","buscarSpinner","dni","fas fa-exclamation-circle","telefono","</strong>&nbsp;<small>x","Error al cargar pedido existente:","className","classList","div","getBoundingClientRect","split","setItem","35px","initializeApp","innerHTML","test","5px 0","filtroDisponibles","info","img","pointer","from","Sin stock disponible","cartBadge","parse","focus","splice","#2f855a","ceil","pagination","addEventListener","54px","values","16px","title","error","querySelector","buscarBtnText","status","length","prev-btn","5px 10px","margin","pedido","verPedidoBtnConfirmado","option","?key=","borderColor",".card",'<span style="color: #4CAF50;">✓ Disponible</span>',"offsetWidth","Enter"];return(_0x1833=function(){return x})()}function actualizarBotonesLightbox(){let x=_0xba18c4,$=document[x(294)](x(152)),e=document[x(294)](x(264));currentLightboxImages[x(151)]>1?($[x(309)][x(107)]=x(364),e[x(309)][x(107)]=x(364)):($[x(309)][x(107)]=x(333),e[x(309)].display=x(333))}function closeLightbox(x){let $=_0xba18c4;(x[$(249)]===x.currentTarget||x[$(249)][$(119)][$(354)]($(317)))&&(document[$(294)]($(303))[$(309)][$(107)]=$(333))}function _0x2c29(x,$){let e=_0x1833();return(_0x2c29=function(x,$){return e[x-=107]})(x,$)}function actualizarCarrito(){let x=_0xba18c4,$=document[x(294)](x(290)),e=document[x(294)](x(208)),t=document.getElementById(x(135));$[x(126)]="";let a=carrito.reduce(($,e)=>$+e[x(350)],0);if(0===carrito[x(151)]){e&&(e.style[x(107)]=x(333));let o=document[x(294)](x(258));o&&(o[x(119)][x(164)](x(274)),"undefined"!=typeof cartExpanded&&(cartExpanded=!1))}else e&&(e[x(309)][x(107)]="flex");t&&(t[x(395)]=a),carrito[x(388)]((e,t)=>{let a=x,o=document.createElement("li");o.style[a(400)]=a(186),o[a(309)][a(270)]=a(124);let i=document[a(367)](a(120));i[a(126)]=a(239)+e.nombre+a(116)+e[a(350)]+"</small>\n        ";let _=document[a(367)](a(211));_[a(118)]=a(282),_.innerHTML=a(109),_[a(180)]=function(){eliminarItemCarrito(t)},o.appendChild(i),o[a(220)](_),$[a(220)](o)})}function eliminarItemCarrito(x){let $=_0xba18c4,e=carrito[x],t=document[$(201)]($(160));t[$(388)](x=>{let t=$,a=x[t(148)]("h3")?.[t(395)];if(a===e[t(378)]){let o=x[t(148)](t(296)),i=x[t(148)]('input[type="number"]')?.[t(326)],_=x.querySelector('input[type="number"]');o&&i&&_&&(_[t(360)]="1",i[t(309)][t(107)]=t(333),i.style[t(385)]="0",i[t(309)].transform=t(330),o.style[t(107)]=t(364),o.style.opacity="1",o[t(309)][t(343)]=t(377),o[t(309)][t(289)]="",o[t(309)][t(389)]="",o[t(309)][t(359)]="")}}),carrito.splice(x,1),actualizarCarrito(),guardarCarritoLocal()}function mostrarModalPedidoConfirmado(x,$){let e=_0xba18c4,t=document[e(294)](e(327));t&&t[e(164)]();let a=document[e(367)]("div");a.id=e(327),a.className=e(344),a.style[e(107)]=e(319),a[e(126)]=e(380),document[e(351)][e(220)](a),document[e(294)](e(156))[e(180)]=function(){let $=e;window[$(304)].href=$(278)+x}}function limpiarCarrito(){let x=_0xba18c4;carrito=[],document[x(201)](".card").forEach($=>{let e=x,t=$[e(148)](e(296)),a=$[e(148)]('input[type="number"]')?.[e(326)],o=$[e(148)]('input[type="number"]');t&&a&&o&&(o[e(360)]="1",a[e(309)][e(107)]=e(333),a[e(309)][e(385)]="0",a[e(309)][e(343)]="scale(0.8)",t[e(309)].display=e(364),t[e(309)][e(385)]="1",t[e(309)].transform=e(377),t.style[e(289)]="",t[e(309)].color="",t[e(309)][e(359)]="")}),actualizarCarrito(),guardarCarritoLocal()}function enviarPedido(){let x=_0xba18c4;if(0===carrito[x(151)]){alert("El carrito est\xe1 vac\xedo. Agrega productos antes de continuar.");return}if(modoEdicion){enviarPedidoFinal();return}let $=document[x(294)](x(225));$&&($[x(309)][x(107)]="flex")}function enviarPedidoFinal(){let x=_0xba18c4;if(modoEdicion&&pedidoEditId){let $=db[x(256)]("pedidos/"+pedidoEditId);$.once(x(360))[x(234)](e=>{let t=x;if(!e[t(254)]()){alert(t(226));return}let a=e[t(356)]();if(a[t(247)]){alert(t(372));return}return carrito.forEach(x=>{let $=t,e=a[$(228)][$(229)](e=>e.nombre===x[$(378)]);e>-1?a[$(228)][e].cantidad+=x[$(350)]:a[$(228)][$(183)]({nombre:x.nombre,cantidad:x[$(350)],valorUSD:x.precio,codigo:x[$(371)]||"",categoria:x.categoria||""})}),a[t(336)]={nombre:datosExtraCliente[t(378)]||a[t(336)]?.[t(378)]||"",telefono:datosExtraCliente[t(115)]||a[t(336)]?.[t(115)]||"",localidad:datosExtraCliente[t(173)]||a[t(336)]?.localidad||"",direccion:datosExtraCliente.direccion||a[t(336)]?.[t(346)]||"",provincia:datosExtraCliente[t(271)]||a[t(336)]?.[t(271)]||"",dni:String(datosExtraCliente.dni||a[t(336)]?.[t(113)]||""),email:datosExtraCliente[t(253)]||a.cliente?.[t(253)]||"",tipoCliente:datosExtraCliente.tipoCliente||a[t(336)]?.tipoCliente||t(338)},$.update({items:a[t(228)],cliente:a[t(336)],adminViewed:!1,lastUpdated:Date.now()})})[x(234)](()=>{alert("\xa1Art\xedculos agregados exitosamente al pedido!"),setTimeout(()=>{let x=_0x2c29;window.location[x(331)]("pedidos.html?id="+pedidoEditId)},300)})[x(314)]($=>{let e=x;console[e(147)](e(233),$),alert(e(204)+$[e(212)])});return}if(0===carrito[x(151)]){alert("El carrito est\xe1 vac\xedo.");return}let e=datosExtraCliente[x(253)]||"";db[x(256)](x(399))[x(316)](x(253))[x(347)](e[x(405)]())[x(332)](1)[x(355)](x(360)).then($=>{let t=x;return!$[t(254)]()&&e?db[t(256)](t(399))[t(183)]({email:e[t(405)](),nombre:datosExtraCliente.nombre||"",telefono:datosExtraCliente[t(115)]||"",localidad:datosExtraCliente.localidad||"",direccion:datosExtraCliente[t(346)]||"",provincia:datosExtraCliente[t(271)]||"",dni:String(datosExtraCliente[t(113)]||""),tipoCliente:datosExtraCliente.tipoCliente||"mayorista",registro:t(250)}):Promise[t(187)]()})[x(234)](()=>{let $=x,e=db[$(256)]($(196)).push(),t=e[$(213)],a={id:t,timestamp:Date.now(),locked:!1,adminViewed:!1,createdby:"web",status:$(231),cliente:{nombre:datosExtraCliente[$(378)]||"",telefono:datosExtraCliente[$(115)]||"",localidad:datosExtraCliente[$(173)]||"",direccion:datosExtraCliente[$(346)]||"",provincia:datosExtraCliente[$(271)]||"",dni:String(datosExtraCliente.dni||""),email:datosExtraCliente[$(253)]||"",tipoCliente:datosExtraCliente[$(374)]||$(338)},items:carrito.map(x=>({nombre:x[$(378)],cantidad:x[$(350)],valorUSD:x[$(301)],codigo:x.codigo||"",categoria:x[$(262)]||""}))};return e[$(383)](a)[$(234)](()=>t)}).then($=>{let e=x;datosExtraCliente[e(253)]&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/[e(127)](datosExtraCliente[e(253)])&&emailjs[e(313)]("service_lu9cpxk","template_xqo1j5z",{email:datosExtraCliente[e(253)],name:datosExtraCliente[e(378)],linkPedido:e(202)+$})[e(234)](function(x){let $=e;console[$(362)]($(337),x[$(150)],x[$(334)])},function(x){console[e(147)]("Error enviando email:",x)}),mostrarModalPedidoConfirmado($,datosExtraCliente[e(253)]),limpiarCarrito(),datosExtraCliente={}}).catch($=>{let e=x;console[e(147)](e(223),$),alert(e(340)+$[e(212)])})}window.addEventListener("resize",()=>{let x=_0xba18c4;if(typeof currentPage!==x(193)){let $=datosFiltrados.length>0?datosFiltrados:productos;actualizarPaginacion(currentPage,$)}}),document[_0xba18c4(294)](_0xba18c4(264))[_0xba18c4(142)](_0xba18c4(381),x=>{let $=_0xba18c4;x[$(306)](),currentLightboxImages.length>0&&(currentImageIndex=(currentImageIndex+1)%currentLightboxImages[$(151)],document[$(294)]($(243))[$(357)]=currentLightboxImages[currentImageIndex])}),document[_0xba18c4(294)](_0xba18c4(152))[_0xba18c4(142)]("click",x=>{let $=_0xba18c4;x.stopPropagation(),currentLightboxImages[$(151)]>0&&(currentImageIndex=(currentLightboxImages[$(151)]+currentImageIndex-1)%currentLightboxImages[$(151)],document[$(294)]("lightbox-img")[$(357)]=currentLightboxImages[currentImageIndex])}),document[_0xba18c4(294)](_0xba18c4(243))[_0xba18c4(142)]("error",function(){let x=_0xba18c4;currentLightboxImages[x(151)]>0&&0!==currentImageIndex&&(currentImageIndex=0,this[x(357)]=currentLightboxImages[0])}),document[_0xba18c4(142)](_0xba18c4(215),function(){let x=_0xba18c4;document[x(294)](x(221))[x(126)]=MARQUEE_TEXT,document[x(294)](x(396))[x(126)]=MARQUEE_TEXT,cargarCarritoLocal()});const ultimoPedidoBtn=document.getElementById(_0xba18c4(172)),ultimoPedidoModal=document.getElementById(_0xba18c4(177)),closeUltimoPedidoModal=document[_0xba18c4(294)](_0xba18c4(207)),buscarUltimoPedidoBtn=document.getElementById(_0xba18c4(328)),ultimoPedidoEmailInput=document.getElementById(_0xba18c4(308)),buscarBtnText=document.getElementById(_0xba18c4(149)),buscarSpinner=document[_0xba18c4(294)](_0xba18c4(112)),ultimoPedidoMensaje=document.getElementById(_0xba18c4(272));function mostrarMensajeBusqueda(x,$){let e=_0xba18c4,t=ultimoPedidoMensaje,a=t[e(148)](e(176)),o=t.querySelector(e(307));x===e(147)?(t.style[e(175)]="#fee",t[e(309)][e(403)]=e(273),t.style[e(389)]=e(174),a[e(118)]=e(114)):x===e(261)?(t[e(309)][e(175)]="#e6ffed",t[e(309)].borderLeft="4px solid #48bb78",t[e(309)].color=e(139),a[e(118)]=e(279)):x===e(130)&&(t[e(309)][e(175)]=e(300),t[e(309)][e(403)]="4px solid #4299e1",t[e(309)][e(389)]="#2b6cb0",a[e(118)]=e(200)),o[e(395)]=$,t[e(309)][e(107)]=e(319),t[e(309)][e(265)]=e(287)}function ocultarMensajeBusqueda(){let x=_0xba18c4;ultimoPedidoMensaje[x(309)][x(107)]=x(333)}function setEstadoCargaBusqueda(x){let $=_0xba18c4;buscarUltimoPedidoBtn[$(368)]=x,buscarUltimoPedidoBtn.style.opacity=x?$(293):"1",buscarUltimoPedidoBtn[$(309)][$(335)]=x?$(323):"pointer",buscarBtnText[$(309)][$(107)]=x?"none":"inline",buscarSpinner[$(309)][$(107)]=$(x?364:333),ultimoPedidoEmailInput[$(368)]=x}ultimoPedidoBtn[_0xba18c4(142)](_0xba18c4(381),function(){let x=_0xba18c4;ultimoPedidoModal[x(309)][x(107)]=x(319),ultimoPedidoEmailInput[x(360)]="",ocultarMensajeBusqueda(),setTimeout(()=>ultimoPedidoEmailInput[x(137)](),100)}),closeUltimoPedidoModal[_0xba18c4(142)]("click",function(){let x=_0xba18c4;ultimoPedidoModal[x(309)][x(107)]=x(333),ocultarMensajeBusqueda()}),ultimoPedidoModal.addEventListener(_0xba18c4(232),function(x){let $=_0xba18c4;x.target===ultimoPedidoModal&&(ultimoPedidoModal[$(309)].display=$(333),ocultarMensajeBusqueda())}),buscarUltimoPedidoBtn.addEventListener(_0xba18c4(381),function(){let x=_0xba18c4,$=ultimoPedidoEmailInput[x(360)][x(169)]()[x(405)]();if(ocultarMensajeBusqueda(),!$||!/^[^@\s]+@[^@\s]+\.[^@\s]+$/[x(127)]($)){mostrarMensajeBusqueda("error",x(402)),ultimoPedidoEmailInput[x(137)]();return}setEstadoCargaBusqueda(!0),db[x(256)]("pedidos").orderByChild("cliente/email")[x(347)]($).once(x(360))[x(234)]($=>{let e=x;if(setEstadoCargaBusqueda(!1),!$[e(254)]()){mostrarMensajeBusqueda(e(147),e(312));return}let t=null;$[e(388)](x=>{let $=x.val();(!t||$.timestamp>t[e(167)])&&(t=$)}),t&&t.id?(mostrarMensajeBusqueda("success",e(386)),setTimeout(()=>{let x=e;window.open(x(278)+t.id,"_blank"),ultimoPedidoModal.style[x(107)]="none",ocultarMensajeBusqueda(),ultimoPedidoEmailInput.value=""},800)):mostrarMensajeBusqueda("error",e(312))}).catch(()=>{let $=x;setEstadoCargaBusqueda(!1),mostrarMensajeBusqueda($(147),$(349))})}),ultimoPedidoEmailInput[_0xba18c4(142)]("keydown",function(x){let $=_0xba18c4;x[$(213)]===$(163)&&buscarUltimoPedidoBtn[$(381)]()}),document[_0xba18c4(142)](_0xba18c4(215),function(){let x=_0xba18c4,$=document[x(294)]("carousel-pie-images");if($){let e=$[x(201)](x(352)),t=0;e[x(151)]>0&&setInterval(()=>{t=(t+1)%e[x(151)],function e(){let a=x,o=-(100*t);$[a(309)].transform=a(373)+o+"%)"}()},5e3)}});
